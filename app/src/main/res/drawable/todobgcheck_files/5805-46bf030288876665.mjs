(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[5805],{829932:n=>{n.exports=function(n,a){for(var t=-1,e=null==n?0:n.length,s=Array(e);++t<e;)s[t]=a(n[t],t,n);return s}},880531:(n,a,t)=>{var e=t(562705),s=t(829932),i=t(701469),r=t(733448),o=e?e.prototype:void 0,p=o?o.toString:void 0;n.exports=function n(a){if("string"==typeof a)return a;if(i(a))return s(a,n)+"";if(r(a))return p?p.call(a):"";var t=a+"";return"0"==t&&1/a==-Infinity?"-0":t}},479833:(n,a,t)=>{var e=t(880531);n.exports=function(n){return null==n?"":e(n)}},129291:(n,a,t)=>{t.d(a,{MH:()=>p,ad:()=>o,iN:()=>m});var e=t(7789),s=t(584992);const{Provider:i,useHook:r}=(0,s.Z)({name:"board_picker",sampleRate:e.DQ?1:.1}),o=(n,a)=>{let t="unknown";null!=a&&a.includes("pin/")?t="PinCloseup":"/"===a?t="HomeFeed":"PinBookMarklet"===a&&(t="PinBookmarklet"),null==n||n.addBinaryAnnotation("source",t,"STRING")},p=i,m=r},584992:(n,a,t)=>{t.d(a,{Z:()=>N});var e=t(667294),s=t(425288),i=t(404646),r=t(729524),o=t(860273),p=t(169213),m=t(358864),c=t(558775),u=t(505771),d=t(985271),l=t(383434),b=t(543059),y=t(453821),g=t(638089),T=t(607150),A=t(790348);const h=(0,l.X)("PwtStopwatch"),I=(n,a)=>{if(d.Z){if("start"===a.type&&!n.isTiming){const{name:t,startTime:e,navigationType:s}=a;return(0,A.A9)(`TIMING.${t}`),{isTiming:!0,name:t,isSampled:a.isSampled,startTime:"number"==typeof e?e:d.Z.now(),metricId:{type:"stopwatch",name:t,navigationType:s},pwtStaticContext:a.pwtStaticContext,annotations:n.annotations,binaryAnnotations:n.binaryAnnotations,spans:n.spans,traceId:n.traceId,spanNameUpdates:n.spanNameUpdates}}if(!n.isTiming){if(!a.bypassIsTimingCheck){const t=a.name||n.name;return h("ignoring action - stopwatch is not actively timing",a),(0,A.A9)(`WARN.${t}.noTiming.${a.type}`),n}h("allowing action while stopwatch is not actively timing (bypassIsTimingCheck is set to true)",a)}if("annotate"===a.type){const t=d.Z.now();return h(`adding annotation {${a.label}: ${t}}`),{...n,annotations:n.annotations.concat([{label:a.label,timestamp:t}])}}if("binaryAnnotate"===a.type)return h(`adding binary annotation {${a.name}: ${String(a.value)}}`),{...n,binaryAnnotations:{...n.binaryAnnotations,[a.name]:{value:a.value,type:a.annotationType}}};if("binaryAnnotateOperation"===a.type){const{value:t,type:e}=a.binaryAnnotationValueAndType;if(n.binaryAnnotations[a.name]){const s=n.binaryAnnotations[a.name].value||0;return h(`operating on binary annotation {\n          name: ${a.name}\n          pervious value: ${String(s)}\n          operand: ${String(t)}\n        }`),{...n,binaryAnnotations:{...n.binaryAnnotations,[a.name]:{value:t?a.operation(s,t):s,type:e}}}}return{...n,binaryAnnotations:{...n.binaryAnnotations,[a.name]:{value:t,type:e}}}}if("addSubspan"===a.type){h(`adding subspan {${a.name}}`);-1!==n.spans.findIndex((n=>n.name===a.name))&&h(`WARNING: adding duplicate subspan name {${a.name}}`);const t=a.id||(0,m.Z)();-1!==n.spans.findIndex((n=>n.id===t))&&h(`WARNING: adding duplicate subspan id {${a.name}: ${t}}`);let e=0;return a.startTime?e=a.startTime:n.startTime?e=n.startTime:h(`WARNING: adding subspan {${a.name}} without start time`),{...n,spans:[...n.spans,{name:a.name,id:t,startTime:e,endTime:a.endTime||1/0,annotationMap:{...a.annotations},binaryAnnotationMap:{...a.binaryAnnotations},parentId:a.parentId}]}}if("subspanStart"===a.type){var t;h(`starting subspan {${a.name}}`);-1!==n.spans.findIndex((n=>n.name===a.name))&&h(`WARNING: starting duplicate subspan name {${a.name}}`);const e=a.id||(0,m.Z)();-1!==n.spans.findIndex((n=>n.id===e))&&h(`WARNING: starting duplicate subspan id {${a.name}: ${e}}`);const s=a.parentName?null===(t=n.spans.find((n=>n.name===a.parentName)))||void 0===t?void 0:t.id:null;return{...n,spans:[...n.spans,{name:a.name,id:e,parentId:a.parentId||s,startTime:d.Z.now(),endTime:1/0,annotationMap:{...a.annotations},binaryAnnotationMap:{...a.binaryAnnotations}}]}}if("subspanStop"===a.type){if(h(`stopping subspan {${a.name}}`),!a.id){n.spans.reduce(((n,t)=>(t.name===a.name&&n.push(t),n)),[]).length>1&&(0,A.H)("duplicate_subspan_stop_name",{name:a.name,type:a.type})}const t=a.id?n.spans.findIndex((n=>n.id===a.id)):n.spans.findIndex((n=>n.name===a.name));return t>-1?(n.spans[t].endTime=d.Z.now(),a.annotations&&(n.spans[t].annotationMap={...n.spans[t].annotationMap,...a.annotations}),a.binaryAnnotations&&(n.spans[t].binaryAnnotationMap={...n.spans[t].binaryAnnotationMap,...a.binaryAnnotations})):(0,A.H)("invalid_subspan_stop_name",{name:a.name}),n}if("subspanUpdateName"===a.type){n.spans.reduce(((n,t)=>(t.name===a.currentName&&n.push(t),n)),[]).length>1&&(0,A.H)("duplicate_subspan_stop_name",{name:a.currentName,type:a.type});const t=n.spans.findIndex((n=>n.name===a.currentName));return t>-1?a.updateWhenStopwatchCompletes?n.spanNameUpdates=[...n.spanNameUpdates,{currentName:a.currentName,newName:a.newName}]:(h(`renaming subspan {${a.currentName}} to {${a.newName}}`),n.spans[t].name=a.newName):(0,A.H)("no_subspan_found_to_rename",{name:a.currentName}),n}if("stop"===a.type&&n.isTiming){const{startTime:t,metricId:e,pwtStaticContext:s,annotations:i,binaryAnnotations:p,isSampled:l,spans:A,traceId:I}=n;if(a.stopwatchPerformanceObserver&&a.stopwatchPerformanceObserver.disconnect(),l){const l=a.stopTime||d.Z.now(),f=[...A.map((a=>{a.endTime===1/0&&(a.endTime=l);const t=n.spanNameUpdates.findIndex((n=>a.name===n.currentName));return t>-1&&(h(`renaming subspan {${a.name}} to {${n.spanNameUpdates[t].newName}}`),a.name=n.spanNameUpdates[t].newName,n.spanNameUpdates=n.spanNameUpdates.filter((n=>n.newName!==a.name))),a}))];if(a.manualAndResourceSpans||0===A.length){const n=(0,m.Z)();f.push({name:"network_resources",id:n,startTime:t,endTime:l,annotationMap:{},binaryAnnotationMap:{},parentId:null},...(a.customStopwatchBuffer||[]).map((a=>(0,u.Z)((0,y.p)(a,[]),n))).filter(Boolean))}const _="initial_app_load"===e.navigationType&&(0,o.Z)(),N={type:"COMPLETE",traceId:I,startTime:t,endTime:l,spans:f,annotationMap:{...(0,r.Z)(i),...(0,T.jh)("browser_",_?(0,T.D3)(_):{}),...(0,T.jh)("mark_",(0,b.gQ)())},binaryAnnotationMap:(0,g.ng)({metricId:e,pwtStaticContext:s,binaryAnnotations:p,performanceResourceTimings:a.customStopwatchBuffer||[]})};(0,c.Z)({metricId:e,pwtStaticContext:s,result:N})}return{isTiming:!1,name:n.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}}if("error"===a.type){const{error:t,stopwatchPerformanceObserver:e}=a;return t&&(0,A.H)(t),e&&e.disconnect(),{isTiming:!1,name:n.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}}if("abort"===a.type&&n.isTiming){a.stopwatchPerformanceObserver&&a.stopwatchPerformanceObserver.disconnect();const{metricId:t,pwtStaticContext:e}=n,s=a.reason||"";return(0,c.Z)({metricId:t,pwtStaticContext:e,result:{type:"ABORT",reason:s}}),{isTiming:!1,name:n.name,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]}}}return n},f=({name:n,sampleRate:a,navigationType:t,manualAndResourceSpans:s=!1})=>{const r=(0,i.N5)(),o=(0,e.useRef)([]),c=(0,e.useRef)(null),[u,d]=(0,e.useReducer)(I,{isTiming:!1,name:n,annotations:[],binaryAnnotations:{},spans:[],traceId:(0,m.Z)(),spanNameUpdates:[]});return r?{isTiming:u.isTiming,start:e=>{if(window.PerformanceObserver){const n=1e3;o.current=[],c.current=(0,p.Z)({entryTypes:["resource"]},(a=>{o.current=o.current.concat(a.getEntries()),o.current.length>n&&(o.current=o.current.slice(-n))}))}const s={type:"start",startTime:e,name:n,navigationType:t,pwtStaticContext:r,isSampled:!a||Math.random()<a};return d(s)},stop:n=>d({type:"stop",stopTime:n,stopwatchPerformanceObserver:c.current,customStopwatchBuffer:o.current,manualAndResourceSpans:s}),error:n=>{d({type:"error",stopwatchPerformanceObserver:c.current,error:n})},abort:n=>d({type:"abort",stopwatchPerformanceObserver:c.current,customStopwatchBuffer:o.current,reason:n}),annotate:(n,a,t=!1)=>d({type:"annotate",label:n,parentId:a,bypassIsTimingCheck:t}),binaryAnnotate:(n,a,t,e,s=!1)=>d({type:"binaryAnnotate",name:n,value:a,annotationType:t,parentId:e,bypassIsTimingCheck:s}),binaryAnnotateOperation:({name:n,binaryAnnotationValueAndType:a,operation:t,parentId:e,bypassIsTimingCheck:s=!1})=>d({type:"binaryAnnotateOperation",name:n,binaryAnnotationValueAndType:a,operation:t,parentId:e,bypassIsTimingCheck:s}),addSubspan:({name:n,startTime:a,endTime:t,annotations:e={},binaryAnnotations:s={},parentId:i=null,id:r=null,bypassIsTimingCheck:o=!1})=>d({type:"addSubspan",name:n,startTime:a,endTime:t,annotations:e,binaryAnnotations:s,parentId:i,id:r,bypassIsTimingCheck:o}),subspanStart:({name:n,annotations:a={},binaryAnnotations:t={},parentId:e=null,parentName:s=null,id:i=null,bypassIsTimingCheck:r=!1})=>d({type:"subspanStart",name:n,annotations:a,binaryAnnotations:t,parentId:e,parentName:s,id:i,bypassIsTimingCheck:r}),subspanStop:({name:n,annotations:a,binaryAnnotations:t,id:e,parentId:s,bypassIsTimingCheck:i=!1})=>d({type:"subspanStop",name:n,annotations:a,binaryAnnotations:t,id:e,parentId:s,bypassIsTimingCheck:i}),subspanUpdateName:({currentName:n,newName:a,bypassIsTimingCheck:t,updateWhenStopwatchCompletes:e=!0})=>d({type:"subspanUpdateName",currentName:n,newName:a,bypassIsTimingCheck:t,updateWhenStopwatchCompletes:e}),getSpans:(n,a)=>u.spans.filter((t=>t[n]===a)),getTraceId:()=>u.traceId}:null};var _=t(785893);const N=({name:n,sampleRate:a,abortOnUnloadOrClientNavigation:t=!0,navigationType:r,manualAndResourceSpans:o=!1})=>{const{Provider:p,useMaybeHook:m}=(0,s.Z)(`Stopwatch_${n}`);return{Provider:function({children:s}){const m=f({name:n,sampleRate:a,navigationType:r,manualAndResourceSpans:o}),c=(0,i.fM)(),u=c?c.time:0,d=(0,e.useRef)(!1),l=null==m?void 0:m.isTiming,b=(0,e.useCallback)((a=>{d.current?(d.current=!1,null==m||m.abort(a)):(0,A.A9)(`WARN.${n}.noTiming.abort`)}),[m]),y=(0,e.useCallback)(((n,a)=>{null==m||m.annotate(n,a)}),[m]),g=(0,e.useCallback)(((n,a,t,e)=>{null==m||m.binaryAnnotate(n,a,t,e)}),[m]),T=(0,e.useCallback)((({name:n,binaryAnnotationValueAndType:a,operation:t,parentId:e,bypassIsTimingCheck:s})=>{null==m||m.binaryAnnotateOperation({name:n,binaryAnnotationValueAndType:a,operation:t,parentId:e,bypassIsTimingCheck:s})}),[m]),h=(0,e.useCallback)((({name:n,startTime:a,endTime:t,annotations:e,binaryAnnotations:s,parentId:i,id:r,bypassIsTimingCheck:o})=>{null==m||m.addSubspan({name:n,startTime:a,endTime:t,annotations:e,binaryAnnotations:s,parentId:i,id:r,bypassIsTimingCheck:o})}),[m]),I=(0,e.useCallback)((({name:n,annotations:a,binaryAnnotations:t,parentId:e,parentName:s,id:i,bypassIsTimingCheck:r})=>{null==m||m.subspanStart({name:n,annotations:a,binaryAnnotations:t,parentId:e,parentName:s,id:i,bypassIsTimingCheck:r})}),[m]),N=(0,e.useCallback)((({name:n,annotations:a,binaryAnnotations:t,id:e,parentId:s,bypassIsTimingCheck:i})=>{null==m||m.subspanStop({name:n,annotations:a,binaryAnnotations:t,id:e,parentId:s,bypassIsTimingCheck:i})}),[m]),w=(0,e.useCallback)((({currentName:n,newName:a,bypassIsTimingCheck:t,updateWhenStopwatchCompletes:e})=>{null==m||m.subspanUpdateName({currentName:n,newName:a,bypassIsTimingCheck:t,updateWhenStopwatchCompletes:e})}),[m]),S=(0,e.useCallback)(((n,a)=>m?m.getSpans(n,a):[]),[m]),C=(0,e.useCallback)((()=>m?m.getTraceId():0),[m]),k=(0,e.useCallback)((a=>{d.current?(d.current=!1,null==m||m.error(a)):(0,A.A9)(`WARN.${n}.noTiming.error`)}),[m]),v=(0,e.useCallback)((n=>{d.current&&(null==m||m.abort("duplicated_init_stopwatch_action")),d.current=!0,null==m||m.start(n)}),[m]),x=(0,e.useCallback)((a=>{d.current?(d.current=!1,null==m||m.stop(a)):(0,A.A9)(`WARN.${n}.noTiming.stop`)}),[m]);(0,e.useEffect)((()=>()=>{t&&b("unloadOrClientNavigation")}),[u]);const R=(0,e.useMemo)((()=>({isTiming:l,abort:b,addAnnotation:y,addBinaryAnnotation:g,binaryAnnotationOperation:T,addSubspan:h,subspanStart:I,subspanStop:N,getSpans:S,getTraceId:C,updateSubspanName:w,stop:x,error:k,start:v})),[l,b,y,g,T,h,I,N,S,C,w,x,k,v]);return(0,_.jsx)(p,{value:R,children:s})},useHook:m}}},311560:(n,a,t)=>{t.d(a,{Z:()=>e});const e=n=>{switch(n){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},813171:(n,a,t)=>{t.d(a,{Z:()=>e});class e extends Error{constructor(...n){var a,t,e;super(...n),e="ServerResourceError",(t="name")in(a=this)?Object.defineProperty(a,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[t]=e}static fromPlainObject(n,a){const t=new e;return n.message&&(t.message=n.message),n.message_detail&&(t.message_detail=n.message_detail),n.original_message&&(t.original_message=n.original_message),n.code&&(t.code=n.code),n.http_status&&(t.http_status=n.http_status),n.api_error_code&&(t.api_error_code=n.api_error_code),n.stack_trace&&(t.stack_trace=n.stack_trace),n.extra_data&&(t.extra_data=n.extra_data),n.request_identifier&&(t.request_identifier=n.request_identifier),a&&(t.data=a),t}toString(){return"["+this.name+"] "+JSON.stringify({name:this.name,code:this.code,http_status:this.http_status,api_error_code:this.api_error_code,stack_trace:this.stack_trace,extra_data:this.extra_data,request_identifier:this.request_identifier})}}},149230:(n,a,t)=>{t.d(a,{Z:()=>s});var e=t(954931);const s=({url:n})=>!(!n||!n.match(/^https{0,1}:\/\//)||(0,e.Z)(n))},934523:(n,a,t)=>{t.d(a,{L1:()=>i,Rz:()=>p,WZ:()=>r,cI:()=>s,fe:()=>o,hu:()=>e});const e=64,s=80,i=22,r="HeaderContent",o=671,p={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/5805-46bf030288876665.mjs.map