(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[22545],{580744:(e,t,i)=>{i.d(t,{Z:()=>p});var s=i(509860),n=i(567831),a=i(794230);function o(e,t,i){const s=function(e,t){const i=window.screen.width,s=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((i-e)/2)+",top="+(s>t?Math.round((s-t)/2):0)}(t,i);window.open(e,void 0,s)}const r={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){o(r._getWindowUrl(e.share_path,e.share_text),r.DIALOG_WIDTH,r.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,a.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,n.Z)(e):void 0,text:t})},l=r;var c=i(6637);const d={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){o(d._getWindowUrl(e.tweet_path,e.tweet_text),d.DIALOG_WIDTH,d.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,a.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,n.Z)(e):void 0,text:t||void 0})},h=d,_={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const i=this._convertToInviteObject(e.object_type),s=e.invite_channel,n=null==e.invite_category?3:e.invite_category,a=e.object_id;return c.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:n,invite_object:i,invite_channel:s},invite_code:t,object_id:a}).callCreate()},createAndLogShareInvite:e=>_.createShareInviteData(e).then((t=>(_._logShareInvite(e,t.invite_code),Promise.resolve(t))),(e=>Promise.reject(e))),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),i=e.invite_channel,s=null==e.invite_category?3:e.invite_category,n=e.orbac_subject_id;if(10===s&&e.path){return c.Z.create("ShareLinkResource",{invite_category:s,url:e.path}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}{const a=e.object_id;return c.Z.create("CreateExternalInviteResource",{invite_type:{invite_category:s,invite_object:t,invite_channel:i},object_id:a,...n?{orbac_subject_id:n}:{}}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}},logShareInvite(e,t){t&&_._logShareInvite(e,t.invite_code)},shareFacebookInvite(e){const{options:t,unauthId:i,viewer:n}=e;return _.createShareInviteData(t).then((e=>{const a=e.invite_url,o=e.invite_code;if(a){const r={type:"share",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:a,picture:t.picture,callback(e){e&&!e.error_message&&_._logShareInvite(t,o)}};s.default.open({...r,display:"popup",unauthId:i,viewer:n})}return Promise.resolve(e)}),(e=>Promise.reject(e)))},shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return _.createShareInviteData(e).then((i=>{const s=i.invite_url,n=i.invite_code;let a=e.description;return 6===t&&e.name&&(a=e.name),a.trim()||(a=`${i.title}\n`),s&&h.openDialog({tweet_path:s,tweet_text:a}),_._logShareInvite(e,n),Promise.resolve(i)}),(e=>Promise.reject(e)))},shareLineInvite(e){const t=this._convertToInviteObject(e.object_type);return _.createShareInviteData(e).then((i=>{const s=i.invite_url,n=i.invite_code;let a=e.description;return 6===t&&e.name&&(a=e.name),a.trim()||(a=`${i.title}\n`),s&&l.openDialog({share_path:s,share_text:a}),_._logShareInvite(e,n),Promise.resolve(i)}),(e=>Promise.reject(e)))},shareFbMessengerInvite(e){const{options:t,unauthId:i,viewer:n}=e;return _.createShareInviteData(t).then((e=>{const a=e.invite_url,o=e.invite_code;return a&&s.default.open({type:"send",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:a,picture:t.picture,callback(e){e&&e.success&&_._logShareInvite(t,o)},unauthId:i,viewer:n}),Promise.resolve(e)}),(e=>Promise.reject(e)))}},p=_},935879:(e,t,i)=>{i.d(t,{Z:()=>s});const s=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},31149:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(785893);function n({size:e=56}){return(0,s.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,s.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},659522:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(785893);function n({size:e=56}){return(0,s.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,s.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,s.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},331744:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(785893);function n({size:e=56}){return(0,s.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,s.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,s.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,s.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},464240:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(785893);function n({size:e=56}){return(0,s.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,s.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,s.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},22641:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(785893);function n({size:e=56}){return(0,s.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,s.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,s.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},482981:(e,t,i)=>{i.d(t,{Z:()=>n});var s=i(784641);function n(e){const{article_creator_user:t,display_type:i,feed_source:n,header_pin_id:a,id:o,title:r,video_pin:l}=e;switch(i){case 0:case 1:return r?(0,s.T7)(n,r,o):"";case 8:return null!=t&&t.username?`/${encodeURIComponent(t.username)}/`:"";case 3:case 6:return a?`/pin/${a}/`:"";case 2:return null!=l&&l.id?`/pin/${l.id}/`:"";default:return""}}},207112:(e,t,i)=>{i.d(t,{Z:()=>r});var s=i(667294),n=i(883119),a=i(785893);class o extends s.Component{constructor(e){var t,i,n;super(e),n={manualTruncate:!1},(i="state")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.ref=(0,s.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,s=this.ref&&this.ref.current;if(!s)return;const n=void 0===s.textContent?"innerText":"textContent",a=s[n];("boolean"!=typeof t.spaces||t.spaces?a.split(" "):a).length<2?this.setState({manualTruncate:!0}):i.e(14118).then(i.bind(i,448433)).then((({default:i})=>{i(s,e,t)}))}render(){const{maxWidthPx:e,maxHeightPx:t,inline:i=!1}=this.props,{manualTruncate:s}=this.state,o={maxWidth:e,maxHeight:t},r=i?{display:"inline",...o}:{...o};return s?(0,a.jsx)(n.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:r},ref:this.ref,children:this.props.children}):(0,a.jsx)(n.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:r},children:this.props.children})}}const r=o},758523:(e,t,i)=>{i.d(t,{$:()=>a,B:()=>n});var s=i(425288);const{Provider:n,useHook:a}=(0,s.Z)("SurfaceContext",{surface:"Unknown"})},812446:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(545846),n=i(112690),a=i(785893);function o(e){return t=>{const i=(0,n.Z)();return(0,a.jsx)(s.Z,{ref:t.shareButtonRef,Subject:e,logContextEvent:i,...t})}}},545846:(e,t,i)=>{i.d(t,{Z:()=>u});var s=i(667294),n=i(482981),a=i(451204),o=i(121151),r=i(837727),l=i(946984),c=i(883119),d=i(785893);function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const _=new c.Ry(1),p=({children:e})=>e((0,l.Z)({shouldStopEventPropagation:!1}));class u extends s.Component{constructor(...e){super(...e),h(this,"handleDismiss",(()=>{const{onFlyoutDismiss:e}=this.props;e()})),h(this,"onHide",(()=>{this.props.onClick(),this.handleDismiss()})),h(this,"flyoutProps",(()=>{var e;const{gridDescription:t,idealDirection:i,imageSrc:s,pinId:o,userId:l,board:c,sendType:h,url:_,fullName:p,profileUrl:u,viewParameter:g,viewType:x,onExternalSend:m,showCaret:v,todayArticle:b,ownerId:j}=this.props;let w={description:t,id:o,imageUrl:s,name:"",type:r.d.PIN,url:`/pin/${o}/`,ownerId:j},f=r.d.PIN;switch(h){case"user":w={description:t,id:l,imageUrl:s,name:p,type:r.d.PINNER,url:u},f=r.d.USER;break;case"board":w=c&&{description:c.description,id:c.id,imageUrl:c.imageUrl,name:c.name,type:r.d.BOARD,url:c.url,ownerId:null===(e=c.owner)||void 0===e?void 0:e.id},f=r.d.BOARD;break;case"today_article":w=b&&{description:b.subtitle||"",id:b.id,imageUrl:s,name:b.title,type:r.d.TODAY_ARTICLE,url:(0,n.Z)(b)},f=r.d.TODAY_ARTICLE;break;case"search":w={...w,type:r.d.SEARCH,url:_},f=r.d.SEARCH}const y={onHide:this.onHide,onExternalSend:m,sendType:f,sharedObject:w,viewParameter:g,viewType:x};return{anchor:this.flyoutAnchor,idealDirection:i,onDismiss:this.handleDismiss,showCaret:v,children:(0,d.jsx)(a.default,{...y})}}))}toggle(){const{isOwnProfile:e,onToggleFlyout:t,sendType:i,userId:s,logContextEvent:n}=this.props;"user"===i&&n({event_type:101,component:13675,element:1079,object_id_str:s,view_type:4,view_parameter:e?3106:3107}),t()}render(){const{Subject:e,inModal:t,isFlyoutOpen:i,shownWithinMasonry:s,shownWithinProfileHeader:n}=this.props,{anchor:a,idealDirection:r,onDismiss:l,showCaret:h,children:u}=this.flyoutProps();return(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,d.jsx)(c.xu,{ref:e=>{e&&(this.flyoutAnchor=e)},children:(0,d.jsx)(p,{children:t=>(0,d.jsx)(e,{handleSendShareFlyoutButtonClick:t((e=>{null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle()})),...this.props})})}),i&&(s||n?(0,d.jsx)(c.mh,{zIndex:n?_:void 0,children:(0,d.jsx)(c.xu,{zIndex:t?o.b7:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:(0,d.jsx)(c.J2,{anchor:a,idealDirection:r,onDismiss:l,showCaret:h,size:"flexible",positionRelativeToAnchor:!1,children:u})})}):(0,d.jsx)(c.J2,{anchor:a,idealDirection:r,onDismiss:l,showCaret:h,size:"flexible",children:u}))]})}}h(u,"defaultProps",{idealDirection:"down",onClick:()=>{}})},655747:(e,t,i)=>{i.d(t,{Z:()=>c,j:()=>l});var s=i(898781),n=i(349700),a=i(773285),o=i(883119),r=i(785893);const l=[0,2,3];function c({hasAffiliateProducts:e,href:t,isPromoted:i,onNavigateSponsorClick:c,sponsorName:d,sponsorshipStatus:h,textWeight:_="bold"}){const p=(0,s.ZP)(),u=(0,a.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,g=(0,a.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,x=d?(0,r.jsx)(o.rU,{href:t||`/${d}/`,onClick:c,children:(0,r.jsx)(o.xv,{weight:_,size:"200",children:d})},d):void 0;let m;i?m=(0,n.nk)(p._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:x}):h||0===h?d&&!l.includes(h)?m=(0,n.nk)(p._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:x}):g&&2===h||(m=p._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(m=p._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const v=u&&!i?"Ad • ":"";return(0,r.jsxs)(o.xv,{inline:!0,size:"200",lineClamp:2,children:[v,m]})}},499155:(e,t,i)=>{i.r(t),i.d(t,{default:()=>x});var s=i(667294),n=i(898781),a=i(883119),o=i(785893);function r({size:e,iconColor:t,backgroundColor:i,disabled:s,onClick:r}){const l=(0,n.ZP)(),c=48===e?"lg":"xl";return(0,o.jsx)(a.hU,{accessibilityLabel:l._('Copy Link', 'shareMenu.icon.accessibilityLabel.copy', 'button to let users copy link directly'),bgColor:i,icon:"link",iconColor:t,size:c,disabled:s,onClick:r})}var l=i(239324),c=i(518604),d=i(499128),h=i(53987),_=i(773285),p=i(276775),u=i(343341),g=i(580744);function x({backgroundColor:e,iconColor:t,iconSize:i,iconWrapperWidth:x,isCloseupActionBar:m,marginEnd:v,sharedObject:b,spaceBelowIcon:j}){const w=(0,n.ZP)(),f=(0,u.F9)(),[y,S]=(0,s.useState)(""),[C,P]=(0,s.useState)(!1),[k,A]=(0,s.useState)(!1),I=(0,p.TH)(),z=w._('Link copied!', 'shareSheet.socialBar.copyLinkButton.LinkCopied', 'Notification link was copied to clipboard'),Z=e=>{m?navigator.clipboard.writeText(e).then((()=>{var e;e=w._('Copied link to your clipboard to share', 'web.unauth.pinbar.copylink', 'Message to indicate link has been copied'),f.showToast((({hideToast:t})=>(0,o.jsx)(a.xu,{top:!0,children:(0,o.jsx)(d.ZP,{duration:3e3,onHide:t,text:e})})))})):navigator.clipboard.writeText(e).then((()=>{A(!0),setTimeout((()=>{A(!1)}),3e3)}))},E=async()=>{if(y)return void Z(y);P(!0);const e={invite_category:3,invite_channel:12,object_type:b.type,object_id:b.id,name:b.name,description:b.description||"",path:b.url,picture:b.imageUrl};g.Z.createShareInviteData(e).then((t=>{const{invite_url:i}=t;P(!1),i&&(S(i),g.Z.logShareInvite(e,t),Z(i))}))},L=()=>{E()},{checkExperiment:T}=(0,_.F)();return(0,h.am)(I)&&m&&T("web_copy_link_btn_replace").anyEnabled?(0,o.jsx)(a.xu,{marginStart:1,children:(0,o.jsx)(a.zx,{accessibilityLabel:w._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),text:w._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),onClick:()=>L(),size:"lg",color:"gray",fullWidth:!0})}):(0,o.jsxs)(c.Z,{width:x||i,marginEnd:v||!1,children:[(0,o.jsx)(a.xu,{alignItems:m?"center":"stretch",display:m?"flex":"block",marginBottom:j,width:m?"100%":"auto",children:(0,o.jsx)(a.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:i,children:(0,o.jsx)(r,{backgroundColor:e,iconColor:t,size:i,onClick:L,disabled:C})})}),!m&&(0,o.jsx)(l.Z,{text:k?z:w._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard')})]})}},451204:(e,t,i)=>{i.r(t),i.d(t,{default:()=>ne});var s=i(667294),n=i(116303),a=i(898781),o=i(934523),r=i(349700),l=i(407043);const c=56;var d=i(883119),h=i(785893);function _({idx:e,item:t,onSendMessage:i,onViewConversation:_,sentHistory:p}){var u;const g=(0,a.ZP)(),{logContextEvent:x}=(0,l.v)(),[m,v]=(0,s.useState)(!1),b=t.id||"string"==typeof t.email&&t.email||"",j=Object.prototype.hasOwnProperty.call(p,b),w=null!==(u=p[b])&&void 0!==u?u:"";let f="";"string"!=typeof t.full_name||t.full_name.match(/^\s*$/)?"string"!=typeof t.email||t.email.match(/^\s*$/)||(f=t.email):f=t.full_name;let y="";j?y=g._('View chat', 'shareSheet.ContactItem.viewChat', 'View current chat'):m&&(y=g._('Sent', 'shareSheet.ContactItem.sent', 'Item has been sent to contact'));return(0,h.jsx)(d.xu,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",direction:"column",width:86,children:(0,h.jsx)(d.xu,{display:"inlineBlock",role:"button",children:(0,h.jsxs)(d.iP,{onTap:j?()=>_(w):()=>{x({event_type:101,component:13029,element:1039,aux_data:{result_index:e+1,rs:t.debug_reason.reason}}),v(!0),i(t)},children:[(0,h.jsxs)(d.xu,{alignItems:"center","data-test-id":m?"sharesheet-viewchat-link":"sharesheet-contact-item-button",display:"flex",height:c,justifyContent:"center",marginBottom:2,width:c,children:[m&&(0,h.jsx)(d.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"sharesheet-contact-item-sent-icon",display:"flex",height:c,justifyContent:"center",position:"absolute",rounding:"circle",width:c,zIndex:new d.Ry(o.fe),children:(0,h.jsx)(d.JO,{accessibilityLabel:(0,r.Wc)(g._('Sent to {{recipientName}}', 'shareSheet.ContactItem.sentIcon.accessibilityLabel', 'Accessibility label for sent icon over user avatar, recipientName: message recipient'),{recipientName:f}),icon:"check",color:"light",size:24})}),(0,h.jsx)(n.Z,{size:"fit",src:t.image_large_url,name:f})]}),(0,h.jsxs)(d.xu,{"data-test-id":"sharesheet-contact-item-label",width:c,children:[(0,h.jsx)(d.xv,{lineClamp:1,size:"100",align:"center",children:f}),(0,h.jsx)(d.xv,{color:"subtle",size:"100",align:"center",children:y})]})]})})})}var p=i(784590),u=i(479301),g=i(711108);function x(e){var t;const{logContextEvent:i}=(0,l.v)(),n=(0,a.ZP)(),{onHide:o,onSendMessage:r,onShowImportContacts:x,objectAttachment:m,sentHistory:v}=e,{isLoaded:b}=(0,p.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default"},noCache:!0}),{shareSuggestions:j}=(0,g.E)(),w=(null===(t=j[""])||void 0===t?void 0:t.slice(0,5))||[],f=w.length>0;(0,s.useEffect)((()=>{if(b){i({event_type:f?7511:7512,component:56,view_type:70,view_parameter:256})}}),[f,i,b]);const{dropdownOpen:y,conversationOpen:S,newMessageOpen:C}=(0,u.Z5)(),P=e=>{S(e),y(),o()},k=w.map(((e,t)=>{const i=`${e.id||e.email||t}`,s={item:e,idx:t,onSendMessage:r,onViewConversation:P,sentHistory:v};return(0,h.jsx)(_,{...s},i)})),A=!f&&!b;return(0,h.jsxs)(d.kC,{direction:"column",children:[(0,h.jsx)(d.kC,{alignItems:"center",height:64,justifyContent:"center",children:(0,h.jsx)(d.xv,{align:"center",size:"300",weight:"bold",children:n._('Send on Pinterest', 'ContactsSuggestions.Header.text', 'Header for contact suggestion section of the share menu')})}),(0,h.jsx)(d.xu,{display:"flex",height:98,justifyContent:A?"center":void 0,marginBottom:5,children:A?(0,h.jsx)(d.xu,{paddingY:2,children:(0,h.jsx)(d.$j,{accessibilityLabel:n._('Loading Conversation Messages', 'SendObject.contactList.spinner', 'Spinner that indicates then the contact list is being loaded'),show:!0})}):(0,h.jsxs)(d.kC,{direction:"row",children:[(0,h.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:86,children:[(0,h.jsx)(d.xu,{height:c,marginBottom:2,width:c,children:(0,h.jsx)(d.hU,{accessibilityLabel:n._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:()=>{C(m),y(),o()},size:"xl"})}),(0,h.jsx)(d.xv,{lineClamp:1,size:"100",children:n._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),f?k:(0,h.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:86,children:[(0,h.jsx)(d.xu,{height:c,marginBottom:2,width:c,children:(0,h.jsx)(d.hU,{accessibilityLabel:n._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"people",iconColor:"darkGray",onClick:x,size:"xl"})}),(0,h.jsx)(d.xv,{lineClamp:1,size:"100",children:n._('Import', 'ContactsSuggestions.ImportOption.text', 'Label for import contacts icon in Contacts Suggestions list')})]})]})})]})}function m(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridPdp":case"ShoppingGridShippedMetadata":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var v=i(936776),b=i(837727);function j(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class w extends s.Component{constructor(...e){super(...e),j(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),j(this,"handleSendEmail",((e,t)=>{if(e){const i={type:"email_share_suggestion",id:"",email:e,debug_reason:{reason:"",readable_reason:""}};this.props.onSendMessage(i,t)}})),j(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})})),j(this,"handleEmailValueChange",(({value:e})=>{this.setState({emailValue:e})}))}renderCloseButton(){const{i18n:e,onCancelDraft:t}=this.props;return(0,h.jsx)(d.hU,{accessibilityLabel:e._('Cancel share to user', 'accessibility label for close button', 'accessibility label for close button'),icon:"arrow-back",onClick:t,size:"sm"})}render(){const{width:e}=this.props;return(0,h.jsxs)(d.xu,{display:"flex",direction:"column",column:12,paddingX:4,paddingY:2,width:e,color:"default",children:[(0,h.jsxs)(d.xu,{display:"flex",alignItems:"center",paddingY:4,children:[this.renderCloseButton(),(0,h.jsx)(d.xu,{flex:"grow",marginEnd:8,children:(0,h.jsx)(d.xv,{align:"center",weight:"bold",children:this.props.i18n._('Send to', 'shareSheet.SendToEmail.label', 'Send to label')})})]}),(0,h.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,h.jsx)(d.xu,{paddingY:1,marginBottom:4,children:(0,h.jsx)(d.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._('Enter email address', 'Email address to send to', 'Email address to send to'),value:this.state.emailValue||"",rows:1})}),(0,h.jsx)(d.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._('Add a message', 'shareSheet.SendToEmail.textareaPlaceholder', 'Placeholder that tells user this is where they can add a messaage'),value:this.state.textValue||""}),(0,h.jsx)(d.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,h.jsx)(d.zx,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n._('Send', 'shareSheet.SendToEmail.sendButton', 'Button that sends out to email'),disabled:!(0,v.Z)(this.state.emailValue)})})]})]})}}function f(e){const t=(0,a.ZP)();return(0,h.jsx)(w,{...e,i18n:t})}var y=i(567831),S=i(499155),C=i(31149),P=i(107193),k=i(659522),A=i(331744);function I({size:e=48}){return(0,h.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,h.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,h.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,h.jsx)("path",{d:"M39 19.5c0 1.381-1.119 2.5-2.5 2.5S34 20.881 34 19.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5ZM18.5 28c0-.69-.56-1.25-1.25-1.25S16 27.31 16 28s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25ZM26.75 38.75c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25S28.69 40 28 40s-1.25-.56-1.25-1.25Z",fill:"#E60023"}),(0,h.jsx)("path",{d:"M29.25 17.25c0 .69-.56 1.25-1.25 1.25s-1.25-.56-1.25-1.25S27.31 16 28 16s1.25.56 1.25 1.25ZM17 36.5c0-1.381 1.119-2.5 2.5-2.5s2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5-2.5-1.119-2.5-2.5ZM38.75 26.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25S40 28.69 40 28s-.56-1.25-1.25-1.25Z",fill:"#FFD63F"}),(0,h.jsx)("path",{d:"M19.5 22c1.381 0 2.5-1.119 2.5-2.5S20.881 17 19.5 17 17 18.119 17 19.5s1.119 2.5 2.5 2.5ZM36.5 34c-1.381 0-2.5 1.119-2.5 2.5s1.119 2.5 2.5 2.5 2.5-1.119 2.5-2.5-1.119-2.5-2.5-2.5Z",fill:"#46CC88"}),(0,h.jsx)("path",{d:"M28 21c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7Z",fill:"#3869FF"})]})}var z=i(239324),Z=i(518604),E=i(19121);function L({iconSize:e,iconWrapperWidth:t,marginBottom:i,marginEnd:s,onCreatePincodeClick:n,sharedObject:o}){const r=(0,a.ZP)(),l=(0,E.Z)();return n&&[b.d.BOARD,b.d.PINNER,b.d.USER].includes(o.type)&&l.isAuth&&(o.id===l.id||l.isEmployee)?(0,h.jsxs)(Z.Z,{width:t,marginEnd:s,children:[(0,h.jsx)(d.xu,{marginBottom:i,children:(0,h.jsx)(d.iP,{fullWidth:!1,onTap:n,children:(0,h.jsx)(I,{size:e})})}),(0,h.jsx)(z.Z,{text:r._('Pincode', 'Share via pincode', 'Share via pincode')})]},"pincode"):null}var T=i(464240),O=i(22641),D=i(780280),B=i(580744),H=i(343341);function M(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const F={backgroundColor:"#ffffff",border:"none",padding:0},R=new Set(["JP","TW","TH"]),U=(e,t)=>{(0,P.default)((t=>{t&&(t.getUserID()?e():t.login((()=>{e()})))}),t)};class W extends s.Component{constructor(...e){super(...e),M(this,"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),M(this,"logShareInviteLink",(()=>{const{copyLinkLogged:e,inviteData:t}=this.state,i=this.getShareOptions(12);e||(B.Z.logShareInvite(i,t),this.setState({copyLinkLogged:!0}))}))}componentDidMount(){this.getWhatsAppURL()}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:t.type===b.d.SEARCH?10:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getWhatsAppURL(){const e=this.getShareOptions(10);B.Z.createShareInviteData(e).then((e=>{const t=`${e.title}\n${e.invite_url}`;if(t){const i=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+i})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,y.Z)(this.props.sharedObject.url)})}))}checkWritePermissions(){return!!this.props.viewer.isWriteBanned}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e?(this.openEmailDialog(),t=258):"line"===e&&(this.openLineDialog(),t=952),this.props.onExternalSend&&this.props.onExternalSend(),this.props.logContextEvent({event_type:101,component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){const{unauthId:e,viewer:t}=this.props;U((()=>{B.Z.shareFacebookInvite({options:this.getShareOptions(5),unauthId:e,viewer:t})}),t)}openFbMessengerDialog(){const{unauthId:e,viewer:t}=this.props;U((()=>{B.Z.shareFbMessengerInvite({options:this.getShareOptions(6),unauthId:e,viewer:t})}),t)}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(B.Z.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){B.Z.shareTwitterInvite(this.getShareOptions(9))}openLineDialog(){B.Z.shareLineInvite(this.getShareOptions(8))}renderEmail(){return(0,h.jsxs)(Z.Z,{width:86,marginEnd:!1,children:[(0,h.jsx)(d.xu,{display:"inlineBlock",marginBottom:2,children:(0,h.jsx)("button",{"aria-label":this.props.i18n._('Share on Email', 'sharesheet.shareSocialBar.ShareEmail', 'Button that will share via Email'),onClick:()=>this.handleSocialShareClick("email"),style:F,children:(0,h.jsx)(C.Z,{size:56})})}),(0,h.jsx)(z.Z,{text:this.props.i18n._('Email', 'Share via email', 'Share via email')})]},"email")}renderShareOptions(){const{i18n:e,onCreatePincodeClick:t,sharedObject:i,showLineShare:n,isPublisherSharingObject:a}=this.props,o=c,r=86;return(0,h.jsx)(s.Fragment,{children:(0,h.jsxs)(d.kC,{justifyContent:"start",children:[n&&(0,h.jsxs)(Z.Z,{width:r,marginEnd:!1,children:[(0,h.jsx)(d.xu,{marginBottom:2,children:(0,h.jsx)("button",{"aria-label":e._('Share on LINE', 'sharesheet.shareSocialBar.ShareLine', 'Button that will share via Line'),onClick:()=>this.handleSocialShareClick("line"),style:F,children:(0,h.jsx)(A.Z,{size:o})})}),(0,h.jsx)(z.Z,{text:e._('LINE', 'sharesheet.shareSocialBar.ShareLineLabel', 'Line button label')})]}),(0,h.jsxs)(Z.Z,{width:r,marginEnd:!1,children:[(0,h.jsx)(d.xu,{marginBottom:2,children:(0,h.jsx)("button",{"aria-label":e._('Share on WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsapp', 'Button that will share via WhatsApp'),onClick:()=>this.handleSocialShareClick("whatsapp"),style:F,tabIndex:"-1",children:(0,h.jsx)(d.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,h.jsx)(O.Z,{size:o})})})}),(0,h.jsx)(z.Z,{text:e._('WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsappLabel', 'WhatsApp button label')})]}),(0,h.jsxs)(Z.Z,{width:r,marginEnd:!1,children:[(0,h.jsx)(d.xu,{marginBottom:2,children:(0,h.jsx)("button",{"aria-label":e._('Share on Facebook', 'sharesheet.shareSocialBar.ShareFacebook', 'Button that will share via Facebook'),onClick:()=>this.handleSocialShareClick("facebook"),style:F,children:(0,h.jsx)(k.Z,{size:o})})}),(0,h.jsx)(z.Z,{text:e._('Facebook', 'sharesheet.shareSocialBar.ShareFacebookLabel', 'Facebook button label')})]}),(0,h.jsxs)(Z.Z,{width:r,marginEnd:!1,children:[(0,h.jsx)(d.xu,{marginBottom:2,children:(0,h.jsx)("button",{"aria-label":e._('Share on Twitter', 'sharesheet.shareSocialBar.ShareTwitter', 'Button that will share via Twitter'),onClick:()=>this.handleSocialShareClick("twitter"),style:F,"data-test-id":"twitter-share-icon",children:(0,h.jsx)(T.Z,{size:o})})}),(0,h.jsx)(z.Z,{text:e._('Twitter', 'sharesheet.shareSocialBar.ShareTwitterLabel', 'Twitter button label')})]}),(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(L,{iconSize:o,iconWrapperWidth:r,marginBottom:2,marginEnd:!1,onCreatePincodeClick:t,sharedObject:i}),(0,h.jsx)(S.default,{sharedObject:i,backgroundColor:"lightGray",iconColor:"darkGray",iconSize:o,iconWrapperWidth:r,marginEnd:n,isCloseupActionBar:!1,spaceBelowIcon:2},"copylink"),!a&&this.renderEmail()]})]})})}render(){const{paddingX:e}=this.props;return(0,h.jsxs)(d.xu,{paddingX:e,children:[(0,h.jsx)(d.kC,{alignContent:"center",alignItems:"center",height:64,justifyContent:"center",children:(0,h.jsx)(d.xv,{size:"300",weight:"bold",children:this.props.i18n._('Share to', 'Sharesheet.ShareSocialBar', 'Externally share a Pin/Board/profile')})}),(0,h.jsx)(d.xu,{height:98,children:this.renderShareOptions()})]})}}function V(e){const{logContextEvent:t}=(0,l.v)(),i=(0,a.ZP)(),s=(0,E.Z)(),n=s.isAuth&&R.has(s.country),o=(0,D.B)();return(0,h.jsx)(W,{...e,toastManagerContext:(0,H.F9)(),viewer:(0,E.Z)(),showLineShare:n,i18n:i,logContextEvent:t,unauthId:o.unauthId})}var G=i(172071),N=i(6637),$=i(499128),Y=i(717615),X=i(231947),J=i(758523);const q=(e,t)=>{const i={};return e.forEach((e=>{i[e]=t})),i};function K(e){const{logContextEvent:t}=(0,l.v)(),i=(0,a.ZP)(),[n,o]=(0,s.useState)(!1),[r,c]=(0,s.useState)(null),[_,p]=(0,s.useState)({}),[g]=(0,s.useState)(((e,t)=>"today_article"===e?t._('Check out this article on Pinterest!', 'sendObject.initialTextValue.todayArticle', 'pre-populated share message when a user tries to send a Today Article'):"")(e.sendType,i)),{showOneToast:v}=(0,H.F9)(),{surface:j}=(0,J.$)(),w=(0,E.Z)(),y=(0,Y.Z)(),{conversationCreate:S}=(0,u.Z5)(),C=(0,u.NG)(),P=(i,s)=>{o(!1),e.onMessageSent(),((i,s)=>{const{sharedObject:n}=e,a=n.id;G.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:a,aux_data:{conversation_id:i,pin_id:s}})})(i,s)},k=e=>{G.Z.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&v((({hideToast:e})=>(0,h.jsx)($.ZP,{variant:"error",duration:5e3,onHide:e,text:t})))},A=async(t,i,s)=>{const{sharedObject:n,sendType:a}=e,o=n.id,r={emails:i,user_ids:t,text:s,source:m(j)};r[a]=o;const l=N.Z.create("ConversationsResource",r);try{const e=await l.callCreate(),s=e&&e.resource_response.data;S(s),P(s.id,"pin"===a?o:null),t.length>0?p({..._,...q(t,s.id)}):p({..._,...q(i,s.id)})}catch(c){k(c)}},I=(i,s)=>{"conversation_share_suggestion"===i.type?((t,i,s)=>{const{sharedObject:n,sendType:a}=e;let o;switch(a){case"pin":o="pinId";break;case"board":o="boardId";break;case"did_it":o="didItId";break;case"user":case"pinner":o="userId"}const r=o?C(t,{text:i,[o]:n.id,source:m(j)},void 0,w):void 0;r&&r.then((()=>{P(t,"pin"===a?n.id:null),p({..._,[t]:t})})).catch((e=>{k(e)}))})(i.id,s):"user_share_suggestion"===i.type&&i.username?A([i.id],[],s):A([],[i.email],s),t({event_type:101,component:56,element:276})},z=(t,i)=>{e.sendType!==b.d.SEARCH||i?I(t,i):N.Z.create("ShareLinkResource",{invite_category:10,url:e.sharedObject.url}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e))).then((e=>{const i=e.message;I(t,i)}))},{onCreatePincodeClick:Z,onShowImport:L,sendType:T,sharedObject:O,onHide:D,onExternalSend:B}=e,M="user"===e.sendType&&(0,X.q6)(w,e.sharedObject.id,y),F=("board"===e.sendType||"pin"===e.sendType)&&void 0!==e.sharedObject.ownerId&&(0,X.q6)(w,e.sharedObject.ownerId,y),R=M||F;return n&&"email"===r?(0,h.jsx)(f,{initialTextValue:g,objectId:O.id,objectType:T,onCancelDraft:()=>{o(!1),c(null)},onHide:D,onSendMessage:z,width:540}):(0,h.jsxs)(d.xu,{color:"default",paddingX:3,paddingY:2,width:540,children:[(0,h.jsx)(V,{onCreatePincodeClick:Z,onEmailIconClick:()=>{o(!0),c("email")},onExternalSend:B,onHide:D,paddingX:4,sharedObject:O,isPublisherSharingObject:R}),!R&&(0,h.jsxs)(s.Fragment,{children:[(0,h.jsx)(d.xu,{marginTop:1,paddingX:3,paddingY:3,children:(0,h.jsx)(d.iz,{})}),(0,h.jsx)(x,{objectAttachment:{type:T,id:O.id},onHide:D,onSendMessage:z,onShowImportContacts:L,sentHistory:_})]})]})}var Q=i(808475);const ee=["facebook","google"];function te(e,t){return"facebook"===e?t._('Facebook', ' - ', ' -- '):"google"===e?t._('Google', ' - ', ' -- '):t._('Other', ' - ', ' -- ')}function ie(e,t,i){return"facebook"===e?i._('Friends who are on Pinterest', ' - ', ' -- '):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}function se({onBack:e}){const t=(0,a.ZP)(),i=(0,E.Z)(),s=i.isAuth?i.email:null,n=ee.filter((e=>!i.isAuth||!1===i.socialNetwork[e].connected)),o=(0,Q.k)();return(0,h.jsx)(d.xu,{paddingX:1,paddingY:2,children:(0,h.jsxs)(d.kC,{gap:{row:0,column:2},direction:"column",children:[(0,h.jsxs)(d.kC,{gap:{row:2,column:0},alignItems:"center",children:[(0,h.jsx)(d.hU,{accessibilityLabel:t._('Back', ' - ', ' -- '),icon:"arrow-back",iconColor:"darkGray",onClick:e}),(0,h.jsx)(d.xv,{size:"300",weight:"bold",children:t._('Upload contacts from...', ' - ', ' -- ')})]}),(0,h.jsx)(d.kC,{direction:"column",gap:{row:0,column:4},children:n.map((e=>(0,h.jsx)(d.xu,{paddingX:2,children:(0,h.jsxs)(d.iP,{onTap:()=>(e=>{o.handleConnect(e,!0,{},t)})(e),children:[(0,h.jsx)(d.xv,{size:"200",children:te(e,t)}),(0,h.jsx)(d.xv,{size:"200",children:ie(e,s,t)})]})},e)))})]})})}function ne({onCreatePincodeClick:e,onExternalSend:t,onHide:i,sendType:n,sharedObject:a,viewType:r,viewParameter:c}){const{logContextEvent:_}=(0,l.v)(),[p,u]=(0,s.useState)(!1),[g,x]=(0,s.useState)(!1);(0,s.useEffect)((()=>(_({event_type:7120,object_id_str:a.id,view_type:r,view_parameter:c}),()=>{_({event_type:7121,object_id_str:a.id,view_type:r,view_parameter:c});_({event_type:g?7493:7492,view_type:r,view_parameter:c})})),[]);const m=()=>{u(!0)},v=()=>{u(!1)},b=()=>{x(!0)};return p?(0,h.jsx)(se,{onBack:v}):(0,h.jsx)(d.xu,{overflow:"hidden",zIndex:new d.Ry(o.fe-1),color:"default",children:(0,h.jsx)(K,{onCreatePincodeClick:e,onHide:i,onShowImport:m,onMessageSent:b,onExternalSend:t,sendType:n,sharedObject:a})})}},239324:(e,t,i)=>{i.d(t,{Z:()=>o});var s=i(207112),n=i(883119),a=i(785893);const o=({text:e})=>(0,a.jsx)(n.xv,{align:"center",size:"100",children:(0,a.jsx)(s.Z,{maxWidthPx:128,maxHeightPx:50,children:e})})},518604:(e,t,i)=>{i.d(t,{Z:()=>a});var s=i(883119),n=i(785893);const a=({width:e,marginEnd:t,children:i})=>(0,n.jsx)(s.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e,children:i})}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/22545-6425da06d3a7694c.mjs.map