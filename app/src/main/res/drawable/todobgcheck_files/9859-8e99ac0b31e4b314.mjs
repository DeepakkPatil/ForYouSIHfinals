(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[9859],{294184:(e,t)=>{var i;!function(){var n={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var i=arguments[t];if(i){var r=typeof i;if("string"===r||"number"===r)e.push(i);else if(Array.isArray(i)&&i.length){var o=s.apply(null,i);o&&e.push(o)}else if("object"===r)for(var a in i)n.call(i,a)&&i[a]&&e.push(a)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(i=function(){return s}.apply(t,[]))||(e.exports=i)}()},560053:(e,t)=>{function i(e,t){var i=e.length;e.push(t);e:for(;0<i;){var n=i-1>>>1,s=e[n];if(!(0<r(s,t)))break e;e[n]=t,e[i]=s,i=n}}function n(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],i=e.pop();if(i!==t){e[0]=i;e:for(var n=0,s=e.length,o=s>>>1;n<o;){var a=2*(n+1)-1,u=e[a],l=a+1,c=e[l];if(0>r(u,i))l<s&&0>r(c,u)?(e[n]=c,e[l]=i,n=l):(e[n]=u,e[a]=i,n=a);else{if(!(l<s&&0>r(c,i)))break e;e[n]=c,e[l]=i,n=l}}}return t}function r(e,t){var i=e.sortIndex-t.sortIndex;return 0!==i?i:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,u=a.now();t.unstable_now=function(){return a.now()-u}}var l=[],c=[],d=1,h=null,p=3,m=!1,v=!1,g=!1,f="function"==typeof setTimeout?setTimeout:null,_="function"==typeof clearTimeout?clearTimeout:null,b="undefined"!=typeof setImmediate?setImmediate:null;function w(e){for(var t=n(c);null!==t;){if(null===t.callback)s(c);else{if(!(t.startTime<=e))break;s(c),t.sortIndex=t.expirationTime,i(l,t)}t=n(c)}}function T(e){if(g=!1,w(e),!v)if(null!==n(l))v=!0,D(y);else{var t=n(c);null!==t&&A(T,t.startTime-e)}}function y(e,i){v=!1,g&&(g=!1,_(k),k=-1),m=!0;var r=p;try{for(w(i),h=n(l);null!==h&&(!(h.expirationTime>i)||e&&!I());){var o=h.callback;if("function"==typeof o){h.callback=null,p=h.priorityLevel;var a=o(h.expirationTime<=i);i=t.unstable_now(),"function"==typeof a?h.callback=a:h===n(l)&&s(l),w(i)}else s(l);h=n(l)}if(null!==h)var u=!0;else{var d=n(c);null!==d&&A(T,d.startTime-i),u=!1}return u}finally{h=null,p=r,m=!1}}"undefined"!=typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var P,E=!1,C=null,k=-1,x=5,O=-1;function I(){return!(t.unstable_now()-O<x)}function S(){if(null!==C){var e=t.unstable_now();O=e;var i=!0;try{i=C(!0,e)}finally{i?P():(E=!1,C=null)}}else E=!1}if("function"==typeof b)P=function(){b(S)};else if("undefined"!=typeof MessageChannel){var L=new MessageChannel,N=L.port2;L.port1.onmessage=S,P=function(){N.postMessage(null)}}else P=function(){f(S,0)};function D(e){C=e,E||(E=!0,P())}function A(e,i){k=f((function(){e(t.unstable_now())}),i)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||m||(v=!0,D(y))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var i=p;p=t;try{return e()}finally{p=i}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var i=p;p=e;try{return t()}finally{p=i}},t.unstable_scheduleCallback=function(e,s,r){var o=t.unstable_now();switch("object"==typeof r&&null!==r?r="number"==typeof(r=r.delay)&&0<r?o+r:o:r=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:s,priorityLevel:e,startTime:r,expirationTime:a=r+a,sortIndex:-1},r>o?(e.sortIndex=r,i(c,e),null===n(l)&&e===n(c)&&(g?(_(k),k=-1):g=!0,A(T,r-o))):(e.sortIndex=a,i(l,e),v||m||(v=!0,D(y))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var i=p;p=t;try{return e.apply(this,arguments)}finally{p=i}}}},363840:(e,t,i)=>{e.exports=i(560053)},268536:(e,t,i)=>{i.d(t,{Z:()=>v});var n=i(27255),s=i(124580),r=i(172071),o=i(115535),a=i(402039),u=i(638525),l=i(12610),c=i(305689);function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const h=(0,c.ZP)();let p=null;class m{static getInstance(){return p||(p=new m),p}constructor(){d(this,"_logTimeoutLong",null),d(this,"_logTimeoutShort",null),d(this,"_moduleViewElements",{}),d(this,"_scrollListeners",{}),d(this,"_clickthroughStartEvent",null),d(this,"_utcDate",new Date);const e=(e,t)=>{const{activeElement:i}=document;i&&i.id===n.Z.VIDEO_IFRAME_ID&&i?setTimeout((()=>i.blur()),0):(s.Z.pause(l.LU),this.flushEvents(e,void 0))},t=(e=>{let t=!1;return(...i)=>{t||(t=!0,e(...i))}})((t=>e(!0)));window.addEventListener("beforeunload",t),window.addEventListener("pagehide",t),window.addEventListener("focus",(()=>{s.Z.resume(l.LU)})),window.addEventListener("blur",(t=>e(!1)))}_handleDatelineCrossover(){const e=new Date;this._utcDate.getUTCDate()!==e.getUTCDate()&&(this._utcDate=e,(0,o.Z)())}setTimeoutToFlushEvents(e){const t=e.event_type;if(m.EVENTS_FAST_FLUSH.includes(e.view_type)&&!this._logTimeoutShort&&13===t)this._logTimeoutShort=a.Z.setTimeout(this.flushEvents.bind(this,!1,!0),m.FLUSH_INTERVAL_SHORT);else if(!this._logTimeoutLong){const e=m.FLUSH_INTERVAL_LONG;this._logTimeoutLong=a.Z.setTimeout(this.flushEvents.bind(this),e)}}addEvent(e){const t=e.event_type;if(null==t)return;if(!(0,c.cA)(e))return;this.setTimeoutToFlushEvents(e);const i=(0,c.li)(e),n=c.Ch[t];n?(0,c.nc)(i,n).forEach(h.logImpression):(r.Z.increment("webapp.contextLogger.impressionType",.01,{event_type:t}),h.logContextEvent(i),this._handleDatelineCrossover(),12===t&&(h.logContextEvent({...i,event_type:7946}),this._clickthroughStartEvent={...i,time:1e6*Date.now()},u.Z.storeClickthroughProperties({view_type:i.view_type,view_parameter:i.view_parameter,component:i.component,element:i.element,object_id_str:i.object_id_str,view_data:i.view_data,aux_data:i.aux_data,clientTrackingParams:i.clientTrackingParams})))}flushEvents(e,t){var i;const n=null===(i=h.getContextEvents)||void 0===i?void 0:i.call(h);n&&!n.length||(this._handleDatelineCrossover(),h.flushContextEvents(e),t?this._resetShortTimerEvents():this._reset())}_reset(){this._resetShortTimerEvents(),this._resetLongTimerEvents()}_resetShortTimerEvents(){var e;null===(e=h.resetEventsBuffer)||void 0===e||e.call(h),clearTimeout(this._logTimeoutShort),this._logTimeoutShort=null}_resetLongTimerEvents(){var e;null===(e=h.resetEventsBuffer)||void 0===e||e.call(h),clearTimeout(this._logTimeoutLong),this._logTimeoutLong=null}logPlainObject(e){"event_type"in e&&this.addEvent({...e,..."aux_data"in e?{aux_data:{...e.aux_data}}:null})}}d(m,"FLUSH_INTERVAL_LONG",1e4),d(m,"FLUSH_INTERVAL_SHORT",300),d(m,"EVENTS_FAST_FLUSH",[9,3]),window.addEventListener&&window.addEventListener("focus",(()=>{const e=m.getInstance();if(e._clickthroughStartEvent){const t=e._clickthroughStartEvent;e._clickthroughStartEvent=null;const i={...t,event_type:4100,duration_ns:(0,c.h1)()-t.time};e.addEvent(i)}}));const v=m},638525:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(268536),s=i(768559),r=i(704115),o=i(927955),a=i(433780);const u={},l=(0,r.Z)()&&(0,r.Z)().debug_timespent,c=(0,a.Z)({flushEvents:e=>{n.Z.getInstance().flushEvents(e,void 0)},shouldShowLogStatements:l,track:(e,t)=>{const i=n.Z.getInstance(),r=o.Z.instance.getState();let a;if(r.pins&&e){const{pair_id:i,event_type:n}=e;if(4703===n&&i&&u[i])e.clientTrackingParams=u[i];else{var l;const o=e.object_id_str,c=o?r.pins[o]:null,d=null==t||null===(l=t.current)||void 0===l?void 0:l.location,h=null==t?void 0:t.previous;c&&d&&(a=(0,s.Z)(c,d,h)||`${c.tracking_params||""}~0`,e.clientTrackingParams=a,4702===n&&i&&(u[i]=a))}}i.addEvent(e)}})},402039:(e,t,i)=>{let n;i.d(t,{Z:()=>r}),void 0===n&&(n=i.g);const s=function(e,t){const i=(s=t)===n.setTimeout?function(e,t){return n.setTimeout(e,t)}:s===n.setInterval?function(e,t){return n.setInterval(e,t)}:s===n.clearTimeout?function(e){return n.clearTimeout(e)}:s===n.clearInterval?function(e){return n.clearInterval(e)}:s;var s;return function(e,t,n,...s){return i(e,t,n,...s)}},r={setTimeout:s(0,n.setTimeout),setInterval:s(0,n.setInterval),clearTimeout:s(0,n.clearTimeout),clearInterval:s(0,n.clearInterval)}},927955:(e,t,i)=>{i.d(t,{Z:()=>n});const n=new class{get instance(){return this.__storeInstance__}set instance(e){return this.__storeInstance__=e,e}set(e){return this.instance=e,e}}},425288:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(667294),s=i(785893);function r(e,t){let i=e.slice(1);if(i=i.endsWith("Context")?i:`${i}Context`,t){return{hocDisplayName:`with${e[0].toUpperCase()}${i}(${t})`}}return{propsDisplayName:`${e[0].toLowerCase()}${i}`,messageDisplayName:`${e[0].toUpperCase()}${i}`}}function o(e,t){const i=(0,n.createContext)(t),{propsDisplayName:o,messageDisplayName:a}=r(e);i.displayName=a;const u=i.Provider,l=({children:e})=>{const t=(0,n.useContext)(i);if(void 0===t)throw new Error(`${a}Consumer must be used within a ${a}Provider.`);return e(t)},c=()=>(0,n.useContext)(i);function d(t){const{hocDisplayName:i}=r(e,String(t.displayName||t.name)),n=e=>(0,s.jsx)(l,{children:n=>{if(void 0===n)throw new Error(`${i} must be used within a ${a}Provider.`);if(e[o])throw new Error("Parent Component and Context are passing to the component the same variables.");const r={[o]:n};return(0,s.jsx)(t,{...e,...r})}});return n.displayName=i,n}return u.displayName=`${a}Provider`,l.displayName=`${a}Consumer`,d.displayName=`${a}HOC`,{Provider:u,Consumer:l,MaybeConsumer:({children:e})=>e((0,n.useContext)(i)),useMaybeHook:c,useHook:function(){const e=c();if(void 0===e)throw new Error(`use${a} must be used within a ${a}Provider.`);return e},deprecatedHOC:d}}},898781:(e,t,i)=>{i.d(t,{ZP:()=>a,oz:()=>r,q6:()=>s});var n=i(425288);const{Provider:s,Consumer:r,useHook:o}=(0,n.Z)("i18n"),a=o},12610:(e,t,i)=>{function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z3:()=>h,LU:()=>p,ZP:()=>m});const s=1e6,r=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,o={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},u={background:"#FF8A8A",transform:"scale(.98)"},l={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[o.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[o.exit]:u,[o.stopped]:u,[o.paused]:u,[o.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class c{constructor(e){n(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),n(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),n(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),n(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(o.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(o.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,r&&Object.assign(this.node.style,l.init(e)),this}pause(){return this.inViewport&&(this._debug(o.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(o.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(o.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*s,endTime:Date.now()*s,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(r)switch(window.console.log(`📌 ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),l[e]&&Object.assign(this.node.style,l[e]),e){case o.flushed:case o.paused:case o.exit:a[this.debugId]=!0}}}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const h=!0,p=!1;class m{constructor(){d(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),d(this,"_handleMutations",((e,t)=>{const i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const i=this.activeImpressions.get(e);i&&(i.stop(t),this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new c(e),this.activeImpressions.set(e,t),this.observer.observe(e);const i=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(i)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=h){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===p&&(this.pausePriority=e))}resume(e=h){e===p&&this.pausePriority===h||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=p)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:i}=t.getBoundingClientRect();return i>e?i:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:i}=t.getBoundingClientRect();return i<e?i:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const i={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},124580:(e,t,i)=>{i.d(t,{Z:()=>n});const n=new(i(12610).ZP)},952712:(e,t,i)=>{i.d(t,{H:()=>u});var n=i(968630),s=i.n(n);var r=i(395164);const o=new class{constructor(e){this.table={},this.interval=e,this.lastCallTime=Date.now()}_garbageCollectEntries(){Date.now()-this.lastCallTime>this.interval&&(this.table={})}_generateHash(e){const t=Object.keys(e).sort(),i=[];return t.forEach((t=>{if(e[t]){let n=s()(e[t])?JSON.stringify(e[t]):e[t]+"";n=t+":"+n,i.push(n)}})),i.join("")}getTableKey(e){return e.auxData?this._generateHash(Object.assign({message:e.errorObj.message},e.auxData)):e.errorObj.message?e.errorObj.message:""}isWithinRateLimit(e){this._garbageCollectEntries();const t=Date.now();this.lastCallTime=t;const i=this.getTableKey(e);return this.table[i]&&t-this.table[i]<this.interval||(this.table[i]=t,!1)}}(5e3),a={};a._reportToConsole=(e,t={})=>{if(console&&console.error){const{name:i="",message:n="No message available",stack:s="No stack trace available"}=e,r=`Name: ${i}\nMessage: ${n}\n----------\nStack: \n${s}\n`;console.error(r,t)}},a._reportToServer=(e,t)=>{const i={errorObj:e};t&&(i.auxData=t),o.isWithinRateLimit(i)||(0,r.T)({...e,message_detail:t?JSON.stringify(t):""})};const u=(e,t)=>{const{columnNumber:i="",fileName:n="",lineNumber:s="",message:r="",original_message:o="",name:u="",stack:l="",stack_trace:c="",moduleName:d="",location:h=""}=e,p={columnNumber:i,fileName:n,lineNumber:s,message:o||r,name:u,stack:l||c,moduleName:d,location:h};a._reportToConsole(p,t),function(e){const t=e.http_status||e.httpStatus||e.status;if(404===t||500===t)return!1;const i=e.stack||e.stack_trace;return!(i&&-1!==i.indexOf("global code")||e.message&&("Connectivity error or cancelled by navigation"===e.message||e.message.includes("count mfss fcw")||e.message.includes("evaluating 'elem.classList'")))}(e)&&a._reportToServer(p,t)};a.report=u},433780:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(172071),s=i(245474);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const o="ACTIVE",a="PAUSED",u=()=>window&&window.performance&&window.performance.now?`(Time: ${(window.performance.now()/1e3).toFixed(3)}s)`:"",l=({flushEvents:e,shouldShowLogStatements:t=!1,track:i})=>{const l=new Map,c=t?console:{error:(...e)=>{},log:(...e)=>{},group:(...e)=>{},groupEnd:(...e)=>{}};console.group||(c.group=(...e)=>console.log(...e),c.groupEnd=(...e)=>{});return new class{constructor(){r(this,"appTimedPair",null),r(this,"clickthroughProperties",null),r(this,"historyStackContext",null),r(this,"offsiteTimedPair",null),r(this,"offsiteTimedPairForegroundId",null),r(this,"addEventListeners",(()=>{let e,t;"undefined"!==document.hidden?(e="hidden",t="visibilitychange"):"undefined"!==document.msHidden?(e="msHidden",t="msvisibilitychange"):"undefined"!==document.webkitHidden&&(e="webkitHidden",t="webkitvisibilitychange");const i=t=>{document[e]?this.unregisterApp(!1,void 0,t):document.hasFocus()&&this.registerApp()};t&&document.addEventListener(t,i,!1),window.addEventListener("focus",this.registerApp),window.addEventListener("blur",(e=>this.unregisterApp(!1,void 0,e)));const s=(e=>{let t=!1;return(...i)=>{t||(t=!0,e(...i))}})((e=>this.unregisterApp(!0,void 0,e)));window.addEventListener("beforeunload",s),window.addEventListener("pagehide",s);const r=navigator&&navigator.userAgent.toLowerCase();r&&r.includes("macintosh")&&r.includes("chrome")&&window.addEventListener("popstate",(t=>{document.hasFocus()||document[e]||n.Z.increment("chrome_mac_back_forward_button",1)}))})),r(this,"storeClickthroughProperties",(e=>{this.clickthroughProperties&&n.Z.increment("webapp.metrics.clickthroughs.overwritten",1,{previousView:this.clickthroughProperties.view_type,previousViewParameter:this.clickthroughProperties.view_parameter,nextView:e.view_type,nextViewParameter:e.view_parameter}),this.clickthroughProperties=e})),r(this,"clearClickthroughProperties",(()=>{this.clickthroughProperties=null,this.offsiteTimedPair=null,this.offsiteTimedPairForegroundId=null})),r(this,"registerApp",(()=>{c.group("App Foreground",u()),null==this.appTimedPair?(this.appTimedPair=new s.Z,this.appTimedPair.start(),this._unpauseAllComponents(),this._endOffsiteTimedPair(),null!==this.appTimedPair&&void 0!==this.appTimedPair&&i({event_type:4700,pair_id:this.appTimedPair.uuid},this.historyStackContext)):c.error("TimedPair already exists for app."),c.groupEnd()})),r(this,"unregisterApp",((t=!1,n=!1,s)=>{c.group("App Background",u());const r=this.appTimedPair;if(null!=r){this._pauseAllComponents();const e=r.end();this._startOffsiteTimedPair(),i({event_type:4701,duration_ns:e,pair_id:r.uuid},this.historyStackContext),this.appTimedPair=null}else c.error("No TimedPair found for app.");const o=["beforeunload","pagehide"],a=o.includes(null==s?void 0:s.type),l=o.includes(null==s?void 0:s.pauseReason);(a||l)&&this._endOffsiteTimedPair(),n||e(null!=t&&t,void 0,s),c.groupEnd()})),r(this,"_activateComponent",(e=>{c.group("Activating component",u()),t&&c.log(e.getContext());const n=e.getTimedPair();if(n){n.start();const{view:t,viewParameter:s,component:r,element:o,objectId:a,clientTrackingParams:u}=e.getLoggerContext();i({event_type:4702,view_type:t,view_parameter:s,component:r,element:o,object_id_str:a,view_data:e.props.viewData,pair_id:n.uuid,clientTrackingParams:u,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext)}c.groupEnd()})),r(this,"_deactivateComponent",(e=>{c.group("Deactivating component",u()),t&&c.log(e.getContext());const n=e.getTimedPair();if(n){const{view:t,viewParameter:s,component:r,element:o,objectId:a,clientTrackingParams:u}=n,l=n.end();i({event_type:4703,view_type:t,view_parameter:s,component:r,element:o,object_id_str:a,view_data:e.props.viewData,duration_ns:l,pair_id:n.uuid,clientTrackingParams:u,aux_data:{time_spent_foreground_pairid:this.appTimedPair&&this.appTimedPair.uuid,time_spent_parent_pairid:e.getParentId(),...e.props.auxData}},this.historyStackContext)}c.groupEnd()})),r(this,"_startOffsiteTimedPair",(()=>{const{clickthroughProperties:e}=this;e&&(this.offsiteTimedPair=new s.Z({...e,view:186,viewParameter:e.view_parameter,objectId:e.object_id_str}),this.offsiteTimedPair.start(),this.offsiteTimedPairForegroundId=this.appTimedPair?this.appTimedPair.uuid:null,i({...e,event_type:4702,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...e.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId}},this.historyStackContext))})),r(this,"_endOffsiteTimedPair",(()=>{const{offsiteTimedPair:e,clickthroughProperties:t}=this;if(e&&t){const n=e.end();i({...t,event_type:4703,view_type:186,pair_id:this.offsiteTimedPair?this.offsiteTimedPair.uuid:null,aux_data:{...t.aux_data,time_spent_foreground_pairid:this.offsiteTimedPairForegroundId},duration_ns:n},this.historyStackContext),this.clearClickthroughProperties()}})),r(this,"_pauseAllComponents",(()=>{c.group("Pause all components"),l.forEach(((e,t,i)=>{e===o&&this._deactivateComponent(t),i.set(t,a)})),c.groupEnd()})),r(this,"_unpauseAllComponents",(()=>{c.group("Unpause all components"),l.forEach(((e,t)=>{t.setTimedPair(new s.Z(t.getLoggerContext()))})),l.forEach(((e,t)=>{l.set(t,o),this._activateComponent(t)})),c.groupEnd()}))}setHistoryStackContext(e){this.historyStackContext=e}registerComponent(e){null===this.appTimedPair?l.set(e,a):(l.set(e,o),this._activateComponent(e))}unregisterComponent(e){l.get(e)===o&&(this._deactivateComponent(e),e.setTimedPair(new s.Z(e.getLoggerContext()))),l.delete(e)}size(){return l.size}}}},395164:(e,t,i)=>{i.d(t,{T:()=>o,Z:()=>a});var n=i(226198),s=i(314880);const r=[];function o(e){let t;try{t=JSON.stringify({errorObj:e})}catch(u){t=JSON.stringify({errorObj:{message:e.message,name:"logToServer stringify exception"}})}const i=(o={report_context:JSON.stringify({current_url:window.location.href,client_version:"dc27f9a"}),report_data:t},Object.keys(o).map((e=>e+"="+encodeURIComponent(o[e]))).join("&"));var o;const a=window.btoa(i);if(-1===r.indexOf(a)){const e=new XMLHttpRequest;e.open("post","/_/_/logClientError/",!0),e.setRequestHeader("Content-type","application/x-www-form-urlencoded");const t=(0,s.H)();t&&e.setRequestHeader("X-Pinterest-PWS-Handler",t),e.setRequestHeader("X-CSRFToken",function(e){const t=("; "+document.cookie).split("; "+e.name+"=");return 2===t.length?t.pop().split(";").shift():""}(n.fS)),e.send(i),r.push(a)}r.length>100&&r.shift()}function a(){window.addEventListener("error",(e=>{const t=e.error||{};o({name:t.name,message:t.message||e.message,stack:t.stack,filename:e.filename,line:e.lineno,column:e.colno})})),window.addEventListener("unhandledrejection",(e=>{var t,i,n,s,r;if(!((null==e?void 0:e.reason)instanceof Error))return;const{reason:a}=e,u="string"==typeof(null==a?void 0:a.message)?a.message:String(a);o({name:null!==(t=null==a?void 0:a.name)&&void 0!==t?t:"unhandledrejection",message:u,message_detail:null==a?void 0:a.message_detail,original_message:null==a?void 0:a.original_message,stack:null==a?void 0:a.stack,filename:null==a?void 0:a.fileName,line:null!==(i=null!==(n=null==a?void 0:a.lineno)&&void 0!==n?n:null==a?void 0:a.line)&&void 0!==i?i:null==a?void 0:a.lineNumber,column:null!==(s=null!==(r=null==a?void 0:a.column)&&void 0!==r?r:null==a?void 0:a.colno)&&void 0!==s?s:null==a?void 0:a.columnNumber})}))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/9859-8e99ac0b31e4b314.mjs.map