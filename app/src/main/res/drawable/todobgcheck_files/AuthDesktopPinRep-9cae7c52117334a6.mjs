(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[2984,51798,39395,61116,99155,3278,82020,78821,8475,22545,54372,96991,85815,88273,34441,18419,53959,27950,8575],{850115:e=>{e.exports="https://s.pinimg.com/webapp/goodIdea-b770896d.svg"},379507:e=>{e.exports="https://s.pinimg.com/webapp/haha-e2800d2d.svg"},637956:e=>{e.exports="https://s.pinimg.com/webapp/love-c31e0b8d.svg"},909745:e=>{e.exports="https://s.pinimg.com/webapp/thanks-62775475.svg"},128206:e=>{e.exports="https://s.pinimg.com/webapp/wow-3cb697ef.svg"},477412:e=>{e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length;++i<n&&!1!==t(e[i],i,e););return e}},829932:e=>{e.exports=function(e,t){for(var i=-1,n=null==e?0:e.length,o=Array(n);++i<n;)o[i]=t(e[i],i,e);return o}},744037:(e,t,i)=>{var n=i(698363),o=i(3674);e.exports=function(e,t){return e&&n(t,o(t),e)}},163886:(e,t,i)=>{var n=i(698363),o=i(481704);e.exports=function(e,t){return e&&n(t,o(t),e)}},285990:(e,t,i)=>{var n=i(646384),o=i(477412),r=i(234865),s=i(744037),a=i(163886),l=i(364626),c=i(200278),d=i(318805),u=i(201911),_=i(458234),p=i(946904),h=i(664160),m=i(43824),E=i(529148),g=i(738517),f=i(701469),y=i(644144),v=i(356688),I=i(513218),T=i(472928),P=i(3674),S=i(481704),b="[object Arguments]",A="[object Function]",R="[object Object]",x={};x[b]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object DataView]"]=x["[object Boolean]"]=x["[object Date]"]=x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Map]"]=x["[object Number]"]=x[R]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object Symbol]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Error]"]=x[A]=x["[object WeakMap]"]=!1,e.exports=function e(t,i,O,C,w,N){var D,L=1&i,k=2&i,M=4&i;if(O&&(D=w?O(t,C,w,N):O(t)),void 0!==D)return D;if(!I(t))return t;var j=f(t);if(j){if(D=m(t),!L)return c(t,D)}else{var U=h(t),F=U==A||"[object GeneratorFunction]"==U;if(y(t))return l(t,L);if(U==R||U==b||F&&!w){if(D=k||F?{}:g(t),!L)return k?u(t,a(D,t)):d(t,s(D,t))}else{if(!x[U])return w?t:{};D=E(t,U,L)}}N||(N=new n);var B=N.get(t);if(B)return B;N.set(t,D),T(t)?t.forEach((function(n){D.add(e(n,i,O,n,t,N))})):v(t)&&t.forEach((function(n,o){D.set(o,e(n,i,O,o,t,N))}));var G=j?void 0:(M?k?p:_:k?S:P)(t);return o(G||t,(function(n,o){G&&(n=t[o=n]),r(D,o,e(n,i,O,o,t,N))})),D}},297786:(e,t,i)=>{var n=i(671811),o=i(240327);e.exports=function(e,t){for(var i=0,r=(t=n(t,e)).length;null!=e&&i<r;)e=e[o(t[i++])];return i&&i==r?e:void 0}},225588:(e,t,i)=>{var n=i(664160),o=i(637005);e.exports=function(e){return o(e)&&"[object Map]"==n(e)}},829221:(e,t,i)=>{var n=i(664160),o=i(637005);e.exports=function(e){return o(e)&&"[object Set]"==n(e)}},618674:e=>{e.exports=function(e){return function(t){return null==e?void 0:e[t]}}},880531:(e,t,i)=>{var n=i(562705),o=i(829932),r=i(701469),s=i(733448),a=n?n.prototype:void 0,l=a?a.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(r(t))return o(t,e)+"";if(s(t))return l?l.call(t):"";var i=t+"";return"0"==i&&1/t==-Infinity?"-0":i}},554290:(e,t,i)=>{var n=i(406557);e.exports=function(e){return"function"==typeof e?e:n}},671811:(e,t,i)=>{var n=i(701469),o=i(115403),r=i(555514),s=i(479833);e.exports=function(e,t){return n(e)?e:o(e,t)?[e]:r(s(e))}},257157:(e,t,i)=>{var n=i(274318);e.exports=function(e,t){var i=t?n(e.buffer):e.buffer;return new e.constructor(i,e.byteOffset,e.byteLength)}},593147:e=>{var t=/\w*$/;e.exports=function(e){var i=new e.constructor(e.source,t.exec(e));return i.lastIndex=e.lastIndex,i}},540419:(e,t,i)=>{var n=i(562705),o=n?n.prototype:void 0,r=o?o.valueOf:void 0;e.exports=function(e){return r?Object(r.call(e)):{}}},318805:(e,t,i)=>{var n=i(698363),o=i(799551);e.exports=function(e,t){return n(e,o(e),t)}},201911:(e,t,i)=>{var n=i(698363),o=i(151442);e.exports=function(e,t){return n(e,o(e),t)}},889464:(e,t,i)=>{var n=i(618674)({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});e.exports=n},946904:(e,t,i)=>{var n=i(868866),o=i(151442),r=i(481704);e.exports=function(e){return n(e,r,o)}},151442:(e,t,i)=>{var n=i(862488),o=i(385924),r=i(799551),s=i(770479),a=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,r(e)),e=o(e);return t}:s;e.exports=a},43824:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var i=e.length,n=new e.constructor(i);return i&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},529148:(e,t,i)=>{var n=i(274318),o=i(257157),r=i(593147),s=i(540419),a=i(477133);e.exports=function(e,t,i){var l=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new l(+e);case"[object DataView]":return o(e,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return a(e,i);case"[object Map]":return new l;case"[object Number]":case"[object String]":return new l(e);case"[object RegExp]":return r(e);case"[object Set]":return new l;case"[object Symbol]":return s(e)}}},115403:(e,t,i)=>{var n=i(701469),o=i(733448),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var i=typeof e;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=e&&!o(e))||(s.test(e)||!r.test(e)||null!=t&&e in Object(t))}},624523:(e,t,i)=>{var n=i(288306);e.exports=function(e){var t=n(e,(function(e){return 500===i.size&&i.clear(),e})),i=t.cache;return t}},555514:(e,t,i)=>{var n=i(624523),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,s=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,i,n,o){t.push(n?o.replace(r,"$1"):i||e)})),t}));e.exports=s},240327:(e,t,i)=>{var n=i(733448);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t}},150361:(e,t,i)=>{var n=i(285990);e.exports=function(e){return n(e,5)}},607187:(e,t,i)=>{var n=i(889464),o=i(479833),r=/[&<>"']/g,s=RegExp(r.source);e.exports=function(e){return(e=o(e))&&s.test(e)?e.replace(r,n):e}},227361:(e,t,i)=>{var n=i(297786);e.exports=function(e,t,i){var o=null==e?void 0:n(e,t);return void 0===o?i:o}},356688:(e,t,i)=>{var n=i(225588),o=i(307518),r=i(531167),s=r&&r.isMap,a=s?o(s):n;e.exports=a},472928:(e,t,i)=>{var n=i(829221),o=i(307518),r=i(531167),s=r&&r.isSet,a=s?o(s):n;e.exports=a},288306:(e,t,i)=>{var n=i(883369);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var i=function(){var n=arguments,o=t?t.apply(this,n):n[0],r=i.cache;if(r.has(o))return r.get(o);var s=e.apply(this,n);return i.cache=r.set(o,s)||r,s};return i.cache=new(o.Cache||n),i}o.Cache=n,e.exports=o},498913:(e,t,i)=>{var n=i(422545),o=i(554290),r=i(640554),s=4294967295,a=Math.min;e.exports=function(e,t){if((e=r(e))<1||e>9007199254740991)return[];var i=s,l=a(e,s);t=o(t),e-=s;for(var c=n(l,t);++i<e;)t(i);return c}},418601:(e,t,i)=>{var n=i(14841),o=1/0;e.exports=function(e){return e?(e=n(e))===o||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},640554:(e,t,i)=>{var n=i(418601);e.exports=function(e){var t=n(e),i=t%1;return t==t?i?t-i:t:0}},479833:(e,t,i)=>{var n=i(880531);e.exports=function(e){return null==e?"":n(e)}},782677:(e,t,i)=>{function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function o(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}function r(){return(r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}).apply(this,arguments)}function s(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function a(e){return!(!e||"function"!=typeof e.hasOwnProperty||!(e.hasOwnProperty("__ownerID")||e._map&&e._map.hasOwnProperty("__ownerID")))}function l(e,t,i){return Object.keys(e).reduce((function(t,n){var o=""+n;return t.has(o)?t.set(o,i(t.get(o),e[o])):t}),t)}i.d(t,{Fv:()=>T,cY:()=>b,fK:()=>I});var c=function(){function e(e,t,i){if(void 0===t&&(t={}),void 0===i&&(i={}),!e||"string"!=typeof e)throw new Error("Expected a string key for Entity, but found "+e+".");var n=i,o=n.idAttribute,s=void 0===o?"id":o,l=n.mergeStrategy,c=void 0===l?function(e,t){return r({},e,t)}:l,d=n.processStrategy,u=void 0===d?function(e){return r({},e)}:d,_=n.fallbackStrategy,p=void 0===_?function(e,t){}:_;this._key=e,this._getId="function"==typeof s?s:function(e){return function(t){return a(t)?t.get(e):t[e]}}(s),this._idAttribute=s,this._mergeStrategy=c,this._processStrategy=u,this._fallbackStrategy=p,this.define(t)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,i){var n,o=e[i];return r({},t,((n={})[i]=o,n))}),this.schema||{})},t.getId=function(e,t,i){return this._getId(e,t,i)},t.merge=function(e,t){return this._mergeStrategy(e,t)},t.fallback=function(e,t){return this._fallbackStrategy(e,t)},t.normalize=function(e,t,i,n,o,r){var s=this,a=this.getId(e,t,i),l=this.key;if(l in r||(r[l]={}),a in r[l]||(r[l][a]=[]),r[l][a].some((function(t){return t===e})))return a;r[l][a].push(e);var c=this._processStrategy(e,t,i);return Object.keys(this.schema).forEach((function(t){if(c.hasOwnProperty(t)&&"object"==typeof c[t]){var i=s.schema[t],a="function"==typeof i?i(e):i;c[t]=n(c[t],c,t,a,o,r)}})),o(this,c,e,t,i),a},t.denormalize=function(e,t){var i=this;return a(e)?l(this.schema,e,t):(Object.keys(this.schema).forEach((function(n){if(e.hasOwnProperty(n)){var o=i.schema[n];e[n]=t(e[n],o)}})),e)},o(e,[{key:"key",get:function(){return this._key}},{key:"idAttribute",get:function(){return this._idAttribute}}]),e}(),d=function(){function e(e,t){t&&(this._schemaAttribute="string"==typeof t?function(e){return e[t]}:t),this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=e},t.getSchemaAttribute=function(e,t,i){return!this.isSingleSchema&&this._schemaAttribute(e,t,i)},t.inferSchema=function(e,t,i){if(this.isSingleSchema)return this.schema;var n=this.getSchemaAttribute(e,t,i);return this.schema[n]},t.normalizeValue=function(e,t,i,n,o,r){var s=this.inferSchema(e,t,i);if(!s)return e;var a=n(e,t,i,s,o,r);return this.isSingleSchema||null==a?a:{id:a,schema:this.getSchemaAttribute(e,t,i)}},t.denormalizeValue=function(e,t){var i=a(e)?e.get("schema"):e.schema;return this.isSingleSchema||i?t((this.isSingleSchema?void 0:a(e)?e.get("id"):e.id)||e,this.isSingleSchema?this.schema:this.schema[i]):e},o(e,[{key:"isSingleSchema",get:function(){return!this._schemaAttribute}}]),e}(),u=function(e){function t(t,i){if(!i)throw new Error('Expected option "schemaAttribute" not found on UnionSchema.');return e.call(this,t,i)||this}s(t,e);var i=t.prototype;return i.normalize=function(e,t,i,n,o,r){return this.normalizeValue(e,t,i,n,o,r)},i.denormalize=function(e,t){return this.denormalizeValue(e,t)},t}(d),_=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var i=t.prototype;return i.normalize=function(e,t,i,n,o,s){var a=this;return Object.keys(e).reduce((function(t,i,l){var c,d=e[i];return null!=d?r({},t,((c={})[i]=a.normalizeValue(d,e,i,n,o,s),c)):t}),{})},i.denormalize=function(e,t){var i=this;return Object.keys(e).reduce((function(n,o){var s,a=e[o];return r({},n,((s={})[o]=i.denormalizeValue(a,t),s))}),{})},t}(d),p=function(e){if(Array.isArray(e)&&e.length>1)throw new Error("Expected schema definition to be a single schema, but found "+e.length+".");return e[0]},h=function(e){return Array.isArray(e)?e:Object.keys(e).map((function(t){return e[t]}))},m=function(e,t,i,n,o,r,s){return e=p(e),h(t).map((function(t,a){return o(t,i,n,e,r,s)}))},E=function(e,t,i){return e=p(e),t&&t.map?t.map((function(t){return i(t,e)})):t},g=function(e){function t(){return e.apply(this,arguments)||this}s(t,e);var i=t.prototype;return i.normalize=function(e,t,i,n,o,r){var s=this;return h(e).map((function(e,a){return s.normalizeValue(e,t,i,n,o,r)})).filter((function(e){return null!=e}))},i.denormalize=function(e,t){var i=this;return e&&e.map?e.map((function(e){return i.denormalizeValue(e,t)})):e},t}(d),f=function(e,t,i,n,o,s,a){var l=r({},t);return Object.keys(e).forEach((function(i){var n=e[i],r="function"==typeof n?n(t):n,c=o(t[i],t,i,r,s,a);null==c?delete l[i]:l[i]=c})),l},y=function(e,t,i){if(a(t))return l(e,t,i);var n=r({},t);return Object.keys(e).forEach((function(t){null!=n[t]&&(n[t]=i(n[t],e[t]))})),n},v=function e(t,i,n,o,r,s){return"object"==typeof t&&t?"object"!=typeof o||o.normalize&&"function"==typeof o.normalize?o.normalize(t,i,n,e,r,s):(Array.isArray(o)?m:f)(o,t,i,n,e,r,s):t},I={Array:g,Entity:c,Object:function(){function e(e){this.define(e)}var t=e.prototype;return t.define=function(e){this.schema=Object.keys(e).reduce((function(t,i){var n,o=e[i];return r({},t,((n={})[i]=o,n))}),this.schema||{})},t.normalize=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return f.apply(void 0,[this.schema].concat(t))},t.denormalize=function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return y.apply(void 0,[this.schema].concat(t))},e}(),Union:u,Values:_},T=function(e,t){if(!e||"object"!=typeof e)throw new Error('Unexpected input given to normalize. Expected type to be "object", found "'+(null===e?"null":typeof e)+'".');var i={},n=function(e){return function(t,i,n,o,r){var s=t.key,a=t.getId(n,o,r);s in e||(e[s]={});var l=e[s][a];e[s][a]=l?t.merge(l,i):i}}(i);return{entities:i,result:v(e,e,null,t,n,{})}},P=function(e){var t={},i=S(e);return function e(n,o){return"object"!=typeof o||o.denormalize&&"function"==typeof o.denormalize?null==n?n:o instanceof c?function(e,t,i,n,o){var s=n(e,t);if(void 0===s&&t instanceof c&&(s=t.fallback(e,t)),"object"!=typeof s||null===s)return s;if(o[t.key]||(o[t.key]={}),!o[t.key][e]){var l=a(s)?s:r({},s);o[t.key][e]=l,o[t.key][e]=t.denormalize(l,i)}return o[t.key][e]}(n,o,e,i,t):o.denormalize(n,e):(Array.isArray(o)?E:y)(o,n,e)}},S=function(e){var t=a(e);return function(i,n){var o=n.key;return"object"==typeof i?i:t?e.getIn([o,i.toString()]):e[o]&&e[o][i]}},b=function(e,t,i){if(void 0!==e)return P(i)(e,t)}},762587:e=>{function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,i,n,o){i=i||"&",n=n||"=";var r={};if("string"!=typeof e||0===e.length)return r;var s=/\+/g;e=e.split(i);var a=1e3;o&&"number"==typeof o.maxKeys&&(a=o.maxKeys);var l=e.length;a>0&&l>a&&(l=a);for(var c=0;c<l;++c){var d,u,_,p,h=e[c].replace(s,"%20"),m=h.indexOf(n);m>=0?(d=h.substr(0,m),u=h.substr(m+1)):(d=h,u=""),_=decodeURIComponent(d),p=decodeURIComponent(u),t(r,_)?Array.isArray(r[_])?r[_].push(p):r[_]=[r[_],p]:r[_]=p}return r}},712361:e=>{var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,i,n,o){return i=i||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(o){var r=encodeURIComponent(t(o))+n;return Array.isArray(e[o])?e[o].map((function(e){return r+encodeURIComponent(t(e))})).join(i):r+encodeURIComponent(t(e[o]))})).join(i):o?encodeURIComponent(t(o))+n+encodeURIComponent(t(e)):""}},817673:(e,t,i)=>{t.decode=t.parse=i(762587),t.encode=t.stringify=i(712361)},52511:function(e,t,i){var n;e=i.nmd(e),function(o){t&&t.nodeType,e&&e.nodeType;var r="object"==typeof i.g&&i.g;r.global!==r&&r.window!==r&&r.self;var s,a=2147483647,l=36,c=/^xn--/,d=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,_={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=Math.floor,h=String.fromCharCode;function m(e){throw RangeError(_[e])}function E(e,t){for(var i=e.length,n=[];i--;)n[i]=t(e[i]);return n}function g(e,t){var i=e.split("@"),n="";return i.length>1&&(n=i[0]+"@",e=i[1]),n+E((e=e.replace(u,".")).split("."),t).join(".")}function f(e){for(var t,i,n=[],o=0,r=e.length;o<r;)(t=e.charCodeAt(o++))>=55296&&t<=56319&&o<r?56320==(64512&(i=e.charCodeAt(o++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),o--):n.push(t);return n}function y(e){return E(e,(function(e){var t="";return e>65535&&(t+=h((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=h(e)})).join("")}function v(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function I(e,t,i){var n=0;for(e=i?p(e/700):e>>1,e+=p(e/t);e>455;n+=l)e=p(e/35);return p(n+36*e/(e+38))}function T(e){var t,i,n,o,r,s,c,d,u,_,h,E=[],g=e.length,f=0,v=128,T=72;for((i=e.lastIndexOf("-"))<0&&(i=0),n=0;n<i;++n)e.charCodeAt(n)>=128&&m("not-basic"),E.push(e.charCodeAt(n));for(o=i>0?i+1:0;o<g;){for(r=f,s=1,c=l;o>=g&&m("invalid-input"),((d=(h=e.charCodeAt(o++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:l)>=l||d>p((a-f)/s))&&m("overflow"),f+=d*s,!(d<(u=c<=T?1:c>=T+26?26:c-T));c+=l)s>p(a/(_=l-u))&&m("overflow"),s*=_;T=I(f-r,t=E.length+1,0==r),p(f/t)>a-v&&m("overflow"),v+=p(f/t),f%=t,E.splice(f++,0,v)}return y(E)}function P(e){var t,i,n,o,r,s,c,d,u,_,E,g,y,T,P,S=[];for(g=(e=f(e)).length,t=128,i=0,r=72,s=0;s<g;++s)(E=e[s])<128&&S.push(h(E));for(n=o=S.length,o&&S.push("-");n<g;){for(c=a,s=0;s<g;++s)(E=e[s])>=t&&E<c&&(c=E);for(c-t>p((a-i)/(y=n+1))&&m("overflow"),i+=(c-t)*y,t=c,s=0;s<g;++s)if((E=e[s])<t&&++i>a&&m("overflow"),E==t){for(d=i,u=l;!(d<(_=u<=r?1:u>=r+26?26:u-r));u+=l)P=d-_,T=l-_,S.push(h(v(_+P%T,0))),d=p(P/T);S.push(h(v(d,0))),r=I(i,y,n==o),i=0,++n}++i,++t}return S.join("")}s={version:"1.3.2",ucs2:{decode:f,encode:y},decode:T,encode:P,toASCII:function(e){return g(e,(function(e){return d.test(e)?"xn--"+P(e):e}))},toUnicode:function(e){return g(e,(function(e){return c.test(e)?T(e.slice(4).toLowerCase()):e}))}},void 0===(n=function(){return s}.call(t,i,t,e))||(e.exports=n)}()},608575:(e,t,i)=>{var n=i(52511),o=i(762502);function r(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=y,t.resolve=function(e,t){return y(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?y(e,!1,!0).resolveObject(t):t},t.format=function(e){o.isString(e)&&(e=y(e));return e instanceof r?e.format():r.prototype.format.call(e)},t.Url=r;var s=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),d=["'"].concat(c),u=["%","/","?",";","#"].concat(d),_=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,h=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},E={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},f=i(817673);function y(e,t,i){if(e&&o.isObject(e)&&e instanceof r)return e;var n=new r;return n.parse(e,t,i),n}r.prototype.parse=function(e,t,i){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var r=e.indexOf("?"),a=-1!==r&&r<e.indexOf("#")?"?":"#",c=e.split(a);c[0]=c[0].replace(/\\/g,"/");var y=e=c.join(a);if(y=y.trim(),!i&&1===e.split("#").length){var v=l.exec(y);if(v)return this.path=y,this.href=y,this.pathname=v[1],v[2]?(this.search=v[2],this.query=t?f.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var I=s.exec(y);if(I){var T=(I=I[0]).toLowerCase();this.protocol=T,y=y.substr(I.length)}if(i||I||y.match(/^\/\/[^@\/]+@[^@\/]+/)){var P="//"===y.substr(0,2);!P||I&&E[I]||(y=y.substr(2),this.slashes=!0)}if(!E[I]&&(P||I&&!g[I])){for(var S,b,A=-1,R=0;R<_.length;R++){-1!==(x=y.indexOf(_[R]))&&(-1===A||x<A)&&(A=x)}-1!==(b=-1===A?y.lastIndexOf("@"):y.lastIndexOf("@",A))&&(S=y.slice(0,b),y=y.slice(b+1),this.auth=decodeURIComponent(S)),A=-1;for(R=0;R<u.length;R++){var x;-1!==(x=y.indexOf(u[R]))&&(-1===A||x<A)&&(A=x)}-1===A&&(A=y.length),this.host=y.slice(0,A),y=y.slice(A),this.parseHost(),this.hostname=this.hostname||"";var O="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!O)for(var C=this.hostname.split(/\./),w=(R=0,C.length);R<w;R++){var N=C[R];if(N&&!N.match(p)){for(var D="",L=0,k=N.length;L<k;L++)N.charCodeAt(L)>127?D+="x":D+=N[L];if(!D.match(p)){var M=C.slice(0,R),j=C.slice(R+1),U=N.match(h);U&&(M.push(U[1]),j.unshift(U[2])),j.length&&(y="/"+j.join(".")+y),this.hostname=M.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),O||(this.hostname=n.toASCII(this.hostname));var F=this.port?":"+this.port:"",B=this.hostname||"";this.host=B+F,this.href+=this.host,O&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==y[0]&&(y="/"+y))}if(!m[T])for(R=0,w=d.length;R<w;R++){var G=d[R];if(-1!==y.indexOf(G)){var z=encodeURIComponent(G);z===G&&(z=escape(G)),y=y.split(G).join(z)}}var V=y.indexOf("#");-1!==V&&(this.hash=y.substr(V),y=y.slice(0,V));var H=y.indexOf("?");if(-1!==H?(this.search=y.substr(H),this.query=y.substr(H+1),t&&(this.query=f.parse(this.query)),y=y.slice(0,H)):t&&(this.search="",this.query={}),y&&(this.pathname=y),g[T]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var Z=this.search||"";this.path=F+Z}return this.href=this.format(),this},r.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",n=this.hash||"",r=!1,s="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(s=f.stringify(this.query));var a=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==r?(r="//"+(r||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),t+r+(i=i.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+n},r.prototype.resolve=function(e){return this.resolveObject(y(e,!1,!0)).format()},r.prototype.resolveObject=function(e){if(o.isString(e)){var t=new r;t.parse(e,!1,!0),e=t}for(var i=new r,n=Object.keys(this),s=0;s<n.length;s++){var a=n[s];i[a]=this[a]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var d=l[c];"protocol"!==d&&(i[d]=e[d])}return g[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!g[e.protocol]){for(var u=Object.keys(e),_=0;_<u.length;_++){var p=u[_];i[p]=e[p]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||E[e.protocol])i.pathname=e.pathname;else{for(var h=(e.pathname||"").split("/");h.length&&!(e.host=h.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==h[0]&&h.unshift(""),h.length<2&&h.unshift(""),i.pathname=h.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var m=i.pathname||"",f=i.search||"";i.path=m+f}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var y=i.pathname&&"/"===i.pathname.charAt(0),v=e.host||e.pathname&&"/"===e.pathname.charAt(0),I=v||y||i.host&&e.pathname,T=I,P=i.pathname&&i.pathname.split("/")||[],S=(h=e.pathname&&e.pathname.split("/")||[],i.protocol&&!g[i.protocol]);if(S&&(i.hostname="",i.port=null,i.host&&(""===P[0]?P[0]=i.host:P.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===h[0]?h[0]=e.host:h.unshift(e.host)),e.host=null),I=I&&(""===h[0]||""===P[0])),v)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,P=h;else if(h.length)P||(P=[]),P.pop(),P=P.concat(h),i.search=e.search,i.query=e.query;else if(!o.isNullOrUndefined(e.search)){if(S)i.hostname=i.host=P.shift(),(O=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=O.shift(),i.host=i.hostname=O.shift());return i.search=e.search,i.query=e.query,o.isNull(i.pathname)&&o.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!P.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var b=P.slice(-1)[0],A=(i.host||e.host||P.length>1)&&("."===b||".."===b)||""===b,R=0,x=P.length;x>=0;x--)"."===(b=P[x])?P.splice(x,1):".."===b?(P.splice(x,1),R++):R&&(P.splice(x,1),R--);if(!I&&!T)for(;R--;R)P.unshift("..");!I||""===P[0]||P[0]&&"/"===P[0].charAt(0)||P.unshift(""),A&&"/"!==P.join("/").substr(-1)&&P.push("");var O,C=""===P[0]||P[0]&&"/"===P[0].charAt(0);S&&(i.hostname=i.host=C?"":P.length?P.shift():"",(O=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@"))&&(i.auth=O.shift(),i.host=i.hostname=O.shift()));return(I=I||i.host&&P.length)&&!C&&P.unshift(""),P.length?i.pathname=P.join("/"):(i.pathname=null,i.path=null),o.isNull(i.pathname)&&o.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},r.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},762502:e=>{e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},225643:e=>{e.exports={FeedFieldType:{ITEM_ID:1,ITEM_GROUP_ID:2,TITLE:3,DESCRIPTION:4,ITEM_LINK:5,ORGANIC_LINK:6,IMAGE_LINK:7,ADWORDS_REDIRECT_LINK:8,AD_LINK:9,SIZE:10,GOOGLE_PRODUCT_CATEGORY:11,PRODUCT_CATEGORY:12,CONDITION:13,AVAILABILITY:14,GENDER:15,AGE_GROUP:16,SIZE_TYPE:17,SIZE_SYSTEM:18,ADULT:19,SHIPPING:20,SHIPPING_WEIGHT:21,TAX:22,MULTIPACK:23,ADDITIONAL_IMAGE_LINK:24,PRICE:25,SALE_PRICE:26,IS_BUNDLE:27,EXPIRATION_DATE:28,SALE_PRICE_EFFECTIVE_DATE:29,AVAILABILITY_DATE:30,WEIGHT_UNIT:31,UPDATED_TIME:32,PRODUCT_TYPE:33,CUSTOM_LABEL_0:34,CUSTOM_LABEL_1:35,CUSTOM_LABEL_2:36,CUSTOM_LABEL_3:37,CUSTOM_LABEL_4:38,MATERIAL:39,PATTERN:40,COLOR:41,BRAND:42,GTIN:43,MPN:44,IOS_DEEP_LINK:45,ANDROID_DEEP_LINK:46,FREE_SHIPPING_LABEL:47,FREE_SHIPPING_LIMIT:48,AVG_REVIEW_RATING:49,NUM_RATINGS:50,NUM_REVIEWS:51,ALT_TEXT:52,VARIANT_NAMES:53,VARIANT_VALUES:54,MIN_AD_PRICE:55,SHIPPING_WIDTH:56,SHIPPING_HEIGHT:57,LENGTH_UNIT:58,DESCRIPTION_HTML:59,CHECKOUT_ENABLED:60,VIDEO_LINK:61},ConditionType:{NEW:1,USED:2,REFURBISHED:3},AvailabilityType:{IN_STOCK:1,OUT_OF_STOCK:2,PREORDER:3,UNAVAILABLE:4},GenderType:{MALE:1,FEMALE:2,UNISEX:3},AgeGroupType:{NEWBORN:1,INFANT:2,TODDLER:3,KIDS:4,ADULT:5},TrueFalseType:{IS_TRUE:1,IS_FALSE:2,YES:3,NO:4},SizeTypeType:{REGULAR:1,PETITE:2,PLUS:3,BIG_AND_TALL:4,MATERNITY:5},SizeSystemType:{US:1,UK:2,EU:3,DE:4,FR:5,JP:6,CN:7,IT:8,BR:9,MEX:10,AU:11},WeightUnitType:{LB:1,OZ:2,KG:3,G:4},LengthUnitType:{IN:1,FT:2,MM:3,CM:4,M:5,KM:6},ShippingLabelType:{PERISHABLE:1,BULKY:2,PROMOTION:3},FeedType:{SHOPIFY:1,DEMANDWARE:4,BIGCOMMERCE:7,WAYFAIR:8,MAGENTO:9,IBM:10,OVERSTOCK:11,CHANNEL_ADVISOR:12,STITCHER_ADS:13,CHANNEL_INTELLIGENCE:14,MERCHANT_ADVANTAGE:15,DIRECT_HTTP_TSV:18,DIRECT_SFTP_TSV:19,DIRECT_FTP_TSV:20,DIRECT_HTTP_CSV:23,DIRECT_SFTP_CSV:24,DIRECT_FTP_CSV:25,DIRECT_HTTP_XML:26,DIRECT_SFTP_XML:27,DIRECT_FTP_XML:28,SHOPIFY_BULK:29,TARGET:2,MACYS:3,NEIMAN:5,NORDSTROM:6,IPROSPECT:16,MERCENT:17,PRODUCTSUP:21,MERKEL:22},RealtimePriorityLane:{ONBOARDING:0,DEFAULT:1,LOW:2,MEDIUM:3,HIGH:4,MEGA:5,API:6},FeedApplicationType:{BUYABLE_PIN_FEED:1,PRODUCT_PIN_ADS_FEED:2},PartnerType:{NONE:0,SHOPIFY:1},EntityEnvType:{PROD:0,STAGING:1,TEST:2,PROD_TEST:3},ProductApprovalStatus:{PENDING:0,APPROVED:1,DECLINED:2},ItemState:{ACTIVE:0,DELETED:1},OrderStatus:{NEW:1,IN_PROGRESS:2,SHIPPED:3,BACKORDER:4,CANCELLED:5,DELIVERED:6,RETURNED:7},FundingType:{UNKNOWN:1,CREDIT:2,DEBIT:3,PREPAID:4},OmsType:{SHOPIFY:1,TARGET:2,WALMART:3,DEMANDWARE:4,BIGCOMMERCE:5,MACYS:6,NEIMAN:7,NORDSTROM:8,BLOOMINGDALES:9,STANDARD:21},PaymentReceiverType:{PINTEREST_STRIPE_TOKEN_SHOPIFY:1,PINTEREST_STRIPE_CARD_PMD_SHOPIFY:2,PINTEREST_STRIPE_CARD_PMD_TARGET:3,PINTEREST_STRIPE_TOKEN_PMD_SHOPIFY:4,APPLE_PAY_STRIPE_TOKEN_PMD_SHOPIFY:5,PINTEREST_BRAINTREE_CARD_PMD_SHOPIFY:6,APPLE_PAY_BRAINTREE_TOKEN_PMD_SHOPIFY:7,PINTEREST_STRIPE_CARD_PMD_MACYS:8,APPLE_PAY_STRIPE_TOKEN_PMD_MACYS:9,PINTEREST_BRAINTREE_CARD_PMD_MACYS:10,APPLE_PAY_BRAINTREE_TOKEN_PMD_MACYS:11,PINTEREST_STRIPE_CARD_PMD_NEIMAN:12,APPLE_PAY_STRIPE_TOKEN_PMD_NEIMAN:13,PINTEREST_BRAINTREE_CARD_PMD_NEIMAN:14,APPLE_PAY_BRAINTREE_TOKEN_PMD_NEIMAN:15,PINTEREST_STRIPE_CARD_PMD_DEMANDWARE:16,APPLE_PAY_STRIPE_TOKEN_PMD_DEMANDWARE:17,PINTEREST_BRAINTREE_CARD_PMD_DEMANDWARE:18,APPLE_PAY_BRAINTREE_TOKEN_PMD_DEMANDWARE:19,PINTEREST_STRIPE_CARD_PMD_NORDSTROM:20,APPLE_PAY_STRIPE_TOKEN_PMD_NORDSTROM:21,PINTEREST_BRAINTREE_CARD_PMD_NORDSTROM:22,APPLE_PAY_BRAINTREE_TOKEN_PMD_NORDSTROM:23,PINTEREST_STRIPE_CARD_PMD_BLOOMINGDALES:24,APPLE_PAY_STRIPE_TOKEN_PMD_BLOOMINGDALES:25,PINTEREST_BRAINTREE_CARD_PMD_BLOOMINGDALES:26,APPLE_PAY_BRAINTREE_TOKEN_PMD_BLOOMINGDALES:27,PINTEREST_STRIPE_CARD_PMD_STANDARD:51,APPLE_PAY_STRIPE_TOKEN_PMD_STANDARD:52,PINTEREST_BRAINTREE_CARD_PMD_STANDARD:53,APPLE_PAY_BRAINTREE_TOKEN_PMD_STANDARD:54},IncentiveType:{VISA_STATEMENT_REBATE:1,MASTERCARD_STATEMENT_REBATE:2},IncentiveEnrollmentStatus:{ENROLLED:1,UNENROLLED:2,PENDING_ENROLL:11,PENDING_UNENROLL:12},IncentiveStatus:{NEW:1,VERIFIED:2,PRE_SUBMIT:3,SUBMITTED:4,DELIVERED:5,UNCONFIRMED:10,FAILED:11},IngestionSpamType:{NOT_SPAM:0,SPAM:1,MANUAL_NOT_SPAM_OVERRIDE:2,MANUAL_SPAM_OVERRIDE:3},FeedIntent:{PRODUCT_FULL:1,PRODUCT_UPDATE:2,PRODUCT_PIN_ADS_FULL:10,PRODUCT_PIN_ADS_UPDATE:11},WorkflowStatus:{IDLE:1,RUNNING:2,FINISHED:3,FAILED:4,DISCARDED:5},FeedFormatDisplayType:{TSV:1,CSV:2,XML:3,SHOPIFY_BULK:4},FeedProfileStatus:{ACTIVE:0,NEW_NOT_YET_ACTIVE:1,INACTIVE:2,TESTING:3,DISABLED:4},FeedFormatType:{GOOGLE_TSV:1,GOOGLE_TSV_NO_QUOTE:4,GOOGLE_TSV_EXCEL:5,GOOGLE_CSV:6,SHOPIFY_BULK:8,RICH_CLAIMED:9,GOOGLE_CLOUD_STORAGE:10,NMG_XML:3,GOOGLE_XML:2,GOOGLE_CSV_EXCEL:7},PreprocessingStatusType:{PENDING:0,COMPLETED:1},FeedSourceType:{CATALOGS_FEED:1,UNIVERSAL_FEED:2},MerchantApprovalStatus:{APPROVED:0,PENDING:1,DECLINED:2,REVOKED:3,STAGING:4,PROD_TEST:5,APPEAL_PENDING:6},MerchantFeedType:{DIRECT:1,AGGREGATOR:2},MerchantReviewReason:{NO_RETURN_POLICY:0,NO_SHIPPING_POLICY:1,UNCLEAR_RETURNS:2,UNCLEAR_SHIPPING:3,SERVICES:4,TERMS_AND_SERVICES_VIOLATION:6,SPAM_VIOLATION:7,PROHIBITED_PRODUCTS:8,TRUST_AND_SAFETY_VIOLATION:9,PAYPAL:14,IN_STOCK:15,BANNER_ADS:16,DOMAIN_AGE:17,WATERMARKS:19,SALE:20,OUT_OF_DATE:21,PRODUCT_DESCRIPTION:22,POP_UP:23,NO_VIOLATION:25,MISCELLANEOUS:26,INACTIVE_FEED:33,AUTOREJECT:61,MARKETPLACE_SECOND_HAND:34,MARKETPLACE_AFFILIATES:35,MARKETPLACE_WHOLESALE:36,BROKEN_404:37,BROKEN_REGISTRATION:38,INCOMPLETE_WEBSITE_TEMPLATE:39,INCOMPLETE_PRODUCT_CATEGORIES:40,INCOMPLETE_BROKEN_SHOPPING_CART:41,LONG_SHIPPING_TIME:42,AUTHENTICITY_PLAGIARIZED_ABOUT:43,AUTHENTICITY_NO_SOCIALS_OR_ABOUT:44,AUTHENTICITY_NO_CONTACT_INFORMATION:45,AUTHENTICITY_PAYPAL_VERIFIED_LOGO:46,IMAGE_QUALITY_BLURRY_IMAGES:47,IMAGE_QUALITY_STOCK_PHOTOS:48,INAUTHENTIC_PHOTOS_EMPTY_OR_BROKEN_PHOTOS:49,INAUTHENTIC_PHOTOS_IMAGE_NOT_OF_PRODUCT:50,WATCHLIST_DROPSHIPPER:51,WATCHLIST_TRAFFIC_50_TO_69:52,WATCHLIST_TRAFFIC_70_TO_89:53,WATCHLIST_TRAFFIC_90_TO_100:54,PRODUCTS_GENERIC_PRODUCT_DESCRIPTION_OR_MISMATCH:55,PRODUCTS_NO_PRODUCT_CATEGORIES:56,RETURNS_MISMATCH:57,PINTEREST_TRAFFIC_71_TO_100:58,SCAMADVISER_SCORE_1_TO_80:59,BROKEN_SOCIAL_MEDIA:60,RESALE_MARKETPLACE:28,AFFILIATE_MARKETPLACE:29,WEBSITE_REQUIREMENTS:30,PRODUCT_REQUIREMENTS:31,BRAND_REPUTATION:32,BROKEN_URL:5,MARKETPLACE:10,DOMAIN_MISMATCH:11,INCOMPLETE:12,AUTHENTICITY:13,IMAGE_QUALITY:18,INAUTHENTIC_PHOTOS:24,DOMAIN_TOOLS_SCORE:27,TERMINATED:62,BLOCKED_DOMAIN:63,TS_DMCA_STRIKES_HIGH:64,TS_DMCA_STRIKES_MED:65,TS_OFFBOARDED:66,ADS_QUALITY_VIOLATIONS_PERCENT:67,ADS_QUALITY_VIOLATIONS_NUMBER:68,PINNER_REPORTS_PERCENT_IMPRESSIONS:69,PINNER_ZENDESK_TICKETS_HIGH:70,PINNER_ZENDESK_TICKETS_MED:71,PINNER_REPORTS_N_PINS:72,PINNER_BLOCKERS_TO_FOLLOWERS_RATIO:73,SHOPPING_INVALID_CHECKOUTS:74,SHOPPING_NO_TRUSTWORTHY_PINS:75,MERCHANT_TIER_1_VIOLATIONS:76,MERCHANT_INSPIRATIONAL_VIOLATIONS:77,MERCHANT_QUALITY_SCORE_LOW:78,MERCHANT_OFFBOARDED:79},MerchantVertical:{FASHION_WOMEN:0,FASHION_MEN:1,FASHION_CHILDREN:2,BEAUTY:3,WEDDINGS:4,HOME_DECOR:5,DIY_ARTS_AND_CRAFTS:6,OTHER:7,FOOD_AND_DRINK:8,ELECTRONICS:9,HEALTH:10},ResultOrderKey:{CREATE_TIMESTAMP:1,UPDATE_TIMESTAMP:2,USE_TIMESTAMP:3,BUYABLE_PIN_COUNT:4},NativeCheckoutPartnerType:{NONE:0,SHOPIFY:1,BOLT:2,AMAZON_US:3,AMAZON_UK:4,WALMART:5},NativeCheckoutOrderType:{SEAMLESS:0,SHOPPAY_PERMALINKS:1},NativeCheckoutOrderStatus:{UNKNOWN:0,CREATED:1,CANCELLED:2,FULFILLMENT_IN_PROGRESS:3,FULFILLED:4,FAILED:5},NativeCheckoutPaymentEvent:{UNKNOWN:0,AUTHORIZE:1,CAPTURE:2,VOID:3,REFUND:4,FAILED:5},FeedAccessType:{PUSH:1,PULL:2},FeedFetchProtocolType:{HTTP:1,FTP:2,SFTP:3},FeedFetchAuthType:{NONE:1,OAUTH:2,BASIC:3,PKI:4,CUSTOM:5},FeedDefaultOperationType:{REPLACE:1,UPDATE:2,REMOVE:3},FeedFetchWorkflowStatus:{UNINITIALIZED:0,FETCHING:1,VALIDATING:2,SORTING:10,PREPROCESSING:3,INGESTING:4,INDEX_PENDING:11,COMPLETED_CANCELLED:5,COMPLETED_SUCCESS:6,COMPLETED_FAILED:7,COMPLETED_DUPLICATE:8,COMPLETED_WITHOUT_INGESTION:9,DATA_SOURCE_INVALID_EMAIL_PENDING:12},NotificationType:{PRICE_DROP:1,FREE_SHIPPING_AVAILABLE:2,AVAILABILITY_CHANGE:3,CART_ABANDONMENT:4},FeedTargetType:{FEED_FILE:1,ITEM:2,IMAGE:3,PRODUCT:4},FeedActionType:{FEED_FILE_ARCHIVED:10,FEED_FILE_REJECTED:11,ITEM_SAVED:20,ITEM_REJECTED:21,IMAGE_SAVED:30,IMAGE_REJECTED:31,PRODUCT_SAVED:40,PRODUCT_REJECTED:41},CommerceActionType:{CLOSEUP_7_DAYS:1,REPIN_7_DAYS:2,CLICK_THROUGH_7_DAYS:3,CART_CREATE_14_DAYS:4,PURCHASE_14_DAYS:5},AnnotationVersion:{ALL_FIELDS:1},TimeRange:{DAY:1,WEEK:2,BI_WEEK:3,MONTH:4},SalesRankTimeRange:{ONE_DAY:1,SEVEN_DAYS:2,THIRTY_DAYS:3},PriceModelVersion:{ENG_CV5FR11K:0,ENG_CV5INTL11K:1,GPT_GAUSSIAN:2},Source:{POPULAR_QUERY:1,POPULAR_INTEREST:2,SEARS_KOSEI:3,CRAWLED_DATA_SEARS:4,CRAWLED_DATA_MACYS:5,CRAWLED_DATA_BLOOMINGDALES:6,CRAWLED_DATA_NORDSTROM:7,CRAWLED_DATA_NEIMAN_MARCUS:8,CRAWLED_DATA_OVERSTOCK:9,OTHER:10},State:{UNINITIALIZED:0,VALID:1,BANNED:2},Edit:{TERM_CREATE:1,STATE_UPDATE:2,LANGUAGE_UPDATE:3,TEXT_UPDATE:4,SOURCE_ADD:5,SOURCE_DEL:6,UPDATE_AUX_DATA:7,UPDATE_DISPLAY_TEXT:8},EditSource:{ADMIN:1,COMMUNITY:2,ALGO:5},RealtimeIngestionType:{FEED_PROFILE:3,API:4,FULL:1,INCREMENTAL:2},RealtimeWorkflowStage:{FETCHING:1001,TRANSFORMER:1002,BATCHER:1003,API_BATCHER:1004,VALIDATION:2001,MEDIA_PROCESSING:3001,MEDIA_PROCESSING_CALLBACK:3002,MEDIA_PREPROCESSING:3003,MEDIA_PREPROCESSING_CALLBACK:3004,VIDEO_PROCESSING:3005,VIDEO_PROCESSING_CALLBACK:3006,PIN_CREATION:4001,PIN_CREATION_CALLBACK:4002,PIN_UPDATE_CALLBACK:4003,INDEXING:5001,PRE_AGGREGATION:6e3,AGGREGATION:6001,UNIFIED_CATALOG_WRITE:7001},RealtimeWorkflowStatus:{INITIALIZED:1e3,RUNNING:2e3,SUCCESS:3e3,FAILED:4e3,DUPLICATE:5e3,TERMINATED:6e3,TIMED_OUT:7e3,RETRY_VALIDATION:8e3,INDEX_VALIDATION_PENDING:9e3},RealtimeWorkflowBatchStatus:{SCHEDULED:100,RUNNING:200,SUCCESS:300,FAILED:400,TERMINATED:500},ItemDropReason:{MERCHANT_NOT_APPROVED:0,STALE_EPOCH:1,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:2,BLOCKLISTED_IMAGE_SIGNATURE:3},Environment:{PROD:0,DEV:1,STAGING:2,CANARY:3},MerchantClientName:{SHOPPING_MERCHANT_DEFAULT:1,SHOPPING_MERCHANT_LOW:4,SHOPPING_MERCHANT_MEDIUM:3,SHOPPING_MERCHANT_HIGH:2,SHOPPING_MERCHANT_VERY_HIGH:5,SHOPPING_MERCHANT_TIER_0:6},EventType:{FETCH_SAME_SIGNATURE:2,FETCH_INACTIVE_FEED_ERROR:3,ITEM_COUNTRY_DOES_NOT_MATCH_BATCH_COUNTRY:93,ITEM_LOCALE_DOES_NOT_MATCH_BATCH_LOCALE:94,ITEM_DUPLICATE_ID_ERROR:95,IMAGE_LINK_NOT_SUPPORTED:96,ADDITIONAL_IMAGE_LINK_NOT_SUPPORTED:97,ITEM_NOT_FOUND:98,ITEM_ALREADY_EXISTS:99,FETCH_ERROR:100,ENCODING_ERROR:101,DELIMITER_ERROR:102,REQUIRED_COLUMNS_MISSING:103,IMAGE_LINK_INVALID:104,ITEMID_MISSING:105,TITLE_MISSING:106,DESCRIPTION_MISSING:107,PRODUCT_CATEGORY_MISSING:108,PRODUCT_CATEGORY_INVALID:109,PRODUCT_LINK_MISSING:110,IMAGE_LINK_MISSING:111,AVAILABILITY_INVALID:112,PRODUCT_PRICE_INVALID:113,TITLE_LENGTH_TOO_LONG:114,DESCRIPTION_LENGTH_TOO_LONG:115,CONDITION_INVALID:116,GENDER_INVALID:117,AGE_GROUP_INVALID:118,SIZE_TYPE_INVALID:119,PARSE_LINE_ERROR:120,LINK_FORMAT_WARNING:121,LINK_FORMAT_INVALID:122,DUPLICATE_PRODUCTS:123,DUPLICATE_LINKS:124,SALES_PRICE_INVALID:125,PRODUCT_CATEGORY_DEPTH_WARNING:126,ADWORDS_SAME_AS_LINK:127,INTERNAL_SERVICE_ERROR:128,DUPLICATE_HEADERS:129,TAX_INVALID:130,SHIPPING_INVALID:131,SHIPPING_WEIGHT_INVALID:132,MULTIPACK_INVALID:133,ADWORDS_FORMAT_WARNING:134,ADWORDS_FORMAT_INVALID:135,IMAGE_LINK_WARNING:136,ADDITIONAL_IMAGE_LINK_WARNING:137,FEED_LENGTH_TOO_LONG:138,INVALID_DOMAIN:139,NO_VERIFIED_DOMAIN:140,ADULT_INVALID:141,LINK_LENGTH_TOO_LONG:142,MALFORMED_XML:143,EXPIRATION_DATE_INVALID:144,AVAILABILITY_DATE_INVALID:145,SALE_DATE_INVALID:146,WEIGHT_UNIT_INVALID:147,IS_BUNDLE_INVALID:148,UPDATED_TIME_INVALID:149,REDIRECT_INVALID:150,PRICE_MISSING:151,FEED_TOO_SMALL:152,CUSTOM_LABEL_LENGTH_TOO_LONG:153,PRODUCT_TYPE_LENGTH_TOO_LONG:154,TOO_MANY_ADDITIONAL_IMAGE_LINKS:155,SHOPIFY_NO_PRODUCTS:156,OPTIONAL_PRODUCT_CATEGORY_MISSING:157,OPTIONAL_PRODUCT_CATEGORY_INVALID:158,OPTIONAL_CONDITION_MISSING:159,OPTIONAL_CONDITION_INVALID:160,IOS_DEEP_LINK_INVALID:161,ANDROID_DEEP_LINK_INVALID:162,AVAILABILITY_NORMALIZED:163,CONDITION_NORMALIZED:164,GENDER_NORMALIZED:165,AGE_GROUP_NORMALIZED:166,SIZE_TYPE_NORMALIZED:167,UTM_SOURCE_AUTO_CORRECTED:168,COUNTRY_DOES_NOT_MAP_TO_CURRENCY:169,MIN_AD_PRICE_INVALID:170,ADULT_FLAGGED:171,ITEM_INGESTION_DATA_NOT_FOUND:172,IMAGE_LINK_LENGTH_TOO_LONG:173,ADDITIONAL_IMAGE_LINK_LENGTH_TOO_LONG:174,FREE_SHIPPING_LIMIT_INVALID:175,AVERAGE_REVIEW_RATING_INVALID:176,ITEM_ID_LENGTH_TOO_LONG:177,ITEM_GROUP_ID_LENGTH_TOO_LONG:178,GTIN_INVALID:179,STALE_EPOCH:4021,BLOCKLISTED_GOOGLE_PRODUCT_CATEGORY:4022,MAX_ITEMS_PER_ITEM_GROUP_EXCEEDED:1012,IMAGE_DOWNLOAD_SUCCESS:1e3,IMAGE_DOWNLOAD_ERROR:1001,IMAGE_DOWNLOAD_UNRECOGNIZED_ERROR:1005,IMAGE_DOWNLOAD_CONNECTION_TIMEOUT:1006,IMAGE_FORMAT_UNRECOGNIZE:1007,LINE_LEVEL_INTERNAL_ERROR:1008,INDEXED_PRODUCT_COUNT_LARGE_DELTA:1013,INDEXED_PRODUCT_COUNT_LARGE_DELTA_FALIURE:1014,IMAGE_NOT_FOUND:1010,IMAGE_UNAUTHORIZED_FAILURE:1101,IMAGE_DOWNLOAD_INTERNAL_ERROR:1102,IMAGE_DOWNLOAD_UPLOAD_REQUEST_EXPIRED:1103,IMAGE_DOWNLOAD_FILE_NOT_ACCESSIBLE:1104,IMAGE_DOWNLOAD_MALFORMED_URL:1105,IMAGE_FAILED_TO_DOWNLOAD:1106,IMAGE_DOWNLOAD_FILE_NOT_FOUND:1107,IMAGE_DOWNLOAD_CONFIGURATION_ERROR:1108,IMAGE_DOWNLOAD_INVALID_FILE:1109,IMAGE_DOWNLOAD_ERROR_RATE_LIMITED:1110,IMAGE_PREPROCESSING_SUCCESS:1120,IMAGE_PREPROCESSING_ERROR:1121,IMAGE_PREPROCESSING_INTERNAL_ERROR:1122,IMAGE_PREPROCESSING_UPLOAD_REQUEST_EXPIRED:1123,IMAGE_PREPROCESSING_FILE_NOT_ACCESSIBLE:1124,IMAGE_PREPROCESSING_MALFORMED_URL:1125,IMAGE_FAILED_TO_PREPROCESS:1126,IMAGE_PREPROCESSING_FILE_NOT_FOUND:1127,IMAGE_PREPROCESSING_CONFIGURATION_ERROR:1128,IMAGE_PREPROCESSING_INVALID_FILE:1129,IMAGE_PREPROCESSING_ERROR_RATE_LIMITED:1130,IMAGE_PREPROCESSING_UNRECOGNIZED_ERROR:1131,IMAGE_DOWNLOAD_HTTP_STATUS_400:1200,IMAGE_DOWNLOAD_HTTP_STATUS_403:1201,IMAGE_DOWNLOAD_HTTP_STATUS_404:1202,IMAGE_DOWNLOAD_HTTP_STATUS_405:1203,IMAGE_DOWNLOAD_HTTP_STATUS_410:1204,IMAGE_DOWNLOAD_HTTP_STATUS_429:1205,IMAGE_DOWNLOAD_HTTP_STATUS_500:1206,IMAGE_DOWNLOAD_HTTP_STATUS_502:1207,IMAGE_DOWNLOAD_HTTP_STATUS_503:1208,IMAGE_DOWNLOAD_HTTP_STATUS_504:1209,IMAGE_DOWNLOAD_HTTP_STATUS_507:1210,IMAGE_DOWNLOAD_HTTP_STATUS_508:1211,IMAGE_DOWNLOAD_HTTP_STATUS_520:1213,IMAGE_DOWNLOAD_HTTP_STATUS_521:1214,IMAGE_DOWNLOAD_HTTP_STATUS_522:1215,IMAGE_DOWNLOAD_HTTP_STATUS_525:1216,IMAGE_DOWNLOAD_SITE_TIMEOUT:1300,IMAGE_DOWNLOAD_CONTENT_READ_ERROR:1301,IMAGE_DOWNLOAD_SITE_ERROR:1302,IMAGE_DOWNLOAD_SSL_ERROR:1303,IMAGE_DOWNLOAD_SSL_HANDSHAKE_ERROR:1304,IMAGE_DOWNLOAD_DNS_LOOKUP_ERROR:1305,IMAGE_PROCESSING_HEIGHT_TOO_SMALL:1400,IMAGE_PROCESSING_WIDTH_TOO_SMALL:1401,IMAGE_PROCESSING_TOO_MANY_PIXELS:1402,IMAGE_PROCESSING_TYPE_MISMATCH:1403,IMAGE_PROCESSING_EMPTY_FILE:1404,IMAGE_DOWNLOAD_JOB_NOT_FOUND:1500,JOB_INITIALIZED:4e3,JOB_RUNNING:4001,JOB_ENQUEUE_FAILED:4002,JOB_COMPLETED:4010,UNIQUE_FEED_PRODUCTS:4027,FEED_FILE_ITEMS:4040,FEED_FILE_BATCHES:4051,SHOPIFY_ORIGINAL_NUMBER_OF_ITEMS:4056,SHOPIFY_ITEMS_NOT_PUBLISHED_ON_PINTEREST:4057,SHOPIFY_ONLINE_STORE_URL_MISSING:4058,SHOPIFY_TRANSLATIONS_MISSING:4059,SHOPIFY_ILLEGAL_STATE_EXCEPTIONS:4088,SHOPIFY_NULL_POINTER_EXCEPTIONS:4089,SHOPIFY_VARIANT_CURRENCY_EXCEPTIONS:4090,SHOPIFY_CURRENCY_MAPPING_NOT_FOUND:4091,SHOPIFY_NUMBER_OF_COLLECTIONS:4104,MERCHANT_NOT_APPROVED:4020,PIN_SELECTION_FAILURE:4024,ITEM_SCORE_FETCH_FAILURE:4025,ITEM_INDEX_WRITE_FAILURE:4026,ITEM_INDEX_WRITE_SUCCESS:4039,UNIFIED_CATALOG_ITEM_WRITE_FAILURE:4092,UNIFIED_CATALOG_ITEM_WRITE_SUCCESS:4093,UNIFIED_CATALOG_FEED_ITEM_WRITE_SUCCESS:4105,ITEM_PERFORMANCE_DATA_FETCH_FAILURE:4086,ITEM_PRODUCT_ITEM_PINS_FETCH_FAILURE:4087,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_SUCCESS:4094,UNIFIED_CATALOG_WRITE_FROM_INDEXING_JOB_FAILURE:4095,BATCH_ITEM_OPERATION_VALIDATION_FAILURE:4115,ITEM_CONVERSION_UNIFIED_CATALOG_WRITE_FAILURE:4096,ITEM_CANONICALIZATION_UNIFIED_CATALOG_WRITE_FAILURE:4097,ITEM_SUBSET_UNIFIED_CATALOG_WRITE_FAILURE:4098,ITEM_CREATION_UNIFIED_CATALOG_WRITE_FAILURE:4099,ITEM_UPDATE_UNIFIED_CATALOG_WRITE_FAILURE:4100,ITEM_RECONCILIATION_UNIFIED_CATALOG_WRITE_FAILURE:4101,ITEM_NOT_PASS_DECIDER_UNIFIED_CATALOG_WRITE_FAILURE:4102,ITEM_ASYNC_IO_UNIFIED_CATALOG_WRITE_FAILURE:4103,UNIFIED_CATALOG_RESPONSE_MISSING_ITEM:4106,UNIFIED_CATALOG_RESPONSE_ITEM_STILL_PROCESSING:4107,UNIFIED_CATALOG_RESPONSE_ITEM_WRITE_FAILURE:4108,UNIFIED_CATALOG_RESPONSE_SKIP_FAILURE:4109,UNIFIED_CATALOG_RESPONSE_RECONCILIATION_FAILED:4110,UNIFIED_CATALOG_RESPONSE_FILTER_FAILURE:4111,UNIFIED_CATALOG_RESPONSE_IGNORED_EMPTY_EVENT_FAILURE:4112,UNIFIED_CATALOG_RESPONSE_UNKNOWN_FAILURE:4113,UNIFIED_CATALOG_RESPONSE_NO_ERROR_MESSAGE_FAILURE:4114,ITEM_MAIN_IMAGE_PREPROCESSING_FAILURE:4070,ITEM_MAIN_IMAGE_PREPROCESSING_INTERNAL_ERROR:4071,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_FAILURE:4072,ITEM_ADDITIONAL_IMAGE_PREPROCESSING_INTERNAL_ERROR:4073,IP_CALLBACK_RIO_REQUEST_FAIL:4074,IP_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4075,IP_MAIN_IMAGES_NEED_TO_BE_DOWNLOADED:4076,IP_MAIN_IMAGES_RECEIVED_IN_CALLBACK:4077,IP_ADDITIONAL_IMAGES_NEED_TO_BE_DOWNLOADED:4078,IP_ADDITIONAL_IMAGES_RECEIVED_IN_CALLBACK:4079,IP_MAIN_IMAGES_IN_CACHE:4080,IP_ADDITIONAL_IMAGES_IN_CACHE:4081,ITEM_MAIN_IMAGE_DOWNLOAD_FAILURE:4028,ITEM_MAIN_IMAGE_DOWNLOAD_INTERNAL_ERROR:4054,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_FAILURE:4029,ITEM_ADDITIONAL_IMAGE_DOWNLOAD_INTERNAL_ERROR:4055,BMD_CALLBACK_RIO_REQUEST_FAIL:4045,BMD_CALLBACK_IMAGE_CACHE_CREATE_FAIL:4046,PIN_CREATION_IMAGE_CACHE_READ_FAIL:4047,PIN_CREATION_ITEM_PIN_CACHE_READ_FAIL:4048,PIN_CREATION_REQ_SUCCESS:4030,PIN_CREATION_REQ_FAILED:4031,PIN_CREATION_REQ_INVALID_USER:4032,PIN_CREATION_REQ_INVALID_BOARD:4033,PIN_CREATION_REQ_FAIL_SPAM_CHECK:4034,PIN_CREATION_REQ_INVALID_SIGNATURE:4035,PIN_CREATION_CB_CREATED_SUCCESS:4036,PIN_CREATION_INTERNAL_FAILURE:4037,PIN_CREATION_NO_CACHED_SIGNATURE:4038,PIN_CREATION_BULK_UPDATE_FAILURE:4044,PIN_CREATION_MAIN_IMAGE_SPAM_CHECK_FAILED:4060,PIN_CREATION_ADDITIONAL_IMAGE_SPAM_CHECK_FAILED:4061,PIN_CREATION_FAILED_TO_CREATE:4082,PIN_CREATION_FAILED_TO_PROCESS:4083,PIN_CREATION_FAILED_SENT_TO_KAFKA:4084,PIN_CREATION_NOT_SUPPORTED_BOARD:4085,BPC_CALLBACK_READ_IMAGE_FAIL:4049,BPC_CALLBACK_READ_PIN_CACHE_FAIL:4050,BLOCKLISTED_IMAGE_SIGNATURE:4023,BLOCKLISTED_ADDITIONAL_IMAGE_SIGNATURE:4041,PINJOIN_CONTENT_UNSAFE:4042,ADDITIONAL_PINJOIN_CONTENT_UNSAFE:4043,GPT_UNSAFE_SIGNATURE:4052,GPT_UNSAFE_ADDITIONAL_SIGNATURE:4053,FIELD_IS_EQUAL_TO_PREVIOUS_VALUE:5e3,INTERNAL_LOGGING_ERROR:8e3,STATUS_TRACKING_JOB_FAILURE:8001,WORKLFLOW_SLA_MISSED:8002,PRE_AGGREGATION_SUCCESS:8003,PRE_AGGREGATION_FAILURE:8004,PRE_AGGREGATION_INVALID_EPOCH_INGESTION:8005,PRE_AGGREGATION_FAILED_INDEXED_PRODUCT_COUNT_DELTA:8006,PRE_AGGREGATION_FAILED_INDEXED_SR_THRESHOLD:8007,PRE_AGGREGATION_INVALID_FIRST_INGESTION:8008,PRE_AGGREGATION_SURPASSED_NUM_RETRIES:8009,PRE_AGGREGATION_SKIPPED_STREAMING_ENABLED:8010,IN_STOCK:9e3,OUT_OF_STOCK:9001,PREORDER:9002,NEW_ITEM:9003,UPDATED_PRICE:9004,UPDATED_AVAILABILITY:9005,FEED_FILE_VIDEO_ITEMS_FOUND:9006,VIDEO_LINK_INVALID:9007,VIDEO_LINK_MISSING_MAIN_IMAGE:9008,VIDEO_LINK_LENGTH_TOO_LONG:9026,VIDEO_DOWNLOAD_INTERNAL_ERROR:9009,VIDEO_FAILED_TO_DOWNLOAD:9010,VIDEO_DOWNLOAD_FILE_NOT_FOUND:9011,VIDEO_DOWNLOAD_FILE_NOT_ACCESSIBLE:9012,VIDEO_DOWNLOAD_INVALID_FILE:9013,VIDEO_DOWNLOAD_UPLOAD_REQUEST_EXPIRED:9014,VIDEO_DOWNLOAD_MALFORMED_URL:9015,VIDEO_DOWNLOAD_CONFIGURATION_ERROR:9016,VIDEO_DOWNLOAD_ERROR_RATE_LIMITED:9017,PIN_CREATION_BULK_UPDATE_FAILURE_VIDEO:9018,VIDEO_INDEXED:9019,VIDEO_UNIFIED_CATALOG_ITEM_WRITE_SUCCESS:9020,VIDEO_PROCESSING_CALLBACK_VIDEO_STORE_CREATE_FAIL:9025},ItemValidationToolFeedLevelEventType:{VALIDATE_FEED_FAILURE:1,MALFORMED_XML:2,XML_TO_TSV_TRANSFORMATION_FAILURE:3,FEED_HEADER_INVALID:4,ITEM_VALIDATION_TOOL_INTERNAL_ERROR:5},LogLevel:{INFO:1,DEBUG:2,WARN:3,ERROR:4},BatchStatus:{PROCESSING:1,COMPLETED:2},ItemOperationType:{UPDATE:1,CREATE:2,UPSERT:3,DELETE:4},ShoppingCounterDimensions:{WORKFLOW_EVENT:1,WORKFLOW_STAGE:2},FeedIngestionEventType:{JOB_FAILURE:7,JOB_SUCCESS:8}}},778423:e=>{e.exports={ReasonToChoose:{REPIN_BOARD:1,USER_ACTIVITY:4,CLICKTHROUGH:9,FRESH_REPIN_BOARD:47,FRESH_CLICKTHROUGH:48,FRESH_USER_ACTIVITY:49,LOCAL_REPIN_BOARD:13,LOCAL_CLICKTHROUGH:32,LOCAL_USER_ACTIVITY:33,P2P_CLICKTHROUGH:28,INSTANT_PFY_NON_MATERIALIZABLE:36,FOLLOWED_INTEREST:5,TOPIC_BEST_PINS:70,EMBEDDING_BASED_BEST_PINS:173,RECOMMENDED_TOPICS:65,GRAPHSAGE_USER_EMBEDDINGS_TO_ORGANIC_PINS:109,NAVBOOST_PFY:89,NAVBOOST_P2P:88,NOTIFICATION_NEWS_HUB:138,GEMINI_INTERESTS_FRESH:104,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN:100,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_STORY_PIN_ENGAGEMENT:175,INTENTIONAL_DISTRIBUTION_USER_TO_CREATOR_VIDEO:95,INTENTIONAL_DISTRIBUTION_DOMAIN:86,INTENTIONAL_DISTRIBUTION_TOPICS_STORY_PINS:91,INTENTIONAL_DISTRIBUTION_TOPICS_VIDEO:98,GRAPHSAGE_MULTI_PINS_TO_CREATOR_PINS_REALTIME:135,GRAPHSAGE_MULTI_PINS_TO_VIDEO_PINS_REALTIME:139,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS_REALTIME:140,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGEED_INTERESTS_VIDEO:118,INTENTIONAL_DISTRIBUTION_MANUAL_TAGGED_INTERESTS_STORY_PIN:130,CREATOR_DIRECT_INJECT:148,USER_INTERESTS_TO_LONGTERM_CREATOR_PINS:141,GRAPHSAGE_PRODUCT_PINS:97,GRAPHSAGE_USER_EMBEDDINGS_TO_PINS:108,PROMOTED_PIN:15,UNKNOWN:0,RECOMMENDED_CATEGORY:2,COOKIE_MONSTER:3,REALTIME_P2B:6,REALTIME_P2B_CLOSEUP:22,RECOMMENDED_INTEREST:7,VISUALLY_SIMILAR:8,BOARD_FOLLOW:35,USER_FOLLOW:45,RECOMMENDED_COMMERCE:10,EVERYTHING_FEED:11,RECOMMENDED_LOCAL_PIN:12,SEARCH:46,P2P_USER_COMMERCE:16,COMMERCE_EDUCATION:17,LANDING_PAGE_PINS:18,FOLLOWING_FEED:19,POPULAR_FEED:20,P2P_DYNAMIC_GRID:23,LANDING_PAGE_INTEREST_PINS:24,FRESH_PIN_FROM_PIN:25,FRESH_PIN_FROM_INTEREST:26,FRESH_PIN_FROM_BOARD:27,SIFTER_VIDEO_FROM_INTEREST:39,SIFTER_PRODUCTS:57,SIFTER_DISTRIBUTION_A:50,SIFTER_DISTRIBUTION_B:51,SIFTER_DISTRIBUTION_C:52,SIFTER_DISTRIBUTION_D:53,SIFTER_DISTRIBUTION_E:54,SIFTER_ACTIVATION_EXPERIMENT:58,SIFTER_FRESHMAKER_PIN_FROM_INTEREST:40,P2P_CLOSEUP:29,P2P_LIKE:30,P2P_PIN_CREATE:31,INSTANT_PFY:34,DYNAMIC_INSERTION:37,DYNAMIC_INSERTION_BOARD_FOLLOW:38,HYPERLOCAL_INTEREST_BOARD:41,NUX_BOARD_FOLLOW_P2P:42,INDIRECT_DOMAIN_PIN:43,PIXIE_PINS_FOR_BOARD:44,SCREENSHOT_SAVE:55,TEXT_EMBEDDINGS:56,FRESH_TEXT_EMBEDDINGS:67,PREFETCH_LOAD:60,DIVERSE_TOPICS:62,QUIZ_RESULTS:63,INTENTIONAL_DISTRIBUTION_TOPICS:64,INTENTIONAL_DISTRIBUTION_TOPICS_THIRD_PARTY:90,INTENTIONAL_DISTRIBUTION_GEMINI:73,INTENTIONAL_DISTRIBUTION_GEMINI_V5:120,INTENTIONAL_DISTRIBUTION_SHOP_STYLE_STL:74,INTENTIONAL_DISTRIBUTION_GRAPHSAGE:78,INTENTIONAL_DISTRIBUTION_REPIN_BOARD:80,INTENTIONAL_DISTRIBUTION_CLICKTHROUGH:81,INTENTIONAL_DISTRIBUTION_USER_ACTIVITY:82,INTENTIONAL_DISTRIBUTION_CREATOR_BASELINE:92,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS:102,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_STORY_PIN:103,INTENTIONAL_DISTRIBUTION_RECOMMENDED_TOPICS_DIVERSITY:105,PIXIE_RECENT_ACTION:66,NATIVE_CONTENT_TOPICS:68,BUBBLE_OPEN_TOPICS:69,TOPIC_BEST_PINS_V2:77,DAILY_BEST_PINS:79,TOPIC_BEST_PINS_V3:101,TOPIC_BEST_STORY_PINS:164,REC_SEQ_STORY_PIN_CLS:165,DARK_PROMOTED_PIN:71,POST_EXPLORE_TOPICS:72,GRAPHSAGE_EMBEDDINGS:75,DEMOGRAPHIC_PFY:76,SHOPPING_STL:83,UNAUTH_PIXIE_P2B:84,UNAUTH_PIXIE_P2P:85,VIDEO_EMBEDDINGS:87,VIDEO_EMBEDDINGS_GEMINI_V5:121,GEMINI_V5_EMBEDDINGS_STATIC:93,GEMINI_V5_EMBEDDINGS_FRESH:94,GEMINI_V5_EMBEDDINGS_REALTIME:106,GEMINI_V5_EMBEDDINGS_STORYPIN:107,CURATED_VIDEO_INTEREST:96,GRAPHSAGE_PRODUCT_PINS_LONGER_HISTORY:112,GRAPHSAGE_SHOPPABLE_INSPIRATION:126,GRAPHSAGE_PRODUCT_PINS_EXPERIMENTAL:134,NUX_GRAPHSAGE:99,GRAPHSAGE_USER_EMBEDDINGS_TO_PRODUCT_PINS:110,GRAPHSAGE_VIDEO_PINS:113,RECBOOST_REPIN_BOARD:114,RECBOOST_CLICKTHROUGH:115,RECBOOST_USER_ACTIVITY:116,RECBOOST_CREATOR_BOARDS:129,RECOMMENDED_BOARDS:117,RECOMMENDED_ANNOTATION_BOARDS:136,RECOMMENDED_GRAPHSAGE_BOARDS:153,INTENTIONAL_DISTRIBUTION_RECOMMENDED_GRAPHSAGE_BOARDS:191,RECOMMENDED_CREATOR_BOARDS:124,ANNOTATION_REC_CREATOR_BOARDS:127,INTENTIONAL_DISTRIBUTION_MANUAL_INTERESTS_VIDEO:119,INTENTIONAL_DISTRIBUTION_INTERESTS_VIDEO:143,INTENTIONAL_DISTRIBUTION_INTERESTS_STORY_PIN:144,REPIN_CREATOR_BOARD:122,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS:123,GRAPHSAGE_USER_EMBEDDINGS_TO_CREATOR_PINS_REALTIME:131,FRESH_SIG_FROM_BOARD:125,RECENT_ENGAGED_CREATOR_BOARDS:128,RECENT_ENGAGED_BOARDS:132,SHOPPING_CREATOR_REALTIME:133,GRAPHSAGE_BASED_RECOMMENDED_CREATOR_BOARDS:137,PIXIE_P2P:142,NEW_USE_CASE_PINS:145,RECBOOST_NEW_USE_CASES:146,SEARCHSAGE_PFY:147,SEARCHSAGE_SHOPPING_PFY:155,INTEREST_EXPLORATION:149,INTEREST_EXPLORATION_TRENDY_QUERIES:150,INTEREST_EXPLORATION_RELATED_INTERESTS:151,RECBOOST_INTERESTS:152,HF_STORY_SHOPPING_RETARGETING:154,RECBOOST_STORY_PINS:156,RECBOOST_STORY_BOARDS:157,PINNABILITY_EMBEDDINGS:158,PINNABILITY_FRESH_STORY_EMBEDDINGS:159,PINNABILITY_STORY_EMBEDDINGS:160,EXPLORATION_STORY_PINS:161,EXPLORATION_STORY_PINS_BASELINE:162,EXPLOITATION_STORY_PINS:163,ANNOTATION_REC_CREATOR_STORY_PINS:166,GRAPHSAGE_MULTI_PINS_TO_STORY_PINS:167,IDEASTREAM_GRAPHSAGE_STORY_PINS:168,HF_EDUCATION_PIN_INSERTION:169,RP_EDUCATION_PIN_INSERTION:170,USER_TO_CREATOR_STORY_PINS:171,USER_TO_CREATOR_STORY_PINS_ENGAGEMENT:176,COENGAGEMENT_STORY_PINS:172,ANNOTATION_STORY_PINS:177,DISCOVER_STREAM_DEMOGRAPHIC_FALLBACK:178,DISCOVER_STREAM_CELEBRITY:179,GRAPHSAGE_SHOPIFY_VMP_PRODUCT_PINS:180,CREATOR_BEST_IDEA_PINS:181,INTEREST_BEST_IDEA_PINS:182,NAVBOOST_STORY_PINS:183,SHOPPING_DISTRIBUTION_PINS:185,WATCH_TAB_EHQ_STORIES:186,NOTIF_LEARNED_RETRIEVAL:187,LANDING_PAGE_PIN_RECOMMENDATIONS:188,PINNERSAGE_LEARNED_EMBEDDINGS:189,TOPIC_FEED:190,RTC_IMPROVEMENT_TEST_1:501,RTC_IMPROVEMENT_TEST_2:502,RTC_IMPROVEMENT_TEST_3:503,RTC_IMPROVEMENT_TEST_4:504,RTC_IMPROVEMENT_TEST_5:505,RTC_IMPROVEMENT_TEST_6:506,RTC_IMPROVEMENT_TEST_7:507,RTC_IMPROVEMENT_TEST_8:508,RTC_IMPROVEMENT_TEST_9:509,RTC_IMPROVEMENT_TEST_10:510,RTC_IMPROVEMENT_TEST_11:511,RTC_IMPROVEMENT_TEST_12:512,RTC_IMPROVEMENT_TEST_13:513,RTC_IMPROVEMENT_TEST_14:514,RTC_IMPROVEMENT_TEST_15:515,RTC_BLENDER_TEST:516,P2P_COMMERCE:21,P2P:14,LENS_CAMERA_VISUALLY_SIMILAR:111,RECENT_FOLLOWED_INTEREST:59,RECENT_FOLLOWED_BOARD:61,GRAPHSAGE_SHOPIFY_VMP_MERCHANT_ACTIVATION_PRODUCT_PINS:174,FOLLOWED_INTEREST_SEO_BESPIN_EXPORATION:184},ThroughObjectType:{PIN_ID:1,IMAGE_SIGNATURE:2,BOARD_ID:3,INTEREST_ID:4,SEARCH_QUERY:5,CREATOR_ID:6,ANNOTATION_ID:7,NEARDUP_SIGNATURE:8}}},787410:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(667294),o=i(973935),r=i(785893);function s(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const a=new Map;let l=null;const c=e=>{e.forEach((e=>{const t=a.get(e.target);t&&t(e)}))},d=e=>{class t extends n.Component{constructor(...e){super(...e),s(this,"seen",!1),s(this,"enter",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;this.seen=t,this.seen&&this.props.onVisibilityChanged(!0)})),s(this,"leave",(()=>{const e=this._node;e&&(e=>a.has(e))(e)&&this.seen&&(this.props.onVisibilityChanged(!1),this.seen=!1)})),s(this,"observe",(e=>{try{this._node=o.findDOMNode(this)}catch(n){return}if(!this._node)return;const{inAdsDesktopVideoExperiment:t}=this.props,i=this._node;((e,t="-64px 0px 0px 0px",i)=>{const n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};l=l||new window.IntersectionObserver(c,n),a.set(e,i),l.observe(e)})(i,e,(e=>{if(!a.has(i))return;const n=t?e.intersectionRatio>=.5:e.intersectionRatio>0||e.isIntersecting,o=this.props.trackFullVisible?e.intersectionRatio>=1:n,r=this.props.trackFullVisible?0===e.intersectionRatio:!o;!this.seen&&o?this.enter(e):this.seen&&r&&this.leave()}))}))}componentDidMount(){const{rootMargin:e}=this.props;this.observe(e)}componentWillUnmount(){const e=this._node;e&&(this.leave(),(e=>{l.unobserve(e),a.delete(e)})(e))}render(){return(0,r.jsx)(e,{...this.props})}}return s(t,"displayName",`DeprecatedWithVisibilityChanged(${e.displayName||e.name})`),t}},991773:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294);const o=new Map;let r=null;const s=e=>{e.forEach((e=>{const t=o.get(e.target);t&&t(e)}))};function a({onVisibilityChanged:e,inAdsDesktopVideoExperiment:t,trackFullVisible:i,rootMargin:a}){const l=(0,n.useRef)(null);let c=!1;const d=()=>{var t;l.current instanceof HTMLElement&&(t=l.current,o.has(t))&&(c&&(e(!1),c=!1))},u=(0,n.useCallback)((n=>{l.current instanceof HTMLElement&&((e,t="-64px 0px 0px 0px",i)=>{const n={root:"undefined"==typeof document?null:document.querySelector("#mainContainer"),rootMargin:t,threshold:[0,.5,1]};r=r||new window.IntersectionObserver(s,n),o.set(e,i),r.observe(e)})(l.current,n,(n=>{if(!o.has(l.current))return;const r=t?n.intersectionRatio>=.5:n.intersectionRatio>0||n.isIntersecting,s=i?n.intersectionRatio>=1:r,a=i?0===n.intersectionRatio:!s;!c&&s?(t=>{const i=t.intersectionRatio>0||t.isIntersecting;c=i,c&&e(!0)})(n):c&&a&&d()}))}),[l.current]);return(0,n.useEffect)((()=>(u(a),()=>{var e;l.current instanceof HTMLElement&&(d(),e=l.current,r.unobserve(e),o.delete(e))})),[u]),l}},832654:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(349700);function o(e,t){const{alt_text:i,auto_alt_text:o}=e;return i?(0,n.nk)(t._('This contains: {{ altText }}', 'web.altText', 'Alt text input by a human'),{altText:i}).join(""):o?(0,n.nk)(t._('This may contain: {{ autoAltText }}', 'web.altText', 'Alt text generated by a computer'),{autoAltText:o}).join(""):null}},69e4:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(667294),o=i(702664),r=i(521556),s=i(898781),a=i(6637);var l=i(883119),c=i(785893);function d({favorited:e,favoriteCount:t,isCloseupButton:i,onFavorite:d,onUnfavorite:u,pinId:_,size:p}){const h=(0,s.ZP)(),m=(0,o.useDispatch)(),[E,g]=(0,n.useState)(!1),[f,y]=(0,n.useState)(e),[v,I]=(0,n.useState)(null!=t?t:0),T=async()=>{var e;y(!f),g(!0),f?(I(v-1),await m((e=_,async t=>{await a.Z.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callDelete(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:-1,value:!1}}}(e))})),u(),g(!1)):(I(v+1),await m(function(e){return async t=>{await a.Z.create("ApiResource",{url:`/v3/pins/${e}/favorite/`}).callCreate(),t(function(e){return{type:"PIN_FAVORITE",payload:{id:e,increment:1,value:!0}}}(e))}}(_)),d(),g(!1))},P=v<10?v:h._('9+', 'favoriteButton.favoriteCountText', 'Text shown when greater than 9 favorites on Pin');return(0,c.jsxs)(l.kC,{alignItems:"center",gap:{row:1,column:0},children:[void 0!==t&&v>0&&(0,c.jsx)(l.xv,{size:"200",weight:"bold",children:P}),(0,c.jsx)(r.Z,{isCloseupButton:i,isDisabled:E,isFavorited:f,onTap:()=>{T()},size:p})]})}},578722:(e,t,i)=>{i.d(t,{H1:()=>c,HW:()=>r,iL:()=>l,pN:()=>a,s_:()=>s});var n=i(19121),o=i(773285);const r=new Date(2022,1,1);function s(){const{checkExperiment:e}=(0,o.F)(),t=["enabled_public","employees"].includes(e("web_ip_plays",{dangerouslySkipActivation:!0}).group),i=e("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled,n=e("android_ios_web_ip_plays_dark_reads").anyEnabled;return t||i||n}function a({isOwnPin:e,isStoryPin:t,pinCreationDate:i,surface:s}){const a=(0,n.Z)(),{checkExperiment:l}=(0,o.F)(),c=l("web_play_playtime_pin_stats",{dangerouslySkipActivation:!0}).anyEnabled,d=!!("CreatorProfileStoryPinGrid"===s&&t&&i&&i.getTime()>=r.getTime()&&c&&a.isPartner&&e)&&l("web_ip_plays").anyEnabled,u=["enabled_public","employees"].includes(l("web_ip_plays",{dangerouslySkipActivation:!0}).group);if("CreatorProfileStoryPinGrid"===s&&t&&i&&i.getTime()>=r.getTime()){if(a.isPartner)return e&&d||!e&&u;if(l("web_ip_pinner_plays").anyEnabled)return!0}return!1}function l({isOwnPin:e,isPartner:t}){const{checkExperiment:i}=(0,o.F)(),n=["enabled_public","employees"].includes(i("web_ip_plays",{dangerouslySkipActivation:!0}).group),r=i("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(e||!(r&&!t||n&&t))}function c({isOwnPin:e,isPartner:t}){const{checkExperiment:i}=(0,o.F)(),n=i("web_ip_plays",{dangerouslySkipActivation:!0}).anyEnabled,r=i("web_ip_pinner_plays",{dangerouslySkipActivation:!0}).anyEnabled;return!(!e||!(n&&t||r&&!t))}},397066:(e,t,i)=>{i.d(t,{b:()=>d,h:()=>u});var n=i(983722),o=i(768559),r=i(43760),s=i(966113),a=i(619937),l=i(48714),c=i(366284);const d=({href:e,pinId:t,pin:i,location:r,auxData:d},u)=>{if(i&&i.is_promoted){var _,p;const v=(0,o.Z)(i,r),I=(0,l.nS)({url:e,pinId:t,csrId:null,clientTrackingParams:v,auxData:d}),T=(0,n.Z)();if((0,c.G6)(null!==(_=null==T?void 0:T.userAgent.browserName)&&void 0!==_?_:"")){var h,m;const{group:n}=null!==(h=null==T?void 0:T.experimentsClient.checkExperiment("m10n_event_conversion_measurement"))&&void 0!==h?h:{};let o=null!=T&&null!==(m=T.userAgent)&&void 0!==m&&m.browserVersion?T.userAgent.browserVersion:"0.0";if(o=parseFloat(o.split(".")[0]+"."+o.split(".")[1]),void 0!==i.campaign_id&&o>=14.1&&["enabled_safari"].includes(n)){var E;const n=i.attribution_source_id?((e,t,i)=>{const n=document.createElement("a");return n.setAttribute("href",t),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block",n.setAttribute(a.$N.ATTRIBUTION_SOURCE_ID,e),n.setAttribute(a.$N.ATTRIBUTE_DESTINATION,i),n.setAttribute(a.$N.ATTRIBUTE_ON,i),n.click(),e})(i.attribution_source_id,I,e):((e,t,i)=>{const n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("target","_blank"),n.setAttribute("rel","noopener nofollow noreferrer"),n.style.cursor="pointer",n.style.display="block";const o=""+(e%32*8+Math.floor(((new Date).getTime()-16409952e5)/864e5)%8);return n.setAttribute(a.$N.ATTRIBUTION_SOURCE_ID,o),n.setAttribute(a.$N.ATTRIBUTE_DESTINATION,i),n.setAttribute(a.$N.ATTRIBUTE_ON,i),n.click(),o})(null!==(E=i.pin_promotion_id)&&void 0!==E?E:0,I,e);return u({event_type:101,clientTrackingParams:v,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:i.pin_promotion_id||"",click_measurement_campaign_id:i.campaign_id||"",is_pcm:!0,attribution_source_id:n,page_url:e}}),!0}}else if((0,c.i7)(null!==(p=null==T?void 0:T.userAgent.browserName)&&void 0!==p?p:"")){var g,f;const{group:n}=null!==(g=null==T?void 0:T.experimentsClient.checkExperiment("m10n_event_conversion_measurement_chrome"))&&void 0!==g?g:{},o=null!=T&&null!==(f=T.userAgent)&&void 0!==f&&f.browserVersion?parseInt(T.userAgent.browserVersion.split(".")[0],10):0;if(void 0!==i.attribution_source_id&&o>=101&&["enabled"].includes(n)){var y;const n=((e,t,i)=>{const n=new URL(`${s.Z.settings.CANONICAL_MAIN_URL}/attribution_source/`);n.searchParams.set(a.NR.ATTRIBUTION_SOURCE_EVENT_ID,e),n.searchParams.set(a.NR.ATTRIBUTION_DESTINATION,i),n.searchParams.set(a.NR.ATTRIBUTION_EXPIRY,""+a.uV);const o=document.createElement("a");return o.setAttribute("href",t),o.setAttribute("target","_blank"),o.setAttribute("rel","noopener nofollow noreferrer"),o.style.cursor="pointer",o.style.display="block",o.setAttribute(a.NR.ATTRIBUTION_SOURCE,n.toString()),o.click(),e})(null!==(y=i.attribution_source_id)&&void 0!==y?y:"0",I,e);return u({event_type:101,clientTrackingParams:v,object_id_str:t||"",aux_data:{pin_id:t||"",click_measurement_ppid:i.pin_promotion_id||"",click_measurement_campaign_id:i.campaign_id||"",is_arapi:!0,attribution_source_id:n,page_url:e}}),!0}}}return!1},u=({href:e,pinId:t,pin:i,location:n,auxData:s},a)=>{if("undefined"!=typeof window&&window.Windows)(0,r.Z)({url:e,pinId:t,pin:i,location:n,auxData:s});else{if(d({href:e,pinId:t,pin:i,location:n,auxData:s},a))return;(0,l.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:(0,o.Z)(i,n),auxData:s})}}},955362:(e,t,i)=>{i.r(t),i.d(t,{default:()=>g});var n=i(667294),o=i(702664),r=i(205202),s=i(248975),a=i(959275),l=i(883561),c=i(898781),d=i(542563),u=i(811403),_=i(623568),p=i(844949),h=i(946595),m=i(883119),E=i(785893);function g({feedbackData:e,feedbackType:t,pin:i,pinTitle:g,setForcePrimary:f,transparentBackground:y}){var v,I;const T=(0,c.ZP)(),P=(0,o.useDispatch)(),{viewParameter:S,viewType:b}=(0,h.E)(),{reportPin:A}=(0,p.f)(),[R,x]=(0,n.useState)(!1),[O,C]=(0,n.useState)(),{ad_match_reason:w,show_ad_reasons:N,board:D,category:L,description:k,id:M="",images:j,is_promoted:U,pinner:F,promoter:B,recommendation_reason:G,source_interest:z,videos:V}=i;var H;const Z=(H=U?60:50,function(e){return(0,l.ZP)((e||"").trim(),H)})(null!=k?k:""),W=(0,r.Z)(j,"236x"),$=(0,_.iR)(V),Y=(0,d.Z)(101,{component:0,element:981,object_id_str:M,aux_data:{feedback_type:t}}),K=()=>{N||(f(!1),P((0,u.i0)(M)),x(!1))};return(0,E.jsxs)(n.Fragment,{children:[(0,E.jsx)(m.xu,{"data-test-id":"feedback-button",ref:C,children:(0,E.jsx)(m.hU,{accessibilityLabel:T._('More information', 'accessibility label for overflow menu button', 'accessibility label for overflow menu button'),bgColor:y?"transparent":"white",icon:"ellipsis",iconColor:"darkGray",onClick:()=>{R?K():(f(!0),x(!0)),Y()},size:"sm"})}),R&&(0,E.jsx)(m.xu,{onFocus:e=>e.stopPropagation(),children:(0,E.jsx)(a.Z,{anchor:O,ad_match_reason:w,bestPinImgSrc:(0,s.Z)({images:i.images,embedSrc:null===(v=i.embed)||void 0===v?void 0:v.src,embedType:null===(I=i.embed)||void 0===I?void 0:I.type}),board:D,feedbackData:e,feedbackType:t,hideDownload:$,isPromoted:U,onLinkClick:()=>{R&&K()},onDismiss:K,onHide:K,onDownloadHideFlyout:()=>{f(!1),x(!1)},pinCategory:L,pinDescription:Z,pinId:M,pinImgSrc:W,pinner:F,pinTitle:g,promoter:B,recommendationReason:G,reportPin:()=>A(i,S,b),sourceInterest:z,viewParameter:S,viewType:b})})]})}},959275:(e,t,i)=>{i.d(t,{Z:()=>U});var n=i(667294),o=i(702664),r=i(941646),s=i(883119),a=i(785893);function l({iconAccessibilityLabel:e,icon:t,linkAccessibilityLabel:i,showNavigationIcon:n,text:o}){return(0,a.jsxs)(s.kC,{alignItems:"stretch",justifyContent:"start",children:[(0,a.jsx)(r.Z,{id:"ad-reason-icon",children:(0,a.jsx)(s.Sj,{accessibilityLabel:e,bgColor:"lightGray",icon:t,iconColor:"darkGray"})}),(0,a.jsx)(s.xu,{alignSelf:"center","data-test-id":"ad-location-targeting-reason",height:"100%",marginStart:2,children:(0,a.jsx)(s.xv,{children:o})}),n&&i&&(0,a.jsx)(s.kC,{direction:"column",justifyContent:"center",children:(0,a.jsx)(s.JO,{accessibilityLabel:i,color:"default",icon:"arrow-forward"})})]})}var c=i(121151),d=i(966113),u=i(898781),_=i(349700),p=i(407043);const{ACCOUNT_SETTINGS:h,CANONICAL_MAIN_URL:m,HELP_BLOCKING:E,HELP_PROMOTED_PINS_URL:g}=d.Z.settings;function f({onDismiss:e,brandName:t,country:i,language:n,isAgeMatched:o,isBehaviorTargetingMatched:d,isCustomerListMatched:f,isGeoPostalCodeMatched:y,isGeoRegionMatched:v,isShoppingTargetingRematched:I}){const{logContextEvent:T}=(0,p.v)(),P=(0,u.ZP)(),S=y||v||o||d||I||f;return(0,a.jsx)(c.ZP,{accessibilityModalLabel:P._('Why am I seeing this Ad?', 'app.common.react.components.PinRep.components.AdReasonsModal', 'Modal for explaining the reasons an advertiser is targeting a user'),onDismiss:e,children:(0,a.jsxs)(s.xu,{paddingX:8,paddingY:6,children:[(0,a.jsxs)(s.xu,{display:"flex",justifyContent:"center",marginBottom:6,position:"relative",children:[(0,a.jsx)(s.xu,{position:"absolute",left:!0,children:(0,a.jsx)(s.hU,{accessibilityLabel:P._('Close', 'app.common.react.components.PinRep.components.AdReasonsModal.closeModal', 'Close ad reasons modal'),icon:"cancel",iconColor:"darkGray",onClick:e,size:"sm"})}),(0,a.jsx)(s.X6,{align:"center",size:"500",children:P._('Why am I seeing this ad?', 'Heading for promoted Pins explanation', 'Heading for promoted pins explanation')})]}),(0,a.jsxs)(s.xu,{children:[(0,a.jsxs)(s.kC,{direction:"column",gap:{row:0,column:4},children:[(0,a.jsx)(s.xu,{children:(0,a.jsx)(s.xv,{children:(0,_.nk)(P._('{{ brandName }} wants to get their ads in front of people like you. {{ learnMoreLink }}', 'app.common.react.components.PinRep.components.AdReasonsModal.advertiserExplanation', 'text informing the user about who is the advertiser'),{brandName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name"),learnMoreLink:(0,a.jsx)(r.Z,{id:"ad-reasons-learn-more-link",children:(0,a.jsx)(s.xv,{inline:!0,children:(0,a.jsx)(s.rU,{href:g,inline:!0,onClick:()=>{T({event_type:101,component:13756,element:12057})},target:"blank",underline:"hover",children:P._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})})}),S&&(0,a.jsx)(s.xu,{marginBottom:4,children:(0,a.jsx)(s.xv,{children:(0,_.nk)(P._('{{ brandName }} is trying to reach people who fit the following criteria:', 'app.common.react.components.PinRep.components.AdReasonsModal.audienceExplanation', 'text informing the user about who is the advertiser\'s target audience'),{brandName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-brand-name")})})})]}),(0,a.jsx)(r.Z,{id:"ad-reasons",children:(0,a.jsxs)(s.kC,{direction:"column",flex:"none",gap:{row:0,column:4},children:[y||v?(0,a.jsx)(s.iP,{role:"link",href:`${m}${h}`,onTap:()=>{T({event_type:101,component:13756,element:12059})},target:"blank",children:(0,a.jsx)(l,{iconAccessibilityLabel:P._('Icon for ad targeting location', 'app.common.react.components.PinRep.components.AdReasons.locationIcon', 'Icon for ad targeting location'),icon:"location",linkAccessibilityLabel:P._('Navigate to account settings', 'app.common.react.components.PinRep.components.AdReasonRow.icon', 'An icon for navigating to account settings'),showNavigationIcon:!0,text:(0,_.nk)(P._('Your primary location is in {{countryName}} and your primary language is {{language}}', 'app.common.react.components.PinRep.components.AdReasonsModal.locationTargeting', 'Ad explanation for targeting location'),{countryName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:i},"ad-reasons-country-name"),language:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:n},"ad-reasons-language")})})}):null,o&&(0,a.jsx)(l,{iconAccessibilityLabel:P._('Icon for ad targeting age', 'app.common.react.components.PinRep.components.AdReasons.ageIcon', 'Icon for ad targeting age'),icon:"person",text:(0,_.nk)(P._('{{ brandName }} is trying to reach people in your age range', 'app.common.react.components.PinRep.components.AdReasonsModal.ageTargeting', 'Ad explanation for targeting age range'),{brandName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-age-brand-name")})}),d&&(0,a.jsx)(l,{iconAccessibilityLabel:P._('Icon for ad targeting search history', 'app.common.react.components.PinRep.components.AdReasons.searchIcon', 'Icon for ad targeting search history'),icon:"search",text:P._('Your Pinterest browsing history and search behavior', 'app.common.react.components.PinRep.components.AdReasonsModal.searchTargeting', 'Ad explanation for targeting the search history of the user')}),I&&(0,a.jsx)(l,{iconAccessibilityLabel:P._('Icon for ad targeting customers who interacted with this brand previously', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingIcon', 'Ad explanation for targeting users who have interacted with an advertiser brand'),icon:"clock",text:(0,_.nk)(P._('You\'ve interacted with {{brandName}} before', 'app.common.react.components.PinRep.components.AdReasonsModal.shoppingTargetingText', 'Text explaining the ad reason for targeting users who interacted with brand previously'),{brandName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"retargeting-ad-reason")})}),f&&(0,a.jsx)(l,{iconAccessibilityLabel:P._('Icon for ad targeting user on an audience list', 'app.common.react.components.PinRep.components.AdReasons.genderIcon', 'Icon for ad targeting gender'),icon:"menu",text:(0,_.nk)(P._('You\'re on an audience list provided by {{brandName}}', 'app.common.react.components.PinRep.components.AdReasonsModal.customerListTargeting', 'Ad explanation for targeting customer list'),{brandName:(0,a.jsx)(s.xv,{inline:!0,weight:"bold",children:t},"ad-reasons-customer-list")})}),S&&(0,a.jsx)(s.xu,{marginBottom:1,children:(0,a.jsx)(s.xv,{children:P._('There could also be more factors not listed here.', 'app.common.react.components.PinRep.components.AdReasonsModal.miscFactors', 'Text explaining there are more targeting factors')})})]})}),(0,a.jsxs)(s.kC,{direction:"column",gap:{row:0,column:1},children:[(0,a.jsx)(s.xu,{marginBottom:3,marginTop:3,children:(0,a.jsx)(s.iz,{})}),(0,a.jsx)(s.xu,{marginBottom:1,marginTop:1,children:(0,a.jsx)(s.X6,{size:"400",children:P._('I don\'t want to see this ad', 'app.common.react.components.PinRep.components.AdReasonsModal.hideThisAdHeading', 'Text for explaining how to hide an ad')})}),(0,a.jsx)(s.xu,{marginBottom:4,children:(0,a.jsx)(s.xv,{children:(0,_.nk)(P._('If you don\'t want to see ads from a specific advertiser you can block the advertiser\'s Pinterest profile. {{learnMoreLink}}', 'app.common.react.components.PinRep.components.AdReasonsModal.blockAdvertiserText', 'Text explaining how to block an advertiser profile'),{learnMoreLink:(0,a.jsx)(s.xv,{inline:!0,children:(0,a.jsx)(s.rU,{inline:!0,href:E,onClick:()=>{T({event_type:101,component:13756,element:12058})},target:"blank",underline:"hover",children:P._('Learn more', 'app.common.react.components.PinRep.components.AdReasonsModal.learnMoreLink', 'Learn more link for info about the reasons an ad is shown')})},"ad-reasons-learn-more-link")})})})]})]})]})})}var y=i(784590),v=i(19121),I=i(802201),T=i(780280);function P({pinId:e,onDismiss:t}){var i,o,r,s;const{logContextEvent:l}=(0,p.v)(),{locale:c}=(0,T.B)(),{country:d=""}=(0,v.Z)(),u=(0,y.Z)({name:"CountriesResource",options:{hasEmptyState:!0}}),_=(0,y.Z)({name:"LocalesResource"}),h=(0,I.S6)()(e);(0,n.useEffect)((()=>{l({event_type:120,component:13756})}),[l]);const{ad_targeting_attribution:m,promoter:E}=null!=h?h:{},{is_age_matched:g=!1,is_behavior_targeting_matched:P=!1,is_customer_list_matched:S=!1,is_geo_postal_code_matched:b=!1,is_geo_region_matched:A=!1,is_shopping_retargeting_matched:R=!1}=null!==(i=function(e=null,t=4){return e&&Object.keys(e).filter((t=>"boolean"==typeof e[t])).slice(0,t).reduce(((t,i)=>({...t,[i]:e[i]})),{})}(m))&&void 0!==i?i:{},x=null!==(o=null==E?void 0:E.full_name)&&void 0!==o?o:"",O=function(e,t){var i;const{name:n=""}=null!==(i=e.find((e=>e.key===t)))&&void 0!==i?i:{};return n}(null!==(r=u.data)&&void 0!==r?r:[],d),C=function(e,t){var i;const{name:n=""}=null!==(i=e.find((e=>e.key===t)))&&void 0!==i?i:{};return n}(null!==(s=_.data)&&void 0!==s?s:[],c);return(0,a.jsx)(f,{brandName:x,country:O,language:C,isAgeMatched:g,isBehaviorTargetingMatched:P,isCustomerListMatched:S,isGeoPostalCodeMatched:b,isGeoRegionMatched:A,isShoppingTargetingRematched:R,onDismiss:t})}var S=i(468593),b=i(149230),A=i(248034),R=i(61877),x=i(760372),O=i(778423),C=i(813401),w=i(680046),N=i(827896),D=i(811403),L=i(55275),k=i(276775);function M(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class j extends n.Component{constructor(e){super(e),M(this,"getRecommendationDescription",(()=>{const{ad_match_reason:e,board:t,feedbackType:i,pinner:n,promoter:o,recommendationReason:r,sourceInterest:s}=this.props;return this.feedbackHelpers.getRecommendationDescription({ad_match_reason:e,board:t,feedbackType:i,makeNavigateLink:this.makeNavigateLink,pinner:n,promoter:o,recommendationReason:r,sourceInterest:s})})),M(this,"getRecommendationDescriptionImage",(()=>{const{board:e,feedbackType:t,pinner:i,recommendationReason:n}=this.props;if("followed"!==t&&"pfyBoard"!==t)return null;let o,r,l;return i&&i.explicitly_followed_by_me?(o=i.image_small_url,r="50%",l=`/${i.username}`):e&&e.image_thumbnail_url&&(o=e.image_thumbnail_url,r="4px",l=n&&n.board&&n.board.url||e.url),o?(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:r}},flex:"none",marginStart:3,overflow:"hidden",children:(0,a.jsx)(s.iP,{onTap:()=>{var e;return this.props.history.push(null!==(e=l)&&void 0!==e?e:"")},children:(0,a.jsx)(s.zd,{height:40,wash:!0,width:40,children:(0,a.jsx)(s.Ee,{alt:"",fit:"cover",naturalHeight:1,naturalWidth:1,src:o})})})}):null})),M(this,"getUnfollowAction",(()=>{const{board:e,feedbackType:t,pinner:i,sourceInterest:n}=this.props;return this.feedbackHelpers.getUnfollowAction({board:e,feedbackType:t,makeNavigateLink:this.makeNavigateLink,pinner:i,sourceInterest:n})})),M(this,"getUndoText",(e=>"unfollowPinner"===e||"unfollowBoard"===e?this.props.i18n._('Follow again', 'Caption for button to undo a unfollowing of a topic', 'Caption for button to undo a unfollowing of a topic'):"")),M(this,"feedbackHelpers",(0,w.ZP)({i18n:this.props.i18n,interpolateNamedTemplate:_.nk})),M(this,"makeNavigateLink",((e,t,i,n)=>(0,a.jsx)(s.rU,{onClick:this.props.onLinkClick,href:t,inline:!0,underline:"hover",children:(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:n?{display:"inline",color:"white",textDecorationColor:"white"}:{display:"inline"}},children:i})},e))),M(this,"reportPinOption",(()=>({action:"reportPin",elementType:974,text:this.props.i18n._('Report Pin', 'Report a pin in the dropdown', 'Report a pin in the dropdown'),description:this.props.i18n._('This goes against Pinterest\'s community guidelines', 'Description for the report pin option', 'Description for the report pin option'),callback:this.props.reportPin,dataTestId:"report-pin-option"}))),M(this,"hidePinOption",(e=>{const{clientTrackingParams:t,feedbackData:i,feedbackType:n,pinId:o,recommendationReason:r}=this.props,s="search"===n?973:982,{action:a,actionOptions:l}=this.feedbackHelpers.getHidePinAction({feedbackData:i,feedbackType:n,pinId:o,recommendationReasonId:r&&r.reason&&O.ReasonToChoose[r.reason],pinFeedbackType:"pfy"===n?4:10,throughId:r&&(0,w.yl)(r),throughProperties:r&&(0,w.XZ)(r),clientTrackingParams:t(o)}),c=this.props.i18n._('Hide Pin', 'message displayed in pin feedback list', 'message displayed in pin feedback list');return{action:a,actionOptions:l,feedbackText:this.pinHiddenFeedbackText(e),text:c,description:this.props.i18n._('See fewer Pins like this', 'Description for the hide pin option', 'Description for the hide pin option'),elementType:s}})),M(this,"stopRecommendationOption",(()=>{const{clientTrackingParams:e,feedbackData:t,feedbackType:i,pinId:n,recommendationReason:o}=this.props,{board:r,reason:s}=null!=o?o:{},a=s&&O.ReasonToChoose[s],l=o&&(0,w.yl)(o),c=o&&(0,w.XZ)(o),d="pfyBoard"===i,{action:u,actionOptions:p}=this.feedbackHelpers.getHidePinAction({feedbackData:t,feedbackType:i,pinId:n,recommendationReasonId:a,pinFeedbackType:d?2:4,throughId:l,throughProperties:c,clientTrackingParams:e(n)}),h=r?this.makeNavigateLink("boardUrl",r.url,r.name,!0):"";return{action:u,actionOptions:p,feedbackText:{subTitle:d&&r?(0,_.nk)(this.props.i18n._('We won\'t show you Pins inspired by your board {{ formattedBoard }} anymore.', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{formattedBoard:h}):this.props.i18n._('Got it! We won\'t show you Pins like this in the future.', 'message displayed after stopping recommendations from a pin', 'message displayed after stopping recommendations from a pin')},text:d&&r?(0,_.nk)(this.props.i18n._('Stop seeing Pins inspired by {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:r.name}):this.props.i18n._('See fewer Pins like this', 'Feedback option to stop recommendations inspired by this Pin', 'Feedback option to stop recommendations inspired by this Pin'),elementType:284}})),M(this,"unfollowBoardOption",(()=>{var e,t;const{board:i}=this.props,n=i?this.makeNavigateLink("boardUrl",null!==(e=i.url)&&void 0!==e?e:"",null!==(t=i.name)&&void 0!==t?t:"",!0):"",o=(0,_.nk)(this.props.i18n._('Unfollow {{ boardName }}', 'Primary caption displayed in pin feedback list to unfollow a board', 'Primary caption displayed in pin feedback list to unfollow a board'),{boardName:null==i?void 0:i.name}),r=(0,_.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedBoard }} and won\'t see Pins saved to it in the future.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:n});return{action:"unfollowBoard",actionOptions:{board_id:null==i?void 0:i.id},feedbackText:{title:"",subTitle:r},text:o,description:(0,_.nk)(this.props.i18n._('Stop seeing Pins from the board "{{ boardName }}"', 'Secondary caption displayed in pin feedback list to unfollow a board', 'Secondary caption displayed in pin feedback list to unfollow a board'),{boardName:null==i?void 0:i.name}),elementType:10614}})),M(this,"unfollowTopicOption",(()=>{const{sourceInterest:e}=this.props;if(e){const{id:t,name:i="",url_name:n=""}=e,o=`/topics/${n}`,r=this.makeNavigateLink("topicUrl",o,i,!0),s=(0,_.nk)(this.props.i18n._('See fewer Pins from {{ topicName }}', 'Primary caption displayed in pin feedback list to unfollow a topic', 'Primary caption displayed in pin feedback list to unfollow a topic'),{topicName:i}),a=(0,_.nk)(this.props.i18n._('We\'ll show you fewer Pins from {{ formattedTopic }} in the future.', 'Confirmation text after unfollowing a topic', 'Confirmation text after unfollowing a topic'),{formattedTopic:r});return{action:"unfollowTopic",actionOptions:{interest_id:t,interest_list:x.X},feedbackText:{title:"",subTitle:a},text:s,description:(0,_.nk)(this.props.i18n._('Stop seeing Pins from the topic "{{ topicName }}"', 'Secondary caption displayed in pin feedback list to unfollow a topic', 'Secondary caption displayed in pin feedback list to unfollow a topic'),{topicName:e.name}),elementType:976}}return null})),M(this,"unfollowUserOption",(()=>{const{pinner:e}=this.props,{id:t,username:i,full_name:n}=null!=e?e:{},o=`/${i}`,r=e?this.makeNavigateLink("pinnerUrl",o,null!=n?n:"",!0):"";return{action:"unfollowPinner",actionOptions:{user_id:t},feedbackText:{title:"",subTitle:(0,_.nk)(this.props.i18n._('Got it! You unfollowed {{ formattedUser }} and won\'t see Pins they save in the future.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedUser:r})},text:(0,_.nk)(this.props.i18n._('Unfollow {{ fullName }}', 'Primary caption displayed in pin feedback list to unfollow a user', 'Primary caption displayed in pin feedback list to unfollow a user'),{fullName:n}),description:this.props.i18n._('Stop seeing all their Pins', 'Secondary caption displayed in pin feedback list to unfollow a user', 'Secondary caption displayed in pin feedback list to unfollow a user'),elementType:10640}})),M(this,"downloadPinOption",(()=>({action:"downloadPin",text:this.props.i18n._('Download image', 'Button to download Pin image', 'Button to download Pin image'),elementType:10836}))),M(this,"_pinFeedbackText",(()=>{const{location:e,feedbackType:t,hideDownload:i,pinner:n}=this.props,o="followed"===this.props.feedbackType,r=e.pathname.includes("following"),s=(o||"topic"===t)&&!r,a=this.hidePinOption(s),l=this.reportPinOption(),c="promoted"!==t&&!i;switch(t){case"followed":const e=r,i=!e&&this.getRecommendationDescription(),o=null!=n&&n.explicitly_followed_by_me?this.unfollowUserOption():this.unfollowBoardOption();return{...i?{description:i}:{},options:[a,...s||e?[o]:[],..."promoted"!==t?[this.downloadPinOption()]:[],l]};case"promoted":const{pinId:d,showAdReasonsModal:u}=this.props,_=[a,{dataTestId:"why-am-i-seeing-this-ad-reasons",action:"showAdReasons",text:this.props.i18n._('Why am I seeing this ad?', 'app.common.react.components.PinFeedbackDropdown.adReasonText', 'Text to promoted pins explanation modal'),callback:()=>{u(d)}},l];return{description:this.getRecommendationDescription(),options:_};case"topic":const p=this.unfollowTopicOption(),h=[a,...s&&p?[p]:[],...c?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:h};case"pfy":case"pfyBoard":const m=[a,..."pfyBoard"===t?[this.stopRecommendationOption()]:[],...c?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:m};default:const E=[a,...c?[this.downloadPinOption()]:[],l];return{description:this.getRecommendationDescription(),options:E}}})),M(this,"pinHiddenFeedbackText",(e=>{const{isPromoted:t,promoter:i}=this.props,n=e?null:this.getUnfollowAction();return t&&null!=i&&i.full_name?{title:"",subTitle:(0,_.nk)(this.props.i18n._('{{ promoter }} has paid to have this pin show up where you\'d be more likely to notice it.', 'webapp.app.pinFeedbackDropdown.promotedFeedbackText.subtitle', 'Message displayed after hiding a promoted pin. promoter: the name of the person who promoted the pin.'),{promoter:i.full_name})}:n?{title:"",subTitle:this.getRecommendationDescription(),unfollow:n}:{title:"",subTitle:this.props.i18n._('Got it! We won\'t show you this Pin in the future.', 'message displayed after hiding a pin', 'message displayed after hiding a pin')}}));const t=this._pinFeedbackText();this.state={pinFeedbackConfig:t,showSecondary:!1}}onPinFeedbackActionButtonClick(e,t,i){e.stopPropagation(),t.auxData?this.handleClickLogging(t.elementType,t.auxData):this.handleClickLogging(t.elementType),(0,L.t)(t.action,t.actionOptions,i)}onPinHide(e,t,i,n){const{hidePinFeedback:o,onHide:r,pinId:s,showPinFeedback:a,showPinFeedbackOverlay:l,showPinFeedbackUndo:c,viewParameter:d,viewType:u,logContextEvent:_}=this.props;t&&i&&n?c(s,e,(0,w.EF)(i,n,s,u,d,o,_),this.getUndoText(n)):a(s,e),!i||i.promoted||10!==i.feedback_type&&4!==i.feedback_type?r():(this.setState({showSecondary:!0}),l(s))}handleClickLogging(e,t={}){const{feedbackType:i,viewParameter:n,viewType:o,logContextEvent:r}=this.props;r({event_type:101,view_type:o,view_parameter:n,element:e,component:(0,w.nb)(i),aux_data:{...t}})}renderButtons(){const{hideDownload:e,onDownloadHideFlyout:t,pinId:i,viewType:n,viewParameter:o,logContextEvent:r,isWindowsPwa:l}=this.props,{pinFeedbackConfig:c}=this.state,{options:d}=c,u=[],_=d.length;for(let p=0;p<_;p+=1){const c=d[p],_=L.P.includes(c.action),h=c.callback?c.callback:()=>this.onPinHide(c.feedbackText,_,c.actionOptions,c.action);if("downloadPin"!==c.action){const e=(0,b.Z)({url:c.link||""});let t="";Array.isArray(c.text)?t=c.text.join(""):"string"!=typeof c.text&&"number"!=typeof c.text||(t=c.text.toString()),u.push(c.link?(0,a.jsx)(s.Lt.Link,{href:c.link,isExternal:e,option:{value:c.action||"",label:t},dataTestId:c.dataTestId||""}):(0,a.jsx)(s.Lt.Item,{onSelect:({event:e})=>this.onPinFeedbackActionButtonClick(e,c,h),option:{value:c.action||"",label:t},dataTestId:c.dataTestId||""}))}else if(!e&&!1===l){const{bestPinImgSrc:e,pinTitle:l,pinDescription:c,pinCategory:d}=this.props;u.push((0,a.jsx)(s.Lt.Item,{onSelect:()=>{(0,S.Z)({category:d,filename:l||c,imageDownloadSuccessCallback:()=>{t&&t()},imgSrc:e,pinId:i,viewParameter:o,viewType:n},r)},option:{value:"downloadImage",label:this.props.i18n._('Download image', 'pinRep.pinFeedbackDropdown.downloadImage', 'Label to download the pin image')}}))}}return u}render(){const{pinFeedbackConfig:e,showSecondary:t}=this.state,{anchor:i,onDismiss:o,feedbackData:r,feedbackType:l,hideAdReasonsModal:c,pinId:d,onHide:u,recommendationReason:_,showAdReasons:p,viewParameter:h,viewType:m}=this.props,{description:E}=e,g=this.getRecommendationDescriptionImage();return(0,a.jsxs)(n.Fragment,{children:[t?(0,a.jsx)(A.Z,{anchor:i,feedbackData:r,feedbackType:l,pinId:d,onDismiss:o,onHide:u,recommendationReason:_,viewParameter:h,viewType:m}):(0,a.jsx)(s.Lt,{anchor:i,id:"pin-action-dropdown",idealDirection:"down",onDismiss:o,zIndex:R.lI,headerContent:E&&(0,a.jsxs)(s.kC,{alignItems:"center",children:[(0,a.jsx)(s.xu,{"data-pin-recommendation-reason":null==_?void 0:_.reason,maxHeight:56,overflow:"hidden",children:(0,a.jsx)(s.xv,{color:"default",overflow:"normal",size:"200",children:E})}),g]}),children:this.renderButtons()}),p&&(0,a.jsx)(P,{onDismiss:()=>c(d),pinId:d})]})}}const U=(0,o.connect)(null,(e=>({hidePinFeedback:t=>e((0,D.I1)(t)),showPinFeedback:(t,i)=>e((0,D.q1)(t,i)),showPinFeedbackOverlay:t=>e((0,D.Ib)(t)),showPinFeedbackUndo:(t,i,n,o)=>e((0,D.NA)({id:t,text:i,undoAction:n,undoText:o})),showAdReasonsModal:t=>e((0,D.b9)(t)),hideAdReasonsModal:t=>e((0,D.yj)(t))})))((function(e){const{logContextEvent:t}=(0,p.v)(),i=(0,N.Z)(),n=(0,u.ZP)(),o=(0,I.S6)()(e.pinId),{ad_targeting_attribution:r,show_ad_reasons:s=!1}=null!=o?o:{},l=(0,C.kf)();return(0,a.jsx)(j,{...e,clientTrackingParams:i,showAdReasons:s,adTargetingAttribution:r,history:(0,k.k6)(),i18n:n,isWindowsPwa:l,location:(0,k.TH)(),logContextEvent:t})}))},312955:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(294184),o=i.n(n),r=i(814115),s=i(832654);const a={debugPinImpressions:999,max:9999,pinActionWrapper:101,saved:102,storyPinImage:-1};var l=i(883119),c=i(785893);function d({onError:e,onLoad:t,pin:i}){var n,o,r,s;const{title:d="",dominant_color:u,images:_={}}=i,p="number"==typeof(null===(n=_["474x"])||void 0===n?void 0:n.width)&&"number"==typeof _["474x"].height&&_["474x"].width>_["474x"].height?_["736x"]:_["474x"];return(0,c.jsx)(l.xu,{position:"relative",dangerouslySetInlineStyle:{__style:{paddingTop:"177.77777777777777%"}},children:(0,c.jsx)(l.xu,{position:"absolute",top:!0,left:!0,width:"100%",height:"100%",dangerouslySetInlineStyle:{__style:{zIndex:a.storyPinImage}},children:(0,c.jsx)(l.Ee,{alt:d,color:u,naturalHeight:null!==(o=null==p?void 0:p.height)&&void 0!==o?o:1,naturalWidth:null!==(r=null==p?void 0:p.width)&&void 0!==r?r:1,onError:e,onLoad:t,src:null!==(s=null==p?void 0:p.url)&&void 0!==s?s:"",fit:"cover"})})})}var u=i(898781),_=i(349700),p=i(310227);const h=({cropHeight:e,cropWidth:t,fallbackColor:i,highResOnly:n,imageFit:a,lowResOnly:h,mediumResOnly:m,onError:E,onLoad:g,pin:f,saved:y=!1,animateGif:v})=>{var I,T,P;const S=(0,u.ZP)(),{carousel_data:b,description:A="",dominant_color:R,grid_title:x,id:O,images:C,title:w}=f,N=(0,_.nk)(S._('This contains an image of: {{ pinTitle }}', 'web.altText', 'Alt text input for PinImage by a human'),{pinTitle:w||x}).join(""),D=(0,s.Z)(f,S)||A.trim().length>0&&A||N;if(b)return(0,c.jsx)(r.Z,{onError:E,onLoad:g,highResOnly:n,lowResOnly:h,pinId:O});let L,k="",M=0,j=0;if(C){var U,F,B;let e=C["236x"];var G,z,V,H,Z;if(n?e=C["736x"]||C.orig||C["474x"]||C["236x"]:m&&(e=C["474x"]||C.orig||C["236x"]),M=null===(U=e)||void 0===U?void 0:U.height,j=null===(F=e)||void 0===F?void 0:F.width,k=null===(B=e)||void 0===B?void 0:B.url,h||m||n)L=null!==(G=e)&&void 0!==G&&G.url?`${e.url} 1x`:"";else L=[(null===(z=C["236x"])||void 0===z?void 0:z.url)&&`${C["236x"].url} 1x`,(null===(V=C["474x"])||void 0===V?void 0:V.url)&&`${C["474x"].url} 2x`,(null===(H=C["736x"])||void 0===H?void 0:H.url)&&`${C["736x"].url} 3x`,(null===(Z=C.orig)||void 0===Z?void 0:Z.url)&&`${C.orig.url} 4x`].filter(Boolean).join(", ")}if(v){const e=Math.max(f.embed&&f.embed.width||0,236),t=Math.max(f.embed&&f.embed.height||0,236),i=f.embed?f.embed.src:"";i&&(M=t,j=e,k=i,L="")}return(0,c.jsx)(l.kC,{alignItems:"center",justifyContent:"start",minHeight:p.Ml,children:(0,c.jsx)(l.xu,{flex:"grow",children:(0,c.jsx)("div",{className:o()({savedGradient:y}),children:f.story_pin_data_id?(0,c.jsx)(d,{pin:f,onError:E,onLoad:g}):(0,c.jsx)(l.xu,{height:t?e:void 0,width:t||void 0,"data-test-id":"non-story-pin-image",children:(0,c.jsx)(l.Ee,{alt:D,color:"dominant"===i?R:i,fit:a,naturalHeight:null!==(I=M)&&void 0!==I?I:1,naturalWidth:null!==(T=j)&&void 0!==T?T:1,onError:E,onLoad:g,src:null!==(P=k)&&void 0!==P?P:"",srcSet:L})})})})})}},657472:(e,t,i)=>{i.d(t,{Z:()=>A});var n=i(667294);var o=i(983722),r=i(787410),s=i(36971),a=i(463045),l=i(494349),c=i(554779),d=i(312955),u=i(898781),_=i(883119),p=i(785893);const h={__path:"M12 18.5A6.508 6.508 0 0 1 5.5 12c0-1.706.689-3.307 1.835-4.5H6.5a1 1 0 1 1 0-2h4.185v4.474a1 1 0 0 1-2 0V8.972A4.505 4.505 0 0 0 7.5 12c0 2.481 2.019 4.5 4.5 4.5s4.5-2.019 4.5-4.5a4.49 4.49 0 0 0-3.112-4.283 1 1 0 1 1 .615-1.902A6.482 6.482 0 0 1 18.5 12c0 3.584-2.916 6.5-6.5 6.5M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0"},m={__path:"M17.496 14.572a1 1 0 0 1-1 1h-.001a1.001 1.001 0 0 1-.999-1.001l.002-4.652-7.29 7.288a.995.995 0 0 1-.707.293.999.999 0 0 1-.707-1.707l7.293-7.29L9.428 8.5a1 1 0 0 1 .001-2h.001l8.071.005-.005 8.067zM12 0C5.373 0 0 5.373 0 12c0 6.628 5.373 12 12 12 6.628 0 12-5.372 12-12 0-6.627-5.372-12-12-12z"},E={overlay:{__style:{backgroundColor:"#000"}}};function g({backgroundImage:e,naturalHeight:t,naturalWidth:i,onRestartVideo:n,pinTitle:o,pin:r}){const s=(0,u.ZP)(),{id:a}=r;return(0,p.jsxs)(_.Ee,{alt:o||s._('pin image', 'image of a pin', 'image of a pin'),naturalHeight:t,naturalWidth:i,src:e,children:[(0,p.jsx)(_.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.8,dangerouslySetInlineStyle:E.overlay}),(0,p.jsxs)(_.xu,{justifyContent:"center",direction:"column",display:"flex",position:"absolute",height:"100%",width:"100%","data-test-id":`video-end-card-${a}`,children:[(0,p.jsx)(_.iP,{rounding:2,children:(0,p.jsxs)(_.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,p.jsx)(_.JO,{accessibilityLabel:s._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website'),color:"light",dangerouslySetSvgPath:m,size:25}),(0,p.jsx)(_.xu,{margin:1}),(0,p.jsx)(_.xv,{color:"light",lineClamp:1,weight:"bold",children:s._('Visit site', 'Button when pressed goes to pin\'s website', 'Button when pressed goes to pin\'s website')})]})}),(0,p.jsx)(_.xu,{margin:3}),(0,p.jsx)(_.iP,{onTap:n,rounding:2,children:(0,p.jsxs)(_.xu,{display:"flex",justifyContent:"center",padding:2,children:[(0,p.jsx)(_.JO,{accessibilityLabel:s._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video'),color:"light",dangerouslySetSvgPath:h,size:25}),(0,p.jsx)(_.xu,{margin:1}),(0,p.jsx)(_.xv,{color:"light",lineClamp:1,weight:"bold",children:s._('Watch again', 'Button when pressed restarts the video', 'Button when pressed restarts the video')})]})})]})]})}var f=i(991773),y=i(572260),v=i(623568);const I=new Set(["ConversationView","TodayTabFeed"]);function T({inAdsDesktopVideoExperiment:e,isAutoplay:t,cropHeight:i,currentTime:o,lowResOnly:r,highResOnly:s,onLoad:a,onError:h,saved:m,onTimeChange:E,isExperimentalPinRep:T,pin:P,surface:S,playing:b,rootMargin:A,viewType:R,viewParameter:x,onVisibilityChanged:O,trackFullVisible:C,inVisibilityChangedHookExperiment:w,imageHeightModifier:N,cropWidth:D}){var L,k;const M=(0,u.ZP)(),[j,U]=(0,n.useState)(!1),[F,B]=(0,n.useState)(!0),G=(0,v.jL)(P),z=G&&!P.is_eligible_for_web_closeup,V=T&&G&&P.is_eligible_for_web_closeup&&!I.has(S),{setCurrentVideo:H}=(0,l.I)(),Z=z||!T||!G,W=(0,f.Z)({onVisibilityChanged:O,inAdsDesktopVideoExperiment:e,trackFullVisible:C,rootMargin:A});let $=!b;e&&($=F,t&&b&&F&&B(!1));const{url:Y}=(null===(L=P.images)||void 0===L?void 0:L["236x"])||{},{id:K,is_promoted:q}=P,X=(0,n.useCallback)((({event:e})=>{e.preventDefault(),e.stopPropagation(),H({pinId:K,isPromoted:Boolean(q),currentTime:0}),U(!1)}),[q,K,H]),J=(0,n.useCallback)((()=>{q&&U(V)}),[V,q]);if(!P.videos||null===(k=P.videos.video_list)||void 0===k||!k.V_HLSV4)return null;const{height:Q,thumbnail:ee,width:te,url:ie}=P.videos.video_list.V_HLSV4||{},ne=P.videos.id,oe=[{type:"video/m3u8",src:ie}];let re,se=(null!=te?te:1)/(null!=Q?Q:1);const ae=e&&S&&(0,c.Z)(S);if(ae&&(se=1,re="transparent",N&&(se-=N-1)),j&&G)return(0,p.jsx)(_.xu,{ref:w?W:null,children:(0,p.jsx)(g,{backgroundImage:null!=Y?Y:"",naturalHeight:null!=Q?Q:1,naturalWidth:null!=te?te:1,pin:P,onRestartVideo:X})});if($){let e={highResOnly:s,lowResOnly:r,onError:h,onLoad:a,pin:P,saved:m};return ae&&(e={...e,cropHeight:i,cropWidth:D,imageFit:"contain"}),(0,p.jsx)(_.xu,{ref:w?W:null,children:(0,p.jsx)(d.Z,{...e})})}return(0,p.jsx)(_.xu,{ref:w?W:null,children:(0,p.jsx)(y.ZP,{isAutoPlay:!!t,cropHeight:i,rootMargin:A,surface:S,inAdsDesktopVideoExperiment:e,contextLogData:{viewParameter:x,component:0,objectId:P.id,video_id:ne,view:R},accessibilityMaximizeLabel:M._('Maximize', 'Maximize button on video', 'Maximize button on video'),accessibilityMinimizeLabel:M._('Minimize', 'Minimize button on video', 'Minimize button on video'),accessibilityMuteLabel:M._('Mute', 'Mute button on video', 'Mute button on video'),accessibilityPauseLabel:M._('Pause', 'Pause button on video', 'Pause button on video'),accessibilityPlayLabel:M._('Play', 'Play button on video', 'Play button on video'),accessibilityProgressBarLabel:M._('Progress bar', 'PinVideo.accessibilityProgressBarLabel', 'Video progress bar accessibility label'),accessibilityUnmuteLabel:M._('Unmute', 'Unmute button on video', 'Unmute button on video'),aspectRatio:se,backgroundColor:re,captions:"",hlsConfig:{capLevelToPlayerSize:!0,startPosition:o||-1},loop:Z,onTimeChange:E,playing:b,onPlay:()=>{},onPlayError:()=>{},poster:Y||ee,src:null!=oe?oe:[],videoStartTime:o,volume:0,onEnded:J})})}function P(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const S=(0,r.Z)(T);class b extends n.Component{constructor(...e){super(...e),P(this,"calculateCurrentVideoTime",(()=>{const{currentTimeFromPinRep:e,pin:t,videosAutoplaying:i}=this.props,{id:n}=t,o=(0,s.Z)(n,i);return this.currentVideoCurrentTime||o||e})),P(this,"handleVisibilityChanged",(e=>{const{currentTimeFromPinRep:t,pin:i,setCurrentVideo:n,pauseAutoplay:o,videosAutoplaying:r}=this.props,{id:s,is_promoted:l}=i,c=(0,a.Z)(s,r),d=function(e,t){const{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,o={...i,...n};for(const r in o){const{paused:t}=o[r];if(r!==e&&!t)return!1}return!0}(s,r);e?l?n({pinId:s,isPromoted:l,currentTime:this.calculateCurrentVideoTime()}):d&&n({pinId:s,isPromoted:Boolean(l),currentTime:this.calculateCurrentVideoTime()}):!e&&c&&o({pinId:s,isPromoted:Boolean(l),currentTime:t||this.currentVideoCurrentTime})})),P(this,"handleVideoTimeChange",(e=>{const{pin:t,onTimeChange:i,videosAutoplaying:n}=this.props,{id:o}=t;(0,a.Z)(o,n)&&(this.currentVideoCurrentTime=e.time),i&&i(e)}))}componentDidMount(){this.props.onLoad&&this.props.onLoad()}componentDidUpdate(e){const{appInFocus:t}=e,{appInFocus:i,currentTimeFromPinRep:n,pauseAutoplay:o,pin:r,setCurrentVideo:s,videosAutoplaying:l}=this.props,{id:c,is_promoted:d}=r,u=(0,a.Z)(c,l);i!==t&&!i&&u?(this.pausedDueToBrowserOutOfFocus=!0,o({pinId:c,isPromoted:Boolean(d),currentTime:n||this.currentVideoCurrentTime})):this.pausedDueToBrowserOutOfFocus&&i&&(this.pausedDueToBrowserOutOfFocus=!1,s({pinId:c,isPromoted:Boolean(d),currentTime:this.calculateCurrentVideoTime()}))}componentWillUnmount(){const{currentTimeFromPinRep:e,pauseAutoplay:t,pin:i,videosAutoplaying:n}=this.props,{id:o,is_promoted:r}=i;(0,a.Z)(o,n)&&t({pinId:o,isPromoted:Boolean(r),currentTime:e||this.currentVideoCurrentTime})}render(){const{cropHeight:e,isAutoplay:t,pin:i,surface:n,videosAutoplaying:r,viewParameter:l,viewType:c,highResOnly:d,lowResOnly:u,onError:_,onLoad:h,saved:m,inAdsDesktopVideoExperiment:E,isExperimentalPinRep:g,rootMargin:f,cropWidth:y,imageHeightModifier:v}=this.props,{id:I}=i,P=(0,s.Z)(I,r),b=(0,a.Z)(I,r)&&t,A=(0,o.Z)(),{anyEnabled:R}=(null==A?void 0:A.experimentsClient.checkExperiment("web_mqtt_finddomnode_deprecation"))||{};return R?(0,p.jsx)(T,{cropHeight:e,rootMargin:f,currentTime:P,inAdsDesktopVideoExperiment:E,isAutoplay:t,viewParameter:l,viewType:c,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:i,surface:n,playing:b,trackFullVisible:!1,highResOnly:d,lowResOnly:u,onError:_,onLoad:h,saved:m,isExperimentalPinRep:g,inVisibilityChangedHookExperiment:R,cropWidth:y,imageHeightModifier:v}):(0,p.jsx)(S,{cropHeight:e,rootMargin:f,currentTime:P,inAdsDesktopVideoExperiment:E,isAutoplay:t,viewParameter:l,viewType:c,onTimeChange:this.handleVideoTimeChange,onVisibilityChanged:this.handleVisibilityChanged,pin:i,surface:n,playing:b,trackFullVisible:!1,highResOnly:d,lowResOnly:u,onError:_,onLoad:h,saved:m,isExperimentalPinRep:g,cropWidth:y,imageHeightModifier:v})}}function A(e){const{appUI:{appInFocus:t,isAutoplay:i,videosAutoplaying:n},pauseAutoplay:o,setCurrentVideo:r}=(0,l.I)();return(0,p.jsx)(b,{...e,appInFocus:t,isAutoplay:i,pauseAutoplay:o,setCurrentVideo:r,videosAutoplaying:n})}},217705:(e,t,i)=>{i.d(t,{Z:()=>Li});var n=i(667294),o=i(702664),r=i(41233),s=i(605028),a=i(307640);function l({isGroupBoard:e,pin:t,surface:i}){const{carousel_data:n,grid_title:o,rich_summary:r,title:l}=t,{isOwnPin:c,isPromoted:d}=(0,s.Z)(t);if(n){const{carousel_slots:e=[],index:t=0}=n;if(e[t]&&e[t].title)return e[t].title.trim()}if(d){if(a.ZF.includes(i))return o||"";if(c&&!e&&!n&&"UserProfilePinGrid"!==i)return"";const t=r&&"mobile application"!==r.type_name&&r.display_name;return l||t||o||""}return o||""}var c=i(623568);const d=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid"];var u=i(35495);function _(e,t){const{isProduct:i}=(0,s.Z)(e);return(i||"ShoppingGridShippedMetadataWithVisitButton"===t&&(0,u.Uz)(e))&&(0,u.QY)(e)||""}var p=i(807592),h=i(4294),m=i(18857);const E=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function g({attributionOption:e,board:t,contentType:i,experimentsClient:n,feedbackData:o,feedbackType:r,hasCarouselData:a,isGroupBoard:c,isORBACProfileManager:d,isOwnBoard:u,pin:g,showImageOnly:f,showNativeReactions:y,showPromotedShoppingPrice:v,surface:I,viewer:T}){var P;const{isPromoted:S,isSponsored:b}=(0,s.Z)(g),{pin_note:A}=g,R=function({attributionOption:e,feedbackType:t,isGroupBoard:i,pin:n,showImageOnly:o,surface:r}){const{is_downstream_promotion:s,native_creator:a,promoter:l,sponsorship:c,story_pin_data_id:d}=n;if("promoted"===t||l&&!s||c)return"default";if("ConversationView"!==r&&E.includes(r))return"none";if(i)return"none";let u="default";return"SearchItem"===r&&d?u:(e&&("image-only"===e?u="image-only-credit":"hide"===e&&(u="none")),"followed"!==t||o?["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(r)&&"hide"===e?u:"TodayArticleFeed"===r&&"show"===e?"show-for-claimed-content":a?"default":"none":u)}({attributionOption:e,feedbackType:r,isGroupBoard:c,pin:g,showImageOnly:f,surface:I}),x=f?"":l({isGroupBoard:c,pin:g,surface:I}),O=!["ShoppingPackageItem","ShoppingSquareGridDomain","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(I)&&!S&&!f&&Boolean(_(g,I)),C=["ShoppingGridShippedMetadataWithVisitButton"].includes(I),w="BaseBoardPinGrid"===I&&A?null===(P=A.text)||void 0===P?void 0:P.trim():null,N=S,D="shopping"===i;let L,k=!0;"AuthHomefeed"!==I||S||(L=n.checkExperiment("hfp_hf_grid_rep_simplification_web").group,y=!["employees","enabled_remove_reactions","enabled_one_line_title","enabled_two_line_title","enabled_remove_all"].includes(L),k=!["employees","enabled_remove_creator_attribution","enabled_one_line_title","enabled_two_line_title","enabled_remove_all"].includes(L));let M,j,U,F,B=2;if(S?B=3:O||"none"!==R?B=D?2:1:"AuthHomefeed"===I&&("enabled_one_line_title"===L?B=1:"enabled_two_line_title"===L&&(B=2)),D||v){var G,z;const e=null===(G=g.rich_summary)||void 0===G||null===(z=G.products)||void 0===z?void 0:z[0],{offer_summary:t}=e||{};M=t?t.standard_price:void 0,j=t?(0,p.Z)(t):void 0}if(D&&!S){var V,H,Z;const{rating_count:e,rating_value:t,review_count:i}=(null===(V=g.rich_summary)||void 0===V?void 0:V.aggregate_rating)||{};(e||i)&&parseFloat(t)&&(U={count:e||i,rating:t}),F=null===(H=g.rich_metadata)||void 0===H||null===(Z=H.products)||void 0===Z?void 0:Z[0].shipping_info}const W=(0,m.rh)(g,T,n),$="CreatorProfileStoryPinGrid"===I||"CreatorProfileActivityPinGrid"===I,Y=!($||!S&&"AuthHomefeed"===I&&"enabled_remove_all"===L),K=c&&!b;return{attributionType:R,board:t,contentType:i,feedbackData:o,feedbackType:r,pinNoteText:w,pinTitle:x,productCurrentPrice:j,productOriginalPrice:M,productRating:U,productShipping:F,showCarouselEllipsis:a,showFavoriteButton:!d&&("BaseBoardPinGrid"===I&&u||Boolean((null==t?void 0:t.is_collaborative)&&(0,h.Z)({board:t,viewer:T})))&&!$,showGroupBoardAvatar:K,showNativeReactions:y,showOverflowMenu:N,showPinStats:W,showSource:O,showTextContent:Y,showVisitSiteButton:C,showAttribution:k,titleLines:B}}var f=i(27255),y=i(121630),v=i(704177),I=i(841478),T=i(53325);const P=["ShoppingCatalogsProductsMetadata"];const S=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin"],b=["BoardCreateUpsell","BoardCoverSelectablePin","BoardNoteSelectablePin","BoardNotePin","BulkEditMode","ConversationView","EngagementDetails","SectionSuggestedPins","SelectableBoardlessPin","ShoppingCatalogsProductsMetadata"];var A=i(221263),R=i(319915);function x(e={},t=[]){return Object.keys(e).reduce(((i,n)=>t.includes(n)?i:{...i,[n]:e[n]}),{})}var O=i(987097),C=i(687551),w=i(954571),N=i(778841),D=i(976071),L=i(411938),k=i(554779),M=i(463045),j=i(947599),U=i(898781),F=i(717615),B=i(86551),G=i(19121),z=i(883119),V=i(407043),H=i(785893);const Z=["CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid"],W={component:210,view_type:4,view_parameter:3106},$={view_type:5,view_parameter:3069},Y={component:13668,view_type:4,view_parameter:3106};function K({pinId:e,surface:t}){const{logContextEvent:i}=(0,V.v)(),n=(0,U.ZP)(),o=()=>{const e=Z.includes(t)?Y:"BaseBoardPinGrid"===t?$:"UserProfilePinGrid"===t?W:{};i({event_type:101,element:10573,...e})},r=n._('See more stats', 'pinRep.actionBar.seeStatsButton', 'Button that will re-direct user to detailed stats page');return(0,H.jsx)(z.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:Z.includes(t)?(0,H.jsx)(z.zx,{role:"link",accessibilityLabel:n._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This button will take the user to their detailed pin stats page for the pin'),color:"semiTransparentWhite",fullWidth:!0,href:`/pin/${e}/analytics`,onClick:o,size:"sm",text:(s=r,s.length>14?`${s.substring(0,12).trim()}...`:s)}):(0,H.jsx)(z.hU,{role:"link",accessibilityLabel:n._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This icon button will take the user to their detailed pin stats page for the pin'),bgColor:"white",href:`/pin/${e}/analytics`,icon:"ads-stats",iconColor:"darkGray",onClick:o,size:"sm"})});var s}var q=i(681227),X=i(758523),J=i(946595),Q=i(494349),ee=i(773285),te=i(578722),ie=i(904411),ne=i(802201),oe=i(330899),re=i(281180),se=i(241244),ae=i(699825),le=i(768559),ce=i(89254);function de(e,t){const{carousel_data:i,domain:n,ad_destination_url:o}=e;let r=n||"";return o&&(r=(0,ce.Z)(o).hostname||""),i&&i.id&&(r=function(e,t){const i=t||e&&e.index||0,n=e&&e.carousel_slots||[],o=n[i]&&n[i].link||"";return o&&(0,ce.Z)(o).hostname||""}(i,t)),r.replace("www.","")}var ue=i(287072),_e=i(542563),pe=i(276775);const he={container:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:18,height:"32px",maxWidth:"132px"},containerHovered:{backgroundColor:"rgba(255, 255, 255, 1.0)"},containerTruncated:{maxWidth:"87px"},text:{color:"#333333"}};function me({pin:e,sourceLinkStyle:t,surface:i,url:o}){const r=(0,U.ZP)(),[s,a]=(0,n.useState)(!1),{id:l}=e,c=de(e),d=(0,pe.TH)(),_=(0,u.Kl)(e)||{},{slotIndex:p}=(0,J.E)(),h=(0,le.Z)(e,d),m=(0,_e.Z)(12,{object_id_str:l,clientTrackingParams:h,aux_data:{grid_index:p,...(0,u.Kl)(e)||{}}}),E=(0,_e.Z)(101,{element:162,object_id_str:l,clientTrackingParams:h,aux_data:{...(0,u.Kl)(e)||{}}}),g=(0,_e.Z)(8948,{object_id_str:l,clientTrackingParams:h,aux_data:{click_type:"clickthrough",closeup_navigation_type:"click",grid_index:p,...(0,u.Kl)(e)||{}}}),f=()=>{m(),E(),g()},y=(0,ue.Z)({href:o,target:"blank",externalData:{auxData:_,pin:e,surface:i}});return"icon-only"===t?(0,H.jsx)(z.hU,{accessibilityLabel:r._('link', 'Website url link', 'Website url link'),bgColor:"white",href:o,icon:"arrow-up-right",iconColor:"darkGray",onClick:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),f(),y({event:e})},role:"link",rel:"nofollow",size:"sm"}):(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{...he.container,...s?he.containerHovered:Object.freeze({}),..."truncated-text"===t?he.containerTruncated:Object.freeze({})}},"data-test-id":"pinrep-source-link",onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),position:"relative",children:(0,H.jsx)(ae.Z,{hovered:s,pin:e,slotIndex:p,viewType:1,children:(0,H.jsx)(z.iP,{fullWidth:!1,href:o,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),f(),y({event:e})},rel:"nofollow",role:"link",rounding:4,children:(0,H.jsxs)(z.xu,{alignItems:"baseline",dangerouslySetInlineStyle:{__style:he.text},display:"flex",justifyContent:"between",children:[(0,H.jsx)(z.xu,{display:"flex",flex:"none",marginTop:3,marginBottom:3,marginStart:3,children:(0,H.jsx)(z.JO,{accessibilityLabel:r._('link', 'Website url link', 'Website url link'),color:"default",icon:"arrow-up-right",size:9})}),(0,H.jsx)(z.xu,{alignItems:"center",display:"flex",height:18,marginStart:2,marginEnd:3,overflow:"hidden",children:(0,H.jsx)(z.xv,{color:"default",size:"200",weight:"bold",lineClamp:1,children:c})})]})})})})}var Ee=i(780280);const ge=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(47424),i.e(5954),i.e(27624),i.e(48035)]).then(i.bind(i,329155)))),fe=(0,n.lazy)((()=>Promise.resolve().then(i.bind(i,955362)))),ye=(0,n.lazy)((()=>i.e(5035).then(i.bind(i,351326))));const ve=(0,n.memo)((function({actionBarEditBeforeShare:e,feedbackData:t,feedbackType:i,layout:o,onToggleFlyout:r,pin:a,pinTitle:l,setForcePrimary:c,showEditButton:d,showOverflowMenu:u,showShareButton:_,showSourceLinkButton:p,sourceLinkStyle:h,surface:m}){var E,g;const f=(0,U.ZP)(),y=(0,z.JZ)(),{isRTL:v}=(0,Ee.B)(),{viewParameter:I,viewType:T}=(0,J.E)(),{carousel_data:P,id:S,savedInfo:b,tracked_link:A,link:x,ad_destination_url:O}=a,C=null!==(E=null!==(g=null!=O?O:A)&&void 0!==g?g:x)&&void 0!==E?E:"",{isLeadPin:w}=(0,s.Z)(a),[N,D]=(0,n.useState)(d),[L,k]=(0,n.useState)(d),[M,F]=(0,n.useState)(d),B={...v?{marginLeft:d&&u?-44:0}:{marginRight:d&&u?-44:0},transition:v?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},G={opacity:M?1:0,transition:"opacity .2s ease-in-out",pointerEvents:"auto"},V={...v?{marginRight:L?4:0}:{marginLeft:L?4:0},transition:v?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"};(0,n.useEffect)((()=>{let e;return d&&u?(k(!0),e=setTimeout((()=>{requestAnimationFrame((()=>{D(!0),requestAnimationFrame((()=>{F(!0)}))}))}),800)):(k(d),D(d),requestAnimationFrame((()=>{F(d)}))),()=>{clearTimeout(e)}}),[d,u]);let Z=null;p&&(Z=(0,H.jsx)(se.Z,{children:w?(0,H.jsx)(z.zx,{role:"button",accessibilityLabel:f._('Link for closeup view and sign up', '[m10n] pinRep.actionBar.signup', 'Content for sign up link'),size:"sm",text:f._('Sign up', '[m10n] pinRep.actionBar.signup', 'Content for sign up link')}):(0,H.jsx)(me,{pin:a,sourceLinkStyle:h,surface:m,url:C})}));const W=_&&(0,H.jsx)(R.Z,{name:"SafeSuspense_PinRep_SendShareLink",children:(0,H.jsx)(j.Z,{children:(0,H.jsx)(z.xu,{"data-test-id":"send-share-link",children:(0,H.jsx)(se.Z,{children:(0,H.jsx)(ye,{pin:a,setForcePrimary:c})})})})}),$=Boolean(null==b?void 0:b.localPinId)?null==b?void 0:b.localPinId:S,Y=N&&(0,H.jsx)(R.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,H.jsx)(j.Z,{children:(0,H.jsx)(z.xu,{"data-test-id":"edit-button",dangerouslySetInlineStyle:y?void 0:{__style:G},children:(0,H.jsx)(se.Z,{children:(0,H.jsx)(ge,{carouselSlotCurrentIndex:P&&P.index,component:0,onToggleModal:r,pinId:$,style:{size:"sm"},view:T,viewParameter:I,useLegoStyles:!0})})})})});return"equally-spaced"===o?(0,H.jsxs)(z.xu,{display:"flex",justifyContent:"between",alignItems:"center",padding:3,children:[(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:Z}),e?Y:W,e?W:Y]}):(0,H.jsxs)(z.xu,{alignItems:"center",display:"flex",padding:3,children:[(0,H.jsx)(z.xu,{flex:"shrink",children:Z}),(0,H.jsx)(z.xu,{alignItems:"center",display:"flex",flex:"none",marginStart:"auto",dangerouslySetInlineStyle:y?void 0:{__style:B},children:(0,H.jsxs)(z.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"end",children:[e?Y:W,e?W:Y,u&&(0,H.jsx)(R.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,H.jsx)(j.Z,{children:(0,H.jsx)(z.xu,{"data-test-id":"overflow-menu-button",dangerouslySetInlineStyle:y?void 0:{__style:V},children:(0,H.jsx)(se.Z,{children:(0,H.jsx)(fe,{feedbackData:t,feedbackType:i,pin:a,pinTitle:l,setForcePrimary:c})})})})})]})})]})}));var Ie=i(834911),Te=i(811403);function Pe({direction:e,swipeHandler:t}){const i=(0,U.ZP)(),n={left:i._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),right:i._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')};return(0,H.jsx)(z.xu,{position:"absolute",bottom:!0,top:!0,left:"left"===e,right:"right"===e,children:(0,H.jsx)(z.iP,{fullHeight:!0,fullWidth:!0,onTap:t,children:(0,H.jsx)(z.xu,{alignItems:"center",display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%","data-test-id":`carousel-slider-${e}`,children:(0,H.jsx)(z.JO,{accessibilityLabel:n[e],color:"inverse",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}const Se=(0,o.connect)(null,(function(e){return{changeCarouselSlotIndex:(t,i)=>e((0,Te.yR)(t,i))}}))((({pin:e,changeCarouselSlotIndex:t})=>{const{logContextEvent:i}=(0,V.v)(),{componentType:n,viewParameter:o,viewType:r}=(0,J.E)(),s=(0,Ie.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:e.rich_metadata,richSummary:e.rich_summary});if(!s)return null;const{id:a=""}=e,{carousel_slots:l=[],index:c=0,id:d}=s;function _(s){return()=>{const _="left"===s?c-1:c+1;t(a,_),((t=0,s)=>{i({event_type:108,object_id_str:a,component:n,view_type:r,view_parameter:o,event_data:{pinCarouselSlotEventData:{carouselSlotId:l[t]&&Number(l[t].id),carouselDataId:Number(d),carouselSlotIndex:t,toCarouselSlotIndex:s}},aux_data:{...(0,u.Kl)(e)||{}}})})(c,_)}}return(0,H.jsxs)(z.xu,{height:"100%",position:"relative",width:"100%",children:[c>0&&(0,H.jsx)(se.Z,{children:(0,H.jsx)(Pe,{direction:"left",swipeHandler:_("left")})}),c<l.length-1&&(0,H.jsx)(se.Z,{children:(0,H.jsx)(Pe,{direction:"right",swipeHandler:_("right")})})]})}));var be=i(50385),Ae=i(116303);function Re({accessibilityLabel:e,attributionNameLink:t,avatarUrl:i,fullWidth:n=!0,name:o="",onClick:r,outline:s=!1,size:a=32}){const l=(0,H.jsx)(z.xu,{"data-test-id":"attribution-avatar",height:a,width:a,children:(0,H.jsx)(Ae.Z,{name:o,src:i,accessibilityLabel:"",outline:s})});return t?(0,H.jsx)(z.iP,{fullWidth:n,role:"link",href:t,onTap:r,accessibilityLabel:e,children:l}):l}function xe({isHover:e,attributionNameLink:t,name:i,onClick:n,regularWeight:o}){const{checkExperiment:r}=(0,ee.F)(),s=!t&&r("web_disable_ads_blocker").anyEnabled;return(0,H.jsx)(z.xu,{children:(0,H.jsx)(z.xv,{underline:e,size:"200",lineClamp:1,weight:o?"normal":"bold",children:t?(0,H.jsx)(z.rU,{onClick:n,href:t,children:i}):s?(0,H.jsx)("span",{children:i}):i})})}function Oe({isHover:e,link:t,onClick:i,title:n,weight:o}){return n?(0,H.jsx)(z.xv,{inline:!0,underline:e,size:"200",weight:o,children:t?(0,H.jsx)(z.rU,{onClick:i,href:t,children:n}):n}):null}var Ce=i(993786),we=i(480622);function Ne({attributionNameLink:e,attributionTitle:t,avatarUrl:i,display:o="default",isPromotedByPinCreator:r,pin:a,name:l,url:c,verifiedIdentity:d,isVerifiedMerchant:u}){const _=(0,we.f)(),[p,h]=(0,n.useState)(!1),{id:m,sponsorship:E,story_pin_data_id:g}=a,{isPromoted:f}=(0,s.Z)(a),{creator:y}=E||{},{id:v}=y||{},I=!!g,T=(0,_e.Z)(101,{view_type:3,element:f?283:27,object_id_str:m,component:I?230:void 0,aux_data:{...v?{creator_id:v,pin_id:m}:{}}}),P=()=>{_.setMostRecentPinId(m),T()},S=()=>{h((e=>!e))},b=c&&!e,A=b?"":l,R="overlay"===o,x=(0,H.jsxs)(z.xu,{alignItems:"center",display:R?void 0:"flex",dangerouslySetInlineStyle:{__style:{marginLeft:"-3px",marginRight:"-3px"}},children:[(0,H.jsx)(z.xu,{flex:"none",dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},display:R?"flex":void 0,justifyContent:"center",children:(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:R?{__style:{marginTop:-45}}:void 0,children:(0,H.jsx)(Re,{attributionNameLink:A?e:void 0,avatarUrl:i,name:A,onClick:()=>P(),accessibilityLabel:A,size:R?64:32,outline:R})})}),(0,H.jsxs)(z.xu,{dangerouslySetInlineStyle:{__style:{marginLeft:"3px",marginRight:"3px"}},flex:"grow",overflow:"hidden",display:R?"flex":void 0,justifyContent:"center",marginTop:R?2:void 0,children:[(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,H.jsxs)(z.kC,{gap:{row:1,column:0},children:[(0,H.jsx)(xe,{attributionNameLink:e,name:l,onClick:()=>P(),regularWeight:!(f&&!E||r),isHover:p}),(0,H.jsx)(Ce.Z,{size:"sm",hasVerifiedIdentity:d,isVerifiedMerchant:u})]})}),(0,H.jsx)(Oe,{isHover:p,title:t,weight:"normal"})]})]});return b?(0,H.jsx)(z.iP,{role:"link",onTap:({event:e})=>{e.stopPropagation(),P()},href:c,onMouseEnter:S,onMouseLeave:S,children:x}):x}var De=i(504981),Le=i(333312),ke=i(69e4),Me=i(552684),je=i(907811),Ue=i(778821),Fe=i(875495),Be=i(782050);function Ge({board:e,favoriteCount:t,favorited:i,pinId:r}){const{logContextEvent:s}=(0,V.v)(),a=(0,o.useDispatch)(),{slotIndex:l}=(0,J.E)(),{currentFilter:c,eligibleFilters:d,refreshData:u=(()=>{}),sectionId:_,setShowExperienceTooltip:p}=(0,Be.s)(),h=(0,n.useRef)(null),m=(0,G.Z)(),E=(0,A.Z)(m,e),g=c===je.Ac&&(!t||1===t),f=(0,Me.E)(d,je.Ac),y=e=>{s({event_type:101,component:0,element:e?12225:12226,object_id_str:r,view_type:5,view_parameter:E?3069:3070})};return(0,H.jsxs)(n.Fragment,{children:[(0,H.jsx)(z.xu,{ref:h,children:(0,H.jsx)(ke.Z,{favorited:i,favoriteCount:t,onFavorite:()=>{y(!0),f&&u(),p&&p(!0)},onUnfavorite:()=>{y(!1),e&&g&&a((0,Fe.EX)({feedId:_||e.id,feedType:_?Ue.DV.SECTION_PINS:Ue.DV.BOARD_PINS,itemIds:[r],itemType:"pin"}))},pinId:r,size:20})}),h&&!i&&!_&&0===l&&(0,H.jsx)(z.mh,{children:(0,H.jsx)(Le.default,{anchor:h.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var ze=i(850115),Ve=i.n(ze),He=i(379507),Ze=i.n(He),We=i(637956),$e=i.n(We),Ye=i(694379),Ke=i(909745),qe=i.n(Ke),Xe=i(128206),Je=i.n(Xe);const Qe={goodIdea:Ve(),love:$e(),thanks:qe(),wow:Je(),haha:Ze()},et={7:"goodIdea",1:"love",13:"thanks",11:"wow",5:"haha"},tt=["CreatorProfileStoryPinGrid"];const it=function({alignment:e="start",pinId:t,pinner:i,reactionCounts:n,surface:o}){const r=(0,G.Z)(),s=n?(0,q.At)(n):null,a=n?(0,q.Ud)(n):0,l=Boolean(r.isAuth&&(null==i?void 0:i.id)===r.id),c=!!s&&s.length>0&&s.map(((e,t)=>{const i=Qe[et[e]];return(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,H.jsx)(z.xu,{width:17,height:17,dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${i})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}}})},t)})),d=!!c&&(0,H.jsx)(z.iP,{role:"link",href:`/pin/${t}/`,children:(0,H.jsxs)(z.xu,{display:"flex",direction:"row",alignItems:"center",justifyContent:e,height:19,paddingY:3,children:[(0,H.jsx)(z.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:c}),(0,H.jsx)(z.xu,{paddingX:1,children:(0,H.jsx)(z.xv,{size:"200",children:(0,H.jsx)(Ye.Z,{value:a,shortform:!0,shortformMaximumFractionDigits:1})})})]})}),u=l&&tt.includes(o)&&(0,H.jsx)(z.xu,{height:24});return d||u};var nt=i(605707),ot=i(864537);function rt({feedbackType:e,pin:t}){const i=(0,U.ZP)(),{pinner:n,source_interest:o}=t,{full_name:r,username:s}=n||{},{name:a}=o||{},l="topic"===e,c=!l&&"followed"===e,d=`/${s}/`,u=(0,ot.NO)(a),_=`/search/pins/?q=${encodeURIComponent(u)}&rs=image_only_attribution`,p=l?_:d,h={topic:i._('From {topic}', 'attribution on pin rep', 'attribution on pin rep'),followed:i._('From {pinnerName}', 'attribution on pin rep', 'attribution on pin rep'),pfyBoard:i._('Picked for you', 'attribution on pin rep', 'attribution on pin rep'),pfy:i._('Picked for you', 'attribution on pin rep', 'attribution on pin rep')}[e];if(!h)return null;if(c||l){const e=0===h.indexOf("{"),t=l?a:r,i=e?h.slice(h.indexOf("}")+1):h.slice(0,h.indexOf("{"));return e?(0,H.jsxs)(z.xu,{children:[(0,H.jsx)(z.rU,{inline:!0,href:p,underline:"hover",children:(0,H.jsx)(z.xv,{weight:"bold",inline:!0,size:"200",lineClamp:1,children:t})}),(0,H.jsx)(z.xv,{inline:!0,size:"200",children:i})]}):(0,H.jsxs)(z.xu,{children:[(0,H.jsx)(z.xv,{inline:!0,size:"200",children:i}),(0,H.jsx)(z.rU,{inline:!0,href:p,underline:"hover",children:(0,H.jsx)(z.xv,{color:"default",weight:"bold",inline:!0,size:"200",lineClamp:1,children:t})})]})}return(0,H.jsx)(z.xu,{children:(0,H.jsx)(nt.Z,{pin:t,children:(0,H.jsx)(z.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:h})})})}var st=i(955362),at=i(397066),lt=i(48714);function ct(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class dt extends n.Component{constructor(...e){super(...e),ct(this,"state",{spamCheck:null}),ct(this,"mounted",!1),ct(this,"handleSpammyDomainCheck",(()=>{const{location:e,pin:t,surface:i,url:n}=this.props;n&&t&&(0,lt.$3)({location:e,pin:t,surface:i})&&(0,lt.iw)({isMounted:this.mounted,pin:t,location:e,spamCheckCallback:e=>this.setState({spamCheck:e}),href:n})})),ct(this,"handleClick",(e=>{const{auxData:t,location:i,onClick:n,pin:o,pinId:r,url:s,logContextEvent:a}=this.props;(0,lt.gV)({isOffsiteUrl:!0,event:e})||(e.preventDefault(),n&&n(e),s&&(0,at.h)({href:s,pinId:r,pin:o,location:i,auxData:t},a))}))}componentDidMount(){this.mounted=!0,this.handleSpammyDomainCheck()}componentWillUnmount(){this.mounted=!1}componentDidUpdate(){const{spamCheck:e}=this.state;null===e&&this.handleSpammyDomainCheck()}render(){const{children:e,pin:t,url:i}=this.props;return(0,H.jsx)("a",{"aria-label":(null==t?void 0:t.domain)||"",href:i,onClick:this.handleClick,rel:"nofollow",style:{color:"inherit",textDecoration:"none",outline:"none",cursor:"pointer",display:"block"},target:null,children:e})}}function ut(e){var t;const{logContextEvent:i}=(0,V.v)(),n=(0,ne.S6)()(null!==(t=e.pinId)&&void 0!==t?t:"");return(0,H.jsx)(dt,{...e,history:(0,pe.k6)(),location:(0,pe.TH)(),logContextEvent:i,match:(0,pe.$B)(),pin:n})}function _t(e){if(!window||!window.prefetchCompletion||!window.prefetchCompletion[e])return"0";const{downloadedAssets:t,totalAssets:i}=window.prefetchCompletion[e];return i?(t/i*100).toFixed(3).toString():"-1"}var pt=i(941646),ht=i(305689);function mt({children:e,componentType:t,contextLogData:i,pin:n,surface:o,viewParameter:r,viewType:s}){const{logContextEvent:a}=(0,V.v)(),l=(0,J.E)(),{ad_destination_url:c,carousel_data:d,id:u,link:_,tracked_link:p}=n;let h,m=c||p||_||"",E="one-tap-desktop";if(d){const{carousel_slots:e=[],id:t,index:i=0}=d;e[i]&&e[i].link&&(m=e[i].link),h={carousel_slot_id:e[i]&&e[i].id,carousel_data_id:t,carousel_slot_index:i},E+="-carousel"}return(0,H.jsx)(z.xu,{"data-test-id":"otpp",children:(0,H.jsx)(pt.Z,{id:E,children:(0,H.jsx)(ut,{auxData:h,onClick:()=>{const e=(0,ht.cv)();a({event_type:12,view_type:s||l.viewType,view_parameter:r||l.viewParameter,component:t||l.componentType,object_id_str:u,aux_data:{...i,grid_index:l.slotIndex,pin_id:u,prefetch_percentage_complete:_t(_||"")}}),a({event_type:8948,view_type:s||l.viewType,view_parameter:r||l.viewParameter,component:t||l.componentType,object_id_str:u,aux_data:{...i,click_type:"clickthrough",closeup_navigation_type:"click",grid_index:l.slotIndex,pin_id:u,prefetch_percentage_complete:_t(_||"")}}),a({event_type:13,object_id_str:u,component:t||l.componentType,view_type:3,aux_data:{closeup_navigation_type:"web_closeup",...l.contextLogData,...i}}),a({event_type:13,...e})},pinId:u,surface:o,url:m,children:e})})})}function Et(e){const{pin:t,surface:i}=e,{isOneTap:n,isVideo:o,isPromoted:r,isLeadPin:a}=(0,s.Z)(t),{checkExperiment:l}=(0,ee.F)(),c=!a&&(n||o&&r&&l("web_no_tap_tap").anyEnabled)?mt:nt.Z;return(0,H.jsx)(c,{surface:n?i:void 0,...x(e,["surface"])})}function gt({pin:e,pinNoteText:t}){return(0,H.jsx)(Et,{pin:e,children:(0,H.jsx)(z.xv,{lineClamp:1,overflow:"normal",size:"200",children:t})})}var ft=i(81226);function yt({value:e,valueFormat:t}){const i=(0,U.ZP)();return e||0===e?"TIME"===t?(0,ft.Z)(e):(0,H.jsx)(Ye.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,H.jsx)(z.u,{idealDirection:"up",text:i._('This stat is not available yet', 'closeup.partnerAnalytics.unavailableStat', 'when data for this field has not populated yet'),children:""})}function vt({pin:e}){var t;const i=(0,U.ZP)(),n=(0,G.Z)(),{isStoryPin:o,isVideo:r}=(0,s.Z)(e),a=n.isAuth&&(null===(t=e.pinner)||void 0===t?void 0:t.id)===n.id&&!e.is_repin,l=n.isAuth&&n.isPartner,c=(0,te.iL)({isOwnPin:a,isPartner:l}),d=(0,te.H1)({isOwnPin:a,isPartner:l}),u=e.created_at?new Date(e.created_at):null,_=(c||d)&&u&&u.getTime()<=te.HW.getTime(),p=c?function(e){const{public_creator_analytics:t}=e,{isStoryPin:i}=(0,s.Z)(e);return i&&t?t:null}(e):function(e){const{aggregated_pin_data:t,creator_analytics:i}=e,{creator_analytics:n}=t||{},{isStoryPin:o}=(0,s.Z)(e);return!i||!o&&n?n:i}(e),h=(0,m.ZP)({isVideo:r,isStoryPin:o,i18n:i,showPublicPinStats:c,showPrivateFullScreenPinStats:d}),E=r||o?null==p?void 0:p.all_time_realtime:null==p?void 0:p["30d_realtime"];return(0,H.jsx)(z.kC,{alignItems:"stretch",justifyContent:"start",children:h.map((({align:e,displayText:t,field:i,iconType:n,iconSize:o=12,valueFormat:r})=>(0,H.jsxs)(z.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,H.jsx)(z.xu,{display:"inlineBlock",marginEnd:1,children:(0,H.jsx)(z.JO,{accessibilityLabel:t,color:"default",icon:n,size:o})}),(0,H.jsx)(z.xv,{inline:!0,size:"200",children:(0,H.jsx)(yt,{value:"full_screen_play"===i&&_?null:null==E?void 0:E[i],valueFormat:r})})]},i)))})}function It({currentPrice:e,disableLink:t,originalPrice:i,pin:n,surface:o}){const r=i&&i!==e,s=(0,H.jsxs)(z.kC,{alignItems:"stretch",justifyContent:"start",direction:"row",children:[e&&(0,H.jsx)(z.xv,{color:"default",size:"200",weight:"bold",children:e}),r&&(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,H.jsx)(z.xv,{color:"subtle",size:"200",weight:"bold",children:i})})]});return t?s:(0,H.jsx)(Et,{pin:n,surface:o,children:s})}function Tt({disableLink:e,pin:t,surface:i}){const n=(0,H.jsx)(z.kC,{alignItems:"stretch",justifyContent:"start",children:(0,H.jsx)(z.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",weight:"normal",children:_(t,i)})});return e?n:(0,H.jsx)(Et,{pin:t,surface:i,children:n})}var Pt=i(655747);function St({disableLink:e,numberOfLines:t=2,pin:i,pinTitle:n,surface:o}){const r=e?n:(0,H.jsx)(Et,{pin:i,surface:o,children:n});return(0,H.jsx)(z.xv,{color:"default",lineClamp:t,size:"200",weight:"bold",children:r})}var bt=i(423217);const At={container:{padding:"8px 6px 16px"},productContainer:{padding:"12px 6px 16px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${bt.X}ms ease`},visible:{opacity:1}}};function Rt({attributionType:e,board:t,feedbackData:i,feedbackType:r,hasTextContent:a,hasTitleOrSource:l,hoverTransitionState:c,pin:d,pinNoteText:u,pinTitle:_,productCurrentPrice:p,productOriginalPrice:m,setForcePrimary:E,showCarouselEllipsis:g,showFavoriteButton:f,showGroupBoardAvatar:y,showNativeReactions:v,showOverflowMenu:I,showPinStats:T,showSource:P,showTextContent:S,showAttribution:b,surface:A,titleLines:R}){var x,O,C,w;const N=(0,U.ZP)(),D=(0,G.Z)(),L=(0,o.useDispatch)(),{favorited_by_me:k,favorite_user_count:M,id:j,pinner:F,reaction_counts:B,sponsorship:V,story_pin_data:Z}=d,{has_affiliate_products:W}=Z||{},$=function(e,t,i){var n,o,r,a;const{board:l,link_domain:c={},promoter:d,sponsorship:u,native_creator:_}=e,{sponsor:p}=u||{},{isPromoted:h}=(0,s.Z)(e),{official_user:m}=c||{},E=h&&!!u&&(null==_?void 0:_.id)!==(null==d?void 0:d.id),g=e.pinner||{};let f="",y="",v="",I="",T="",P="",S=!1,b=!1;var A,R,x,O,C,w;if(E)f=null!==(A=null!==(R=null==_?void 0:_.image_medium_url)&&void 0!==R?R:null==_?void 0:_.image_small_url)&&void 0!==A?A:"",y=`/${null!==(x=null==_?void 0:_.username)&&void 0!==x?x:""}/`,v=null==d?void 0:d.full_name,I=null==_?void 0:_.full_name,P=`/${null!==(O=null==_?void 0:_.username)&&void 0!==O?O:""}/`,T=`/${null!==(C=null==d?void 0:d.username)&&void 0!==C?C:""}/`,S=null==_||null===(w=_.verified_identity)||void 0===w?void 0:w.verified,b=null==_?void 0:_.is_verified_merchant;else if(h&&d)f=d.image_medium_url||d.image_small_url,v=d.full_name,I=i._('Promoted by', 'indicating the username of the person who promoted the pin', 'indicating the username of the person who promoted the pin'),P=`/${d.username}/`;else if(u&&null!=p&&p.username){var N,D,L,k,M,j;f=null!==(N=null!==(D=null!==(L=null==_?void 0:_.image_large_url)&&void 0!==L?L:null==_?void 0:_.image_medium_url)&&void 0!==D?D:null==_?void 0:_.image_small_url)&&void 0!==N?N:"",y=`/${null!==(k=null==_?void 0:_.username)&&void 0!==k?k:""}/`,v=p.full_name,I=null==_?void 0:_.full_name,P=`/${null!==(M=null==_?void 0:_.username)&&void 0!==M?M:""}/`,T=`/${p.username}/`,S=null==_||null===(j=_.verified_identity)||void 0===j?void 0:j.verified,b=null==_?void 0:_.is_verified_merchant}else if(_){var U,F,B,G,z;f=null!==(U=null!==(F=null!==(B=_.image_large_url)&&void 0!==B?B:_.image_medium_url)&&void 0!==F?F:_.image_small_url)&&void 0!==U?U:"",I=_.full_name,P=`/${null!==(G=_.username)&&void 0!==G?G:""}/`,S=null===(z=_.verified_identity)||void 0===z?void 0:z.verified,b=_.is_verified_merchant}else if("show-for-claimed-content"===t){var V,H,Z,W;null!=m&&m.is_primary_website_verified&&m.username&&(f=null!==(V=null!==(H=null!==(Z=m.image_large_url)&&void 0!==Z?Z:m.image_medium_url)&&void 0!==H?H:m.image_small_url)&&void 0!==V?V:"",I=m.full_name,P=`/${m.username}/`,S=null===(W=m.verified_identity)||void 0===W?void 0:W.verified,b=m.is_verified_merchant)}else{var $,Y,K,q;f=null!==($=null!==(Y=null!==(K=g.image_large_url)&&void 0!==K?K:g.image_medium_url)&&void 0!==Y?Y:g.image_small_url)&&void 0!==$?$:"",y=`/${g.username}/`,I=g.full_name,P=l?l.url:"",S=null===(q=g.verified_identity)||void 0===q?void 0:q.verified,b=g.is_verified_merchant}return e.nftData&&(P=`/nft-assets/${e.nftData.contract.address}`),{avatarUrl:null!==(n=f)&&void 0!==n?n:"",attributionNameLink:y,attributionTitle:null!==(o=v)&&void 0!==o?o:"",name:null!==(r=I)&&void 0!==r?r:"",sponsorUrl:T,url:null!==(a=P)&&void 0!==a?a:"",verifiedIdentity:!!S,isVerifiedMerchant:!!b}}(d,e,N),{avatarUrl:Y,attributionNameLink:K,attributionTitle:q,name:X,sponsorUrl:J,url:Q,verifiedIdentity:ee,isVerifiedMerchant:te}=$,ie=!!d.promoter&&!d.is_downstream_promotion,ne=ie&&(null===(x=d.native_creator)||void 0===x?void 0:x.id)===(null===(O=d.promoter)||void 0===O?void 0:O.id),oe=(0,_e.Z)(101,{view_type:3,element:27,object_id_str:j,component:d.story_pin_data_id?230:void 0,aux_data:{pin_id:j,...null!=V&&null!==(C=V.creator)&&void 0!==C&&C.id&&null!==(w=V.sponsor)&&void 0!==w&&w.id?{creator_id:V.creator.id,sponsor_id:V.sponsor.id}:{}}}),re=e=>L(re(e)),{full_name:se}=(null==V?void 0:V.sponsor)||{},ae="ConversationView"===A?{padding:"8px"}:At.container;return(0,H.jsxs)(z.xu,{dangerouslySetInlineStyle:{__style:ae},children:[g&&(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:l||y||"none"!==e?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,H.jsx)(De.default,{pinId:j})}),T&&(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},flex:"grow",width:"100%",children:(0,H.jsx)(vt,{pin:d})}),(0,H.jsx)(z.kC,{alignItems:"stretch",justifyContent:"start",children:(0,H.jsxs)(z.xu,{flex:"grow",children:[(!!V||W&&!ie)&&!ne&&(0,H.jsx)(z.xu,{marginBottom:1,children:(0,H.jsx)(z.xu,{flex:"grow",overflow:"hidden",children:(0,H.jsx)(Pt.Z,{hasAffiliateProducts:W,href:J||Q,isPromoted:ie,sponsorName:se,sponsorshipStatus:null==V?void 0:V.status,onNavigateSponsorClick:()=>{re(j),oe()},textWeight:"bold"})})}),(S&&a||f)&&(0,H.jsxs)(z.xu,{marginBottom:1,children:[(m||p)&&(0,H.jsx)(z.xu,{marginBottom:1,children:(0,H.jsx)(It,{currentPrice:p,originalPrice:m,pin:d,surface:A})}),f?(0,H.jsxs)(z.kC,{alignItems:"start",children:[(0,H.jsx)(z.kC,{flex:"grow",children:(0,H.jsx)(St,{numberOfLines:R,pin:d,pinTitle:_,surface:A})}),(0,H.jsx)(z.xu,{marginStart:3,children:(0,H.jsx)(Ge,{board:t,favorited:!!k,favoriteCount:null!=t&&t.is_collaborative&&(0,h.Z)({board:t,viewer:D})?null!=M?M:0:void 0,pinId:j})})]}):(0,H.jsx)(St,{numberOfLines:R,pin:d,pinTitle:_,surface:A}),P&&(0,H.jsx)(z.xu,{marginBottom:2,children:(0,H.jsx)(Tt,{pin:d,surface:A})})]}),b&&(0,H.jsxs)(z.kC,{alignItems:"center",justifyContent:"start",children:[(0,H.jsx)(z.xu,{flex:"grow",children:(()=>{const t=(0,H.jsx)(Ne,{attributionNameLink:K,attributionTitle:ie&&!V||ne?q:"",avatarUrl:Y,isPromotedByPinCreator:!!ne,isVerifiedMerchant:te,name:X,pin:d,url:Q,verifiedIdentity:ee});switch(e){case"none":return null;case"image-only-credit":return(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:At.imageOnlyAttribution["active"===c?"visible":"hidden"]},children:(0,H.jsx)(rt,{pin:d,feedbackType:r})});default:return Object.values($).some((e=>Boolean(e)))?t:null}})()}),I&&(0,H.jsx)(z.xu,{flex:"none",children:(0,H.jsx)(st.default,{feedbackData:i,feedbackType:r,pin:d,pinTitle:_,setForcePrimary:E,transparentBackground:!0})})]}),v&&!!B&&Object.keys(B).length>0&&(0,H.jsx)(z.xu,{marginTop:"ConversationView"===A?2:void 0,children:(0,H.jsx)(it,{pinId:j,pinner:F,reactionCounts:B,surface:A})}),u&&(0,H.jsx)(z.xu,{marginBottom:1,children:(0,H.jsx)(gt,{pin:d,pinNoteText:u})}),y&&!f&&(0,H.jsx)(z.xu,{alignItems:"center",display:"flex",marginTop:1,marginBottom:1,children:(0,H.jsxs)(n.Fragment,{children:[(0,H.jsx)(Re,{attributionNameLink:K||Q,avatarUrl:Y,fullWidth:!1,name:X,accessibilityLabel:X}),(0,H.jsx)(z.xu,{marginStart:2,flex:"grow",children:(0,H.jsx)(z.xv,{size:"200",children:X})})]})})]})},`${d.id}-sponsor-name-link`)]})}var xt=i(149230);function Ot(){const e=(0,U.ZP)();return(0,H.jsx)(z.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('Sold out', 'pinrep.footer.outOfStock', 'Footer text to indicate that product pin is out of stock.')})}var Ct=i(104389);function wt(){const e=(0,U.ZP)();return(0,H.jsx)(z.xv,{color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('See price on site', 'pinrep.footer.staleProduct', 'Footer text to indicate that is a stale(untrustworthy) product pin.')})}function Nt({contentType:e,hasTextContent:t,pin:i,pinTitle:o,productCurrentPrice:r,productOriginalPrice:s,productRating:a,productShipping:l,showSource:c,showVisitSiteButton:d,surface:_,titleLines:p}){var h;const{logContextEvent:m}=(0,V.v)(),E=(0,U.ZP)(),{checkExperiment:g}=(0,ee.F)(),{anyEnabled:f,group:y}=g("web_shopping_grid_metadata_ratings_shipping",{dangerouslySkipActivation:!0}),v=(null===(h=i.rich_summary)||void 0===h?void 0:h.url)||i.link;"shopping"!==e||y.includes("pwt")||g("web_shopping_grid_metadata_ratings_shipping");const I=(0,xt.Z)({url:v})?"nofollow":"none";return(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:At.productContainer},height:"100%",children:(0,H.jsx)(z.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:t&&(0,H.jsxs)(n.Fragment,{children:[(0,H.jsxs)(Et,{pin:i,surface:_,children:[(s||r)&&(0,H.jsx)(z.xu,{marginBottom:1,children:(0,H.jsx)(It,{currentPrice:r,disableLink:!0,originalPrice:s,pin:i,surface:_})}),(0,u.qN)(i)&&(0,H.jsx)(z.xu,{marginBottom:1,children:(0,H.jsx)(Ot,{})}),(0,u.SP)(i)&&(0,H.jsx)(z.xu,{marginBottom:1,children:(0,H.jsx)(wt,{})}),(0,H.jsx)(z.xu,{marginBottom:1,children:(0,H.jsx)(St,{disableLink:!0,numberOfLines:p,pin:i,pinTitle:o,surface:_})}),c&&(0,H.jsx)(Tt,{disableLink:!0,pin:i,surface:_}),"shopping"===e&&f&&(a||Number.isFinite(null==l?void 0:l.free_shipping_value))&&(0,H.jsx)(Ct.Z,{count:null==a?void 0:a.count,countFormat:"number",isGridView:!0,ratingValue:null==a?void 0:a.rating,shippingInfo:l})]}),d&&v?(0,H.jsx)(z.xu,{marginTop:2,children:(0,H.jsx)(z.zx,{role:"link",fullWidth:!0,href:v,rel:I,onClick:()=>{m({event_type:12,view_type:1,view_parameter:3563})},target:"blank",text:E._('Visit site', 'ShoppingList.Pin.CTA.Button.VisitSite.Text', 'Text on CTA button on ShoppingList Pin to Visit Site')})}):null]})})})}const Dt=(0,n.memo)((function({attributionType:e,blockClickEvents:t,board:i,contentType:n,feedbackData:o,feedbackType:r,hoverTransitionState:s,pin:a,pinNoteText:l,pinTitle:c,productCurrentPrice:d,productOriginalPrice:u,productRating:_,productShipping:p,setForcePrimary:h,showCarouselEllipsis:m,showFavoriteButton:E,showGroupBoardAvatar:g,showNativeReactions:f,showOverflowMenu:y,showPinStats:v,showSource:I,showTextContent:T,showVisitSiteButton:P,showAttribution:S=!0,surface:b,titleLines:A}){const R=c||I,x="shopping"===n?(0,H.jsx)(Nt,{contentType:n,hasTextContent:!!R,pin:a,pinTitle:c,productCurrentPrice:d,productOriginalPrice:u,productRating:_,productShipping:p,showSource:I,showVisitSiteButton:P,surface:b,titleLines:A}):(0,H.jsx)(Rt,{attributionType:e,board:i,feedbackData:o,feedbackType:r,hasTextContent:!!R,hasTitleOrSource:!!R,hoverTransitionState:s,pin:a,pinNoteText:l,pinTitle:c,productCurrentPrice:d,productOriginalPrice:u,setForcePrimary:h,showCarouselEllipsis:m,showFavoriteButton:E,showGroupBoardAvatar:g,showNativeReactions:f,showOverflowMenu:y,showPinStats:v,showSource:I,showTextContent:T,showAttribution:S,surface:b,titleLines:A});return t?(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:x}):(0,H.jsx)(z.kC,{flex:"grow",children:(0,H.jsx)(se.Z,{fullWidth:!0,children:x})})}));var Lt=i(420632),kt=i(968328);const Mt=(0,n.lazy)((()=>i.e(34979).then(i.bind(i,91540)))),jt=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(47424),i.e(5954),i.e(27624),i.e(43473)]).then(i.bind(i,828528)))),Ut=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(47424),i.e(5954),i.e(67228),i.e(22347)]).then(i.bind(i,566775)))),Ft=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(22538)]).then(i.bind(i,450564)))),Bt=(0,n.lazy)((()=>i.e(1593).then(i.bind(i,331806))));function Gt({derivedSaveButtonOptions:e,forcePrimaryContent:t,showEnabledSaveBehavior:i,onToggleFlyout:r,onToggleModal:s,pin:a}){const{id:l,savedInfo:c}=a,d=(0,n.useRef)(!!c),u=(0,o.useSelector)((({experiences:e})=>{const t=e[1000294];return 502450===(null==t?void 0:t.experience_id)?t:null})),{saveBehaviorType:_}=(0,kt.tY)(i);void 0!==_&&["classic","controlled","inline"].includes(e.type)&&(e=_);const{viewParameter:p,viewType:h}=(0,J.E)(),m=(0,_e.Z)(101,{element:0,object_id_str:l});let E=null;const g={onToggleModal:r,view:h,viewParameter:p,useLegoStyles:!0};if(!e.hidePinBetterSaveDropdown&&(u||i&&["classic","controlled"].includes(e.type))&&["classic","controlled","inline"].includes(e.type)){const{renderPinSaveTooltip:n}=e;E=(0,H.jsx)(R.Z,{name:"SafeSuspense_PinRepPrimaryContent_QuickSaveButton",children:(0,H.jsx)(j.Z,{children:(0,H.jsx)(se.Z,{children:(0,H.jsx)(Ft,{experience:u||void 0,forcePrimaryContent:t,pin:a,renderPinSaveTooltip:n,showEnabledSaveBehavior:i,viewParameter:p})})})})}else if("classic"===e.type||"controlled"===e.type){const{renderPinSaveTooltip:t}=e;E=(0,H.jsx)(R.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinSaveButton",children:(0,H.jsx)(j.Z,{children:(0,H.jsx)(z.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,H.jsx)(se.Z,{children:(0,H.jsx)(jt,{onClickCallback:m,onToggleModal:s,oneTapSave:"controlled"===e.type?e:void 0,pin:a,renderPinSaveTooltip:t,renderSavedStatus:()=>!!c&&(0,H.jsx)(se.Z,{children:(0,H.jsx)(Lt.Z,{isNewlySaved:!d.current,name:c.title,type:c.type,url:c.url})}),variant:"lego",viewParameter:p})})})})})}else if("inline"===e.type){const t=a,{initialSelection:i,onSave:n,renderPinSaveTooltip:o,hidePinBetterSaveDropdown:l}=e;E=(0,H.jsx)(R.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinBetterSave",children:(0,H.jsx)(j.Z,{children:(0,H.jsx)(z.xu,{"data-test-id":"better-save",children:(0,H.jsx)(se.Z,{children:(0,H.jsx)(Ut,{initialSelection:i,onSave:n,onToggleFlyout:r,onToggleModal:s,pin:t,renderPinSaveTooltip:o,renderSavedStatus:({savedInfo:e})=>e&&(0,H.jsx)(se.Z,{children:(0,H.jsx)(Lt.Z,{isNewlySaved:!d.current,name:e.title,type:e.type,url:e.url,shouldUseLegoStyles:!0})}),variant:"pin",viewParameter:p,hideDropdown:l})})})})})}else"persistentOneClickSave"===e.type?E=(0,H.jsx)(R.Z,{name:"SafeSuspense_PinRepPrimaryContent_PersistentOneClickSave",children:(0,H.jsx)(j.Z,{children:(0,H.jsx)(z.xu,{"data-test-id":"persistent-one-click-save",children:(0,H.jsx)(se.Z,{children:(0,H.jsx)(Mt,{...g,saveOptions:e,pin:a})})})})}):"promote"===e.type&&(E=(0,H.jsx)(z.kC,{alignItems:"stretch",justifyContent:"end",children:(0,H.jsx)(R.Z,{name:"SafeSuspense_PinRepPrimaryContent_PinPromoteButton",children:(0,H.jsx)(j.Z,{children:(0,H.jsx)(z.xu,{"data-test-id":"pin-promote-button",children:(0,H.jsx)(se.Z,{children:(0,H.jsx)(Bt,{pin:a})})})})})}));return(0,H.jsx)(R.Z,{name:"PinRepPrimaryContent",children:(0,H.jsx)(z.xu,{display:"flex",margin:3,children:E&&(0,H.jsx)(z.xu,{marginStart:"auto",flex:"grow",children:E})})})}var zt=i(64446),Vt=i(698447),Ht=i(814115),Zt=i(312955),Wt=i(657472);const $t={__style:{boxShadow:"inset 0 0 0 2px black,  inset 0 0 0 4px white",transition:"all 300ms ease"}};function Yt({isSelected:e}){const t=(0,U.ZP)();return(0,H.jsx)(z.xu,{bottom:!0,left:!0,position:"absolute",right:!0,rounding:4,top:!0,dangerouslySetInlineStyle:e?$t:{},children:(0,H.jsx)(z.xu,{position:"absolute",bottom:!0,right:!0,padding:3,children:(0,H.jsx)(z.xu,{alignItems:"center",color:e?"dark":"default",display:"flex",height:"24px",justifyContent:"center",rounding:2,width:"24px",dangerouslySetInlineStyle:{__style:{transition:"all 300ms ease"}},children:(0,H.jsx)(z.JO,{accessibilityLabel:t._('Pin is selected to be saved', 'SectionSuggestionPin.iconOnPin.selectedPin', 'accessibility label on an icon'),color:"inverse",icon:"check",size:12})})})})}var Kt=i(124364),qt=i(802933),Xt=i(674915),Jt=i(559230),Qt=i(428258),ei=i(172071);const ti={},ii=e=>{ei.Z.increment("web_prefetch_via_xhr.attempt",1);const t=(0,ce.Z)(e);return new Promise(((i,n)=>{if(window.navigator&&window.navigator.connection){const e=window.navigator.connection;e.saveData&&(ei.Z.increment("web_prefetch_via_xhr.saveDataOn",1),i()),/2g/.test(e.effectiveType)&&(ei.Z.increment("web_prefetch_via_xhr.poorConnection",1),i())}const o=new XMLHttpRequest;o.open("GET",e),o.onload=()=>{200===o.status?(ti[e]&&(ti[e].loaded=!0),ei.Z.increment("web_prefetch_via_xhr.load.success",1,{hostname:t.hostname||"unknown"}),i(o.response)):(ei.Z.increment("web_prefetch_via_xhr.load.error",1,{hostname:t.hostname||"unknown"}),n())},ti[e]||(o.send(),ti[e]={added:!0,xhr:o},ei.Z.increment("web_prefetch_via_xhr.xhrSent",1,{hostname:t.hostname||"unknown"}))}))},ni={},oi=(e,t)=>{const i="string"==typeof e?e:e.url;if(t&&i){const e="control"===t?"v3.pinimg.com":"v2.pinimg.com";return i.replace("v.pinimg.com",e)}return i};function ri(e,t){return(oi("https://v.pinimg.com/videos/mc/hls/",t)||"")+`${e.slice(0,2)}/${e.slice(2,4)}/${e.slice(4,6)}/${e}`}function si(e){const{id:t}=e;t&&ni[t]&&ni[t].length>0&&ni[t].forEach((e=>{(e=>{ti[e]&&ti[e].xhr&&!ti[e].loaded&&(ei.Z.increment("web_prefetch_abort_xhr",1),ti[e].xhr.abort(),ti[e].aborted=!0)})(e)}))}function ai({autoplaySettingOff:e,blockClickEvents:t,fallbackColor:i,imageFit:o,imageHeightModifier:r,isDenseView:a,isHovering:l,isSocialSeasonalBoard:c=!1,onError:d,onLoad:u,pin:_,pinImageCrop:p,resolution:h="default",rootMargin:m,selectionState:E,showCarousel:g,showPromotedVideos:f,showUnavailablePin:y,surface:v}){const{contextLogData:I,slotIndex:T,viewParameter:P,viewType:S}=(0,J.E)(),{checkExperiment:b}=(0,ee.F)(),{group:A}=b("web_prefetch_video_in_feed"),{id:R="",aggregated_pin_data:x,image_signature:O,story_pin_data:C}=_,{pin_tags_chips:w}=x||{},{isOneTap:N,isVideo:D,isPromoted:L,isGif:k}=(0,s.Z)(_),{cropHeight:M,cropWidth:j}=(e=>"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width})(p);let U=null;if(y)U=(0,H.jsx)(Kt.Z,{isDenseView:a,height:a?250:420,rounding:0,width:a?164:236});else if(e||!D||!f&&L||"BoardCoverSelectablePin"===v)if(g)U=(0,H.jsx)(z.xu,{"data-test-id":"pinrep-carousel",children:(0,H.jsx)(Ht.Z,{cropHeight:M,cropWidth:j,onError:d,onLoad:u,highResOnly:"high-res"===h,lowResOnly:"low-res"===h,pinId:R,showCarouselBadge:!1,pin:_})});else{const e="backend"===p?function({images:e,image_crop:t}){var i;const n=e&&(null===(i=e["236x"])||void 0===i?void 0:i.height);if(t&&(0!==t.min_y||1!==t.max_y)){const{min_y:e=0,max_y:i=0}=t;return{marginTop:(e>0?-1*e*(null!=n?n:0):0)+"px",marginBottom:`${i<1?Math.round(-1*(1-i)*(null!=n?n:0)):0}px`}}return{}}(_):{};U=(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:e},"data-test-id":"pinrep-image",minHeight:55,children:(0,H.jsx)(Zt.Z,{animateGif:k&&c,cropHeight:M,cropWidth:j,fallbackColor:i,imageFit:o,highResOnly:"high-res"===h,lowResOnly:"low-res"===h,mediumResOnly:"medium-res"===h,onLoad:u,onError:d,pin:_})})}else U=(0,H.jsx)(z.xu,{"data-test-id":"pinrep-video",direction:"column",display:"flex",height:M||void 0,justifyContent:"center",children:(0,H.jsx)(Wt.Z,{cropHeight:M,cropWidth:j,highResOnly:"high-res"===h,imageHeightModifier:r,inAdsDesktopVideoExperiment:D&&f,isExperimentalPinRep:!0,lowResOnly:"low-res"===h,onError:d,onLoad:u,pin:_,rootMargin:m,surface:v,viewParameter:P,viewType:S})});const F=(0,H.jsx)(z.zd,{wash:!0,children:(0,H.jsx)(ae.Z,{hovered:l,pin:_,slotIndex:T,viewType:1,children:U})}),B=["selected-image-only","deselected-image-only"].includes(E),G="selected-image-only"===E,V=(0,n.useRef)(!0),Z=(0,n.useRef)(!1),W=(0,n.useRef)(!1),$=b("web_video_quic").group;if((0,n.useEffect)((()=>{V.current||!l||N||t||Z.current?l||!Z.current||W.current||(si(C||_),W.current=!0):C?(!function(e,t){var i;const{id:n,pages:o,pages_preview:r}=e;if(!r&&!o)return;const s=r?r[0]:null==o?void 0:o[0],a=null==s||null===(i=s.blocks)||void 0===i?void 0:i.find((e=>3===e.block_type));if(a&&a.video){const{hlsv3:e,mp4:i}=(0,Qt.Z)(a.video)||{},o=i||e;if(o&&n){var l;const e=null!==(l=oi(o,t))&&void 0!==l?l:"";ni[n]=ni[n]?ni[n].concat(e):[e],ii(e)}}}(C,$),Z.current=!0):(!function(e,t){const{id:i,videos:n}=e,{video_list:o}=n||{},r=(0,qt.Z)({pin:e}),{video:s}=(0,Xt.Z)(r)||{},{hls:a,hlsv3:l}=s||{};if(o){const e=(0,Qt.t)(o)||{},n=l||a||{};if(n.url){var c;const e=null!==(c=oi(n.url,t))&&void 0!==c?c:"";ni[i]=ni[i]?ni[i].concat(e):[e],ii(e).then((e=>{let n=[];if("string"==typeof e&&(n=e.split("\n").filter((e=>e.endsWith(".m3u8")))),n&&n[Jt.VS]){const e=ri(n[Jt.VS],t);return ni[i]=ni[i].concat(e),ii(null!=e?e:"")}return null})).then((e=>{let n=[];if("string"==typeof e&&(n=e.split("\n").filter((e=>e.endsWith(".ts")))),n&&n[0]){const e=ri(n[0],t);return ni[i]=ni[i].concat(e),ii(null!=e?e:"")}return null}))}else if(e.url){var d;const n=null!==(d=oi(e.url,t))&&void 0!==d?d:"";ii(n),ni[i]=ni[i]?ni[i].concat(n):[n]}}}(_,$),Z.current=!0),V.current=!1}),[t,l,N,C,_,A,$]),t)return(0,H.jsxs)(n.Fragment,{children:[F,B&&(0,H.jsx)(Yt,{isSelected:G}),w&&(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,H.jsx)(Vt.Z,{pin:_,enableCloseupLink:!0})})]});const{commerce_data:Y,story_type:K}=I||{},q=["RelatedProductsExploreTab","RelatedProductsFeed"].includes(v);return(0,H.jsxs)(Et,{contextLogData:{commerce_data:q?Y:void 0,grid_index:T,image_signature:O,story_type:K},elementType:C?12372:35,pin:_,surface:v,children:[F,w&&(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},children:(0,H.jsx)(Vt.Z,{pin:_,enableCloseupLink:!1})})]})}var li=i(812446),ci=i(946984);const di=(0,li.Z)((({handleSendShareFlyoutButtonClick:e})=>{const t=(0,U.ZP)(),i=(0,ci.Z)();return(0,H.jsx)(z.zx,{fullWidth:!0,onClick:i((({event:t})=>{t&&t.stopPropagation&&t.stopPropagation(),e()})),text:t._('Send', 'Send a pin', 'Send a pin'),color:"gray",accessibilityLabel:t._('Send', 'Accessible label to send a pin', 'Accessible label to send a pin')})}));function ui(e){return e<160?"header-only":"none"}function _i(e){const[t,i]=(0,n.useState)(e.current?ui(e.current.clientHeight||0):"none");return function(e,t){const i=(0,n.useRef)();(0,n.useEffect)((()=>{const n=e.current;if(!n)return;const o=i.current;o&&o.width===n.offsetWidth&&o.height===n.offsetHeight||(i.current={width:n.offsetWidth||0,height:n.offsetHeight||0},t&&t(i.current))})),i.current}(e,(({height:e})=>{const n=ui(e);n!==t&&i(n)})),t}var pi=i(521460),hi=i(704115);const mi={impressed:{backgroundColor:"#adebad"}};function Ei({debugImpressionState:e="paused",slotIndex:t}){return"paused"===e?null:(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:mi.impressed},"data-test-id":"debug-pin-impressions",position:"absolute",top:!0,left:!0,right:!0,bottom:!0,opacity:.5,children:(0,H.jsx)(z.xu,{position:"absolute",top:!0,left:!0,padding:2,color:"selected",children:(0,H.jsx)(z.xv,{color:"inverse",children:(0,H.jsx)("span",{className:"deprecatedTextSizeXL",children:t})})})})}var gi=i(472231),fi=i(31658),yi=i(123987),vi=i(310227);const Ii="#000000",Ti="#ffffff";function Pi({selected:e=!1}){const t=(0,U.ZP)(),{isRTL:i}=(0,Ee.B)();return(0,H.jsx)(z.xu,{position:"absolute",top:!0,left:!0,bottom:!0,right:!0,zIndex:new z.Ry(1),dangerouslySetInlineStyle:{__style:{borderWidth:"3px",borderStyle:"solid",borderColor:e?Ii:Ti,borderRadius:vi.Oc,boxShadow:e?"inset 0 0 0 3px #fff":void 0}},children:e?(0,H.jsx)(z.xu,{position:"absolute",bottom:!0,right:!i,left:i,display:"flex",alignItems:"center",justifyContent:"center",margin:3,rounding:2,height:24,width:24,color:"dark",children:(0,H.jsx)(z.JO,{accessibilityLabel:t._('Check icon', 'pinRepSelectionBorder.checkIcon', 'Accessibility label for check icon on selected Pin'),icon:"check",color:"inverse",size:12})}):(0,H.jsx)(z.xu,{right:!i,left:i,position:"absolute",top:!0,margin:3,children:(0,H.jsx)(z.JO,{accessibilityLabel:t._('Handle icon', 'pinRepSelectionBorder.handleIcon', 'Accessibility label for handle icon on an organizable Pin'),icon:"handle",color:"light",size:24})})})}const Si={wrapper:{borderRadius:vi.Oc,WebkitMaskImage:"-webkit-radial-gradient(white, black)"},promotedPinBorderTreatment:{background:"#EFEFEF",padding:4,borderRadius:20},primaryContentContainer:{marginBottom:"auto"},visualOverlay:{backgroundColor:vi.Dv.VISUAL},savedOverlay:{backgroundColor:vi.Dv.SAVED},legoWashOverlay:{backgroundColor:vi.Dv.LEGO_WASH}};function bi({children:e,savedOverlayVisibility:t="none",visualOverlayVisibility:i="none",handleMouseOverPinContent:n,handleMouseLeavePinContent:o,primaryContent:r,primaryContentVisibility:s="none",secondaryContent:a,secondaryContentVisibility:l="none",accessoryContent:c,accessoryContentVisibility:d="none",actionBar:u,actionBarVisibility:_="none",seeStatsButton:p,footer:h,selectionState:m="no-selection",debugContent:E,signalDebuggerContent:g,signalDebuggerV2Content:f,signalDebuggerV2ContentVisibility:y="none",obscuredPinOverlay:v,showNoPinBorderRadius:I,showPromotedPinBorderTreatment:T,shouldUseLegoWash:P}){return(0,H.jsx)(z.xu,{dangerouslySetInlineStyle:{__style:T?Si.promotedPinBorderTreatment:{}},height:"100%",children:(0,H.jsxs)(z.xu,{dangerouslySetInlineStyle:{__style:I?{}:Si.wrapper},"data-test-id":"pinWrapper",display:"flex",direction:"column",height:"100%",overflow:"hidden",position:"relative",children:[["selected","deselected"].includes(m)&&(0,H.jsx)(Pi,{selected:"selected"===m}),(0,H.jsxs)(z.xu,{"aria-hidden":Boolean(v),children:[(0,H.jsxs)(z.xu,{dangerouslySetInlineStyle:{__style:I?{}:Si.wrapper},overflow:"hidden",position:"relative",onFocus:n,onBlur:o,onMouseEnter:n,onMouseLeave:o,children:[e,(0,H.jsx)(yi.Z,{visibility:i,children:(0,H.jsx)(fi.Z,{additionalStyles:P?Si.legoWashOverlay:Si.visualOverlay})}),(0,H.jsx)(yi.Z,{visibility:t,children:(0,H.jsx)(fi.Z,{additionalStyles:P?Si.legoWashOverlay:Si.savedOverlay})}),c&&(0,H.jsx)(yi.Z,{visibility:d,children:(0,H.jsx)(fi.Z,{children:c})}),a&&(0,H.jsx)(yi.Z,{visibility:l,children:(0,H.jsx)(fi.Z,{children:a})}),r&&(0,H.jsx)(yi.Z,{visibility:s,children:(0,H.jsx)(fi.Z,{children:r})}),f&&(0,H.jsx)(yi.Z,{visibility:y,children:(0,H.jsx)(fi.Z,{children:(0,H.jsx)(z.xu,{position:"absolute",left:!0,bottom:!0,marginBottom:12,marginStart:2,children:f})})}),u&&(0,H.jsx)(yi.Z,{visibility:_,children:(0,H.jsx)(fi.Z,{children:(0,H.jsx)(z.xu,{position:"absolute",left:!0,right:!0,bottom:!0,children:u})})}),p&&(0,H.jsx)(fi.Z,{children:(0,H.jsx)(z.xu,{position:"absolute",left:!0,bottom:!0,children:p})}),E&&(0,H.jsx)(fi.Z,{children:E}),g]}),h]}),v&&(0,H.jsx)(z.xu,{children:v})]})})}function Ai(e){return"active"===e?"visible":"inactive"===e?"none":"hidden"}function Ri(...e){return e.includes("visible")?"visible":e.includes("hidden")?"hidden":"none"}const xi=(0,n.memo)((function({actionBarProps:e,blockClickEvents:t,borderStyle:i,currentlyPlayingVideo:o,disableHover:r=!1,footerProps:s,impressionsDebuggerProps:l,obscuredPinOverlayProps:c,onError:d,onLoad:u,pin:_,pinVisualProps:p,presentationProps:h,primaryContentProps:m,rounding:E,secondaryContentProps:g,authDesktopSelectionState:f,showFooter:y,showImpressionsDebugger:v,showObscuredPinOverlay:I,showSeeStatsButton:T,showSignalDebugger:P,showUnavailablePin:S,surface:b,visibilityOverrides:A,imageHeightModifier:x}){var O,C;const{savedInfo:w}=_,{viewType:N}=(0,J.E)(),{showEnabledSaveBehavior:D}=(0,kt.Yh)(a.ZF.includes(b)||(0,k.Z)(b)),[L,M]=(0,n.useState)(!1),j=(0,bt.Z)(L);let{isHovering:U,hoverTransitionState:F,handleMouseOver:B,handleMouseLeave:G}=function(){const[e,t]=(0,n.useState)(!1);return{isHovering:e,hoverTransitionState:(0,bt.Z)(e,0,bt.X),handleMouseOver:(0,n.useCallback)((()=>t(!0)),[t]),handleMouseLeave:(0,n.useCallback)((()=>t(!1)),[t])}}();r&&(U=!1,F="inactive");const V=(0,bt.Z)(!!w),Z=Ai(V),W=Ai(F),$=Ai(F),Y=Ai(j),q=Ai(V),X=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(b),Q="visible"!==Z||X?Z:"none",ee={primaryContentVisibility:null!==(O=A.primaryContent)&&void 0!==O?O:Ri($,Y,"visible"===q?"none":q),secondaryContentVisibility:(te=Ri($,Y,q),"none"===te?"visible":"visible"===te?"none":"hidden"),actionBarVisibility:Ri($,Y),accessoryContentVisibility:"none",signalDebuggerV2ContentVisibility:"visible"};var te;const ie=e=>M(e),ne=e=>M(e),oe=e=>{M(e),e||G()};let re=null;"none"!==ee.primaryContentVisibility&&(re=(0,H.jsx)(Gt,{forcePrimaryContent:ie,showEnabledSaveBehavior:D,onToggleFlyout:ne,onToggleModal:oe,pin:_,...m}));let ae=null;const le=(0,n.useRef)(!0),ce=le.current;le.current=!1;const de=function(e,t){const{carousel_data:i}=e,{index:o}=i||{},[r,s]=(0,n.useState)(!i||t),a=(0,n.useRef)(o),l=(0,n.useRef)(null);if(i){const e=a.current;a.current=o,(o!==e||t)&&(l.current&&clearTimeout(l.current),s(!0),l.current=setTimeout((()=>{s(!1),l.current=null}),4e3))}return(0,n.useEffect)((()=>()=>{l.current&&clearTimeout(l.current)}),[]),r}(_,ce),ue=Ai((0,bt.Z)(de));ee.secondaryContentVisibility=null!==(C=A.secondaryContent)&&void 0!==C?C:function(...e){return e.includes("none")?"none":e.includes("hidden")?"hidden":"visible"}(ee.secondaryContentVisibility,ue),ae=(g.allowShoppingPriceIndicator||g.shoppingLabelColor||"none"!==ee.secondaryContentVisibility)&&!o&&(0,H.jsx)(z.xu,{margin:2,children:(0,H.jsx)(zt.Z,{pin:_,...g})});let _e=null;"visible"===A.accessoryContent&&(_e=(0,H.jsx)(Se,{pin:_}),ee.accessoryContentVisibility=Ai(F)),p.isSocialSeasonalBoard&&(e.showShareButton=!1);let pe=null;T&&(e.showSourceLinkButton=!1,pe=(0,H.jsx)(se.Z,{children:(0,H.jsx)(K,{pinId:_.id,surface:b})}));const he="visible"===A.actionBar?(0,H.jsx)(ve,{onToggleFlyout:ne,pin:_,setForcePrimary:M,surface:b,...e}):null;let me=null;y&&(me=(0,H.jsx)(Dt,{blockClickEvents:t,hoverTransitionState:"image-only-credit"===s.attributionType?F:null,pin:_,setForcePrimary:M,surface:b,...s})),p.isSocialSeasonalBoard&&(me=(0,H.jsx)(z.xu,{"data-test-id":"social-seasonal-footer",marginTop:2,marginBottom:3,width:"100%",children:(0,H.jsx)(z.xu,{margin:"auto",width:pi.J,children:(0,H.jsx)(di,{isFlyoutOpen:L,onFlyoutDismiss:()=>ne(!L),onToggleFlyout:()=>ne(!L),pinId:_.id,sendType:"pin",shownWithinMasonry:!0,viewType:N})})}));const Ee=v&&(0,H.jsx)(Ei,{...l}),ge=P&&_.debug_info_html&&(0,H.jsx)(z.xu,{paddingY:1,children:(0,H.jsx)("pre",{children:_.debug_info_html})}),fe=(0,H.jsx)(be.Z,{pin:_}),ye=(0,n.useRef)();"header-only"===_i(ye)&&(ee.actionBarVisibility="none",ee.accessoryContentVisibility="none");const Ie=I?(0,H.jsx)(gi.ZP,{pin:_,...c}):null,Te="ShoppingGridShippedMetadataWithVisitButton"===b?{height:"100%"}:{},Pe=y&&"default"===s.attributionType&&a.ZF.includes(b),Ae=!_.is_promoted&&!r&&Pe;return(0,H.jsx)(R.Z,{name:"PinRepContainer",children:(0,H.jsx)(z.xu,{"data-test-id":"pin","data-test-pin-id":_.id,onFocus:B,onBlur:G,onMouseEnter:B,onMouseLeave:G,dangerouslySetInlineStyle:{__style:Te},rounding:"ConversationView"===b?E:void 0,borderStyle:"ConversationView"===b?i:"none",overflow:"ConversationView"===b?"hidden":"visible",children:(0,H.jsx)(bi,{visualOverlayVisibility:W,savedOverlayVisibility:Q,handleMouseOverPinContent:Ae?B:()=>{},handleMouseLeavePinContent:Ae?G:()=>{},primaryContent:re,primaryContentVisibility:ee.primaryContentVisibility,secondaryContent:ae,secondaryContentVisibility:ee.secondaryContentVisibility,accessoryContent:_e,accessoryContentVisibility:ee.accessoryContentVisibility,actionBar:he,actionBarVisibility:ee.actionBarVisibility,seeStatsButton:pe,footer:me,selectionState:f,debugContent:Ee,signalDebuggerV2Content:fe,signalDebuggerV2ContentVisibility:ee.signalDebuggerV2ContentVisibility,signalDebuggerContent:ge,obscuredPinOverlay:Ie,...h,children:(0,H.jsx)(z.xu,{height:"100%",ref:ye,children:(0,H.jsx)(ai,{blockClickEvents:t,showUnavailablePin:S,isHovering:U,onError:d,onLoad:u,pin:_,surface:b,selectionState:f,imageHeightModifier:x,...p})})})})})}));var Oi=i(231947),Ci=i(53987);const wi=(0,n.lazy)((()=>Promise.all([i.e(97270),i.e(67228),i.e(89181),i.e(92982)]).then(i.bind(i,576070)))),Ni=["ArticleProductsStory","BoardCoverSelectablePin","BoardNoteSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide"],Di=["BaseBoardPinGrid","UserProfilePinGrid",...Z];function Li({attributionOption:e,blockClickEvents:t,debugImpressionState:i,disableReaction:u,feedback:_,imageOnlyOption:p="default",pin:h,pinId:E,pinImageCrop:z,pinImageFit:V,resolution:Z="default",saveButtonOptions:W,authDesktopSurface:$,trackingParameters:Y,...K}){var se,ae,le,ce,de,ue,_e,he;const me=(0,ne.S6)()(E)||h,Ee=null!==(se=null===(ae=me.board)||void 0===ae?void 0:ae.id)&&void 0!==se?se:"",ge=(0,ie.gC)()(Ee)||me.board;me.grid_title=me.grid_title||h.grid_title;const fe=(0,U.ZP)(),ye=(0,ee.F)(),{checkExperiment:ve}=ye,{collaborated_by_me:Ie,collaborator_count:Te,is_collaborative:Pe}=ge||{},{is_quick_promotable:Se,pinner:be,showFeedback:Ae,sponsorship:Re}=me,{isPromoted:xe}=(0,s.Z)(me),Oe=(0,D.Z)(me),Ce=(0,G.Z)(),we=(0,F.Z)(),{anyEnabled:Ne}=ve("web_m10n_business_access_orbac_www"),{anyEnabled:De}=ve("web_m10n_business_access_orbac_ga"),Le=De?(0,Oi.lJ)(Ce,we):"",ke=(0,pe.TH)(),{slotIndex:Me,viewParameter:je}=Y,Ue=["AuthHomefeed","BaseBoardPinGrid"].includes($)&&ve("web_repin_flow").anyEnabled,Fe=(0,oe.x)(),{appUI:{videosAutoplaying:Be}}=(0,Q.I)(),Ge=(0,M.Z)(me.id,Be),ze=(0,o.useSelector)((({changeBoardFromToast:e})=>e))||{},Ve=(0,N.Z)(me),He=(0,C.Z)(me),Ze=Ce.isAuth&&Ce.isEmployee,We=Ce.isAuth&&((0,w.Z)(Ce.createdAt)||(0,L.Z)(null,Ce))&&!Ce.isPartner;let $e=We;"TodayArticleFeed"===$&&($e=!1),"default"!==p&&($e="image-only"===p),(0,k.Z)($)&&($e=!1),"ShoppingSquareGridDomainNoMetadata"===$&&($e=!0);let Ye=e;We&&!Ye&&(Ye="image-only");const Ke=(0,O.Z)({feedbackOptions:_,pin:me,viewParameter:je},fe),{data:qe}=_||{},Xe="number"==typeof Te&&Te>0||Pe;let Je=!1;"OtherProfilePinGrid"===$?Je=!0:"BaseBoardPinGrid"===$?Je="dense"===(null==Fe?void 0:Fe.boardPinDensity):"UserProfilePinGrid"===$&&(Je="dense"===(null==Fe?void 0:Fe.profilePinDensity));const Qe=Boolean(Xe&&"BaseBoardPinGrid"===$),et=(0,B.Z)(),tt=(0,re.kW)(),it=tt&&tt[null!==(le=null===(ce=et.data)||void 0===ce?void 0:ce.id)&&void 0!==le?le:""]?tt[null!==(de=null===(ue=et.data)||void 0===ue?void 0:ue.id)&&void 0!==de?de:""]:et.data,nt=(0,A.Z)(Ce,ge);let ot=!1;if(!!(0,pe.LX)(ke.pathname,{path:"/:username/_created/",exact:!0}))ot=(0,Oi.q6)(Ce,null==it?void 0:it.id,we);else if((0,Ci.am)(ke)||(0,Ci.OJ)(ke)){const e=ge&&ge.owner&&ge.owner.id||"";ot=(0,Oi.q6)(Ce,e,we)}const rt=Boolean(Ce.isAuth&&be&&be.id===Ce.id),st=Boolean(Ie||Xe&&nt),at=Ce.isAuth&&Ce.isPartner,lt=!(null===(_e=me.story_pin_data)||void 0===_e||!_e.is_deleted)&&ve("web_deleted_idea_pins").anyEnabled,ct=(0,n.useMemo)((()=>function({hasCarouselData:e,isDeletedStoryPin:t,surface:i}){const n={primaryContent:null,secondaryContent:null,actionBar:b.includes(i)||t?"none":"visible",accessoryContent:e?"visible":"none"};return t||S.includes(i)?(n.primaryContent="none",n.secondaryContent="none"):["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(i)&&(n.primaryContent="visible"),n}({hasCarouselData:He,isDeletedStoryPin:lt,surface:$})),[He,lt,$]),dt=(0,n.useMemo)((()=>function({board:e,isDenseView:t,isGroupBoard:i,isInlineBetterSave:n,isOwnBoard:o,isORBACProfileManager:r,isQuickPromotable:s,isRemovable:l,saveButtonOptions:c,surface:d,viewer:u,viewerIsCollaborator:_}){const p=u.isAuth?u.boardCount:void 0;let h=c||function(e=0){return 0===e?{type:"classic"}:{type:"inline"}}(p);s?h={type:"promote"}:(_||o||["OtherProfilePinGrid","UserProfilePinGrid"].includes(d))&&!["BoardlessPins","CreatorProfileActivityPinGrid","CreatorProfileStoryPinGrid","BaseBoardPinGrid"].includes(d)?h={type:"classic"}:(_||o)&&["BaseBoardPinGrid"].includes(d)&&null!=e&&e.name&&e.url&&e.id&&(h={type:"inline",initialSelection:{title:e.name,boardId:e.id,url:e.url}});return n&&(h={type:"inline",hidePinBetterSaveDropdown:"BaseBoardPinGrid"===d}),(l||P.includes(d)||r)&&(h={type:"none"}),{board:e,derivedSaveButtonOptions:h,showLikeButton:_&&i&&a.UP.includes(d),supportsReactionBar:!t}}({board:ge,isInlineBetterSave:Ue,isDenseView:Je,isGroupBoard:Qe,isOwnBoard:nt,isOwnPin:rt,isORBACProfileManager:ot,isQuickPromotable:Se,isRemovable:Oe,saveButtonOptions:W,surface:$,viewer:Ce,viewerIsCollaborator:st})),[ge,Ue,Je,Qe,nt,rt,ot,Se,Oe,W,$,Ce,st]),{anyEnabled:ut}=ve("web_shopping_grid_metadata_ratings_shipping",{dangerouslySkipActivation:!0});let _t;["ShoppingDynamicHeightGrid","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadataWithVisitButton"].includes($)&&!xe&&(_t="white");const pt=(0,n.useMemo)((()=>function({allowProductCarousel:e=!1,shoppingLabelColor:t,surface:i}){return{allowProductCarousel:e,allowShoppingPriceIndicator:a.Wv.includes(i),shoppingLabelColor:t}}({allowProductCarousel:Ve,shoppingLabelColor:_t,surface:$})),[Ve,_t,$]),ht=(0,n.useMemo)((()=>function({board:e,feedbackData:t,feedbackType:i,isDenseView:n,isGroupBoard:o,isOwnBoard:a,isORBACProfileManager:u,isORBACBeta:_,isORBACGA:p,pin:h,surface:m,viewer:E}){var g;const{isOwnPin:f,isPromoted:y}=(0,s.Z)(h),v=l({isGroupBoard:o,pin:h,surface:m}),I=e&&(0,r.Z)({action:4,board:e,viewer:E})||f,T=h.savedInfo&&h.savedInfo.localPinId,P=Boolean(a&&!o||"UserProfilePinGrid"===m&&I||T),S=Boolean(o&&I||P||u&&(!(0,c.hy)(h.story_pin_data_id)||_)),b=Boolean((null==e?void 0:e.is_collaborative)||P),A=!(y||a||o||d.includes(m)||u),R=!("CloseupRelatedProducts"===m||u&&!p),{tracked_link:x,link:O}=h,C=!(null===(g=null!=x?x:O)||void 0===g||!g);let w=o&&n?"equally-spaced":"default",N="default";return n&&(N=o?"icon-only":"truncated-text"),n&&["UserProfilePinGrid","BaseBoardPinGrid","BoardlessPins"].includes(m)&&(N="icon-only",w="equally-spaced"),{actionBarEditBeforeShare:b,feedbackData:t,feedbackType:i,layout:w,pinTitle:v,showEditButton:S,showOverflowMenu:A,showShareButton:R,showSourceLinkButton:C,sourceLinkStyle:N}}({board:ge,feedbackData:qe,feedbackType:Ke,isDenseView:Je,isGroupBoard:Qe,isOwnBoard:nt,isORBACProfileManager:ot,isORBACBeta:Ne,isORBACGA:De,pin:me,surface:$,viewer:Ce})),[ge,qe,Ke,Je,Qe,nt,ot,Ne,De,me,$,Ce]),mt=(0,m.rh)(me,Ce,ye,Le)&&Di.includes($)&&(rt||De&&ot),Et=["ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain"].includes($),gt=!xe&&Et?"shopping":"standard",ft=(u||"CreatorProfileStoryPinGrid"!==$||rt)&&(0,q.J6)(me,lt),yt=(0,n.useMemo)((()=>g({attributionOption:Ye,board:ge,contentType:gt,experimentsClient:ye,feedbackData:qe,feedbackType:Ke,hasCarouselData:He,isGroupBoard:Qe,isORBACProfileManager:ot,isOwnBoard:nt,pin:me,showImageOnly:$e,showNativeReactions:ft,showPromotedShoppingPrice:ut&&xe&&Et,surface:$,viewer:Ce})),[Ye,ge,gt,ye,qe,Ke,He,Qe,ot,nt,xe,Et,me,ut,$e,ft,$,Ce]),vt=!!me.story_pin_data_id,It=me.created_at?new Date(me.created_at):null,Tt=(0,te.pN)({isOwnPin:rt,isStoryPin:vt,pinCreationDate:It,surface:$});let Pt=Boolean(yt.pinTitle||yt.contentType||yt.userNote||yt.showSource||"none"!==yt.attributionType||yt.showNativeReactions||yt.productCurrentPrice||yt.productOriginalPrice||yt.showPinStats)||Qe;"BaseBoardPinGrid"===$&&nt&&at||Re?Pt=!0:Ni.includes($)||Je&&(nt||Ie)?Pt=!1:rt||"CreatorProfileStoryPinGrid"!==$&&"CreatorProfileActivityPinGrid"!==$||(Pt=!1);const St=Boolean(Ae),bt={showNoPinBorderRadius:"TopicBestPinNarrow"===$||"TopicBestPinWide"===$||"ConversationView"===$,showPromotedPinBorderTreatment:"BaseBoardPinGrid"===$&&xe&&ve("web_others_board_feed_ads_border").anyEnabled,shouldUseLegoWash:!0},{anyEnabled:At}=ve("hfp_homefeed_control_cta_variants"),Rt={feedbackType:Ke,isHomefeedTunerVariantExp:At},{anyEnabled:xt}=ve("ads_desktop_video_ads",{dangerouslySkipActivation:!0}),Ot=(0,n.useMemo)((()=>function({hasCarouselData:e,isDenseView:t,isSocialSeasonalBoard:i,pinImageCrop:n,pinImageFit:o,resolution:r,showPromotedVideos:s,surface:l}){const c=a.zl.includes(l);let d="backend";"CloseupRelatedProducts"===l?d={height:T.GZ,width:T.OE}:"TopicBestPinWide"===l?d={height:I.m9,width:I.BS}:"TopicBestPinNarrow"===l?d={height:I._5,width:I.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(l)||c?d={height:T.zX,width:T.zX}:n&&(d=n);let u="none",_=null!=r?r:"default";"string"!=typeof d&&(u="cover",(c||"ShoppingDynamicHeightGrid"===l&&!o||"ShoppingSquareGridDomainNoMetadata"===l)&&(u="contain",_="high-res"));const p=c||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid"].includes(l)?"transparent":"dominant",h=(0,y.e)(l);return{autoplaySettingOff:"undefined"!=typeof window&&0===v.Xb.getItem(f.Z.VIDEO_AUTOPLAY_LOCAL_STORAGE_KEY),fallbackColor:p,imageFit:u,isDenseView:t,isSocialSeasonalBoard:i,resolution:_,rootMargin:h,pinImageCrop:d,showCarousel:e&&!["ShoppingSquareGridStorefrontDomain","ShoppingSquareGridStorefront"].includes(l),showPromotedVideos:s}}({hasCarouselData:He,isDenseView:Je,isPromoted:xe,isSocialSeasonalBoard:!1,pinImageCrop:z,pinImageFit:V,resolution:Z,showPromotedVideos:xt,surface:$})),[He,Je,xe,z,V,Z,xt,$]),Ct=Ze&&void 0!==(0,hi.Z)().debug_impression_log,wt=(0,n.useMemo)((()=>({debugImpressionState:i,slotIndex:Me})),[i,Me]),Nt=(0,n.useMemo)((()=>({surface:$})),[$]);return(0,H.jsx)(R.Z,{name:"PinRepConfiguration",children:(0,H.jsx)(J.B,{value:Y,children:(0,H.jsxs)(X.B,{value:Nt,children:[(0,H.jsx)(xi,{actionBarProps:ht,blockClickEvents:t,currentlyPlayingVideo:Ge,footerProps:yt,impressionsDebuggerProps:wt,obscuredPinOverlayProps:Rt,pin:me,pinVisualProps:Ot,presentationProps:bt,primaryContentProps:dt,secondaryContentProps:pt,showFooter:Pt||Tt,showImpressionsDebugger:Ct,showObscuredPinOverlay:St,showSeeStatsButton:mt,showSignalDebugger:Ze,showUnavailablePin:lt,surface:$,visibilityOverrides:ct,...x(K,["pinId"])}),ze.shouldOpenModal&&ze.newPin&&(null===(he=ze.originalPin)||void 0===he?void 0:he.id)===me.id&&(0,H.jsx)(R.Z,{name:"SafeSuspense_PinRepConfiguration_ChangeBoardModal",children:(0,H.jsx)(j.Z,{children:(0,H.jsx)(wi,{experience:ze.experience,newPin:ze.newPin})})})]})})})}},301921:(e,t,i)=>{i.r(t),i.d(t,{default:()=>y});var n=i(667294),o=i(564194),r=i(768559),s=i(868565),a=i(905723),l=i(304515),c=i(883119),d=i(785893);const u={overlay:{__style:{backgroundColor:"#000"}}};function _(e){var t,i,o,r;const{pin:{id:s,images:_,title:p,videos:h,video_status_message:m}}=e,E=m||{},g=_&&_["236x"],f=h&&(null===(t=h.video_list)||void 0===t?void 0:t[a.Z.V_HLSV4]),{duration:y}=f||{};return(0,d.jsx)(n.Fragment,{children:(0,d.jsx)(c.Zb,{children:(0,d.jsxs)(c.iP,{role:"link",href:`/pin/${s}`,rounding:2,children:[(0,d.jsxs)(c.xu,{overflow:"hidden",position:"relative",rounding:2,children:[g&&(0,d.jsx)(c.Ee,{alt:p||"",color:"lightGray",naturalHeight:null!==(i=g.height)&&void 0!==i?i:1,naturalWidth:null!==(o=g.width)&&void 0!==o?o:1,src:null!==(r=g.url)&&void 0!==r?r:""}),!!y&&(0,d.jsx)(c.xu,{padding:2,position:"absolute",bottom:!0,left:!0,display:"flex",children:(0,d.jsx)(l.Z,{duration:y})}),(0,d.jsx)(c.xu,{position:"absolute",top:!0,bottom:!0,left:!0,right:!0,opacity:.4,dangerouslySetInlineStyle:u.overlay}),(0,d.jsxs)(c.xu,{position:"absolute",top:!0,left:!0,padding:5,width:"100%",children:[(0,d.jsx)(c.X6,{color:"light",overflow:"normal",size:"400",children:E.title}),(0,d.jsx)(c.xu,{marginTop:4,children:(0,d.jsx)(c.xv,{color:"light",size:"200",overflow:"normal",children:E.subtitle})})]})]}),(0,d.jsx)(c.xu,{display:"flex",alignItems:"start",justifyContent:"between",marginTop:1,paddingX:1,children:(0,d.jsx)(c.xu,{flex:"grow",children:p&&(0,d.jsx)(c.xu,{paddingY:1,children:(0,d.jsx)(c.xv,{inline:!0,size:"200",weight:"bold",children:p})})})})]})})})}var p=i(623568),h=i(802201),m=i(276775),E=i(813401),g=i(217705),f=i(35495);function y({trackingParams:e,objectIdStr:t,impressionData:i,auxData:a,componentType:l,slotIndex:c,viewData:u,viewParameter:y,viewType:v,pin:I,pinId:T,...P}){var S,b,A,R;const x=(0,m.TH)(),O=(0,h.S6)(),C=(T?O(T):null)||I,w=!(null===(S=C.story_pin_data)||void 0===S||!S.is_deleted),N=e||(0,r.Z)(C,x),D=(0,s.Z)(C),L=!!(D&&D.url&&D.height&&D.width)||void 0,k=D&&C.videos?C.videos.id:void 0,[M,j]=(0,n.useState)(!1),U=(0,n.useCallback)((()=>j(!w)),[w]),F=(0,n.useCallback)((()=>j(!1)),[]),B=(0,E.yz)();return(0,d.jsx)(o.Z,{componentType:l,contextLogData:{pwa_type:B,...a,...(0,f.Kl)(C,a)},impressionAuxFields:{...i||{},isNativeVideoAndWatchable:L,videoIdStr:k,clientTrackingParams:N||`${C.tracking_params||""}-0`,imageURL:null!==(b=null===(A=C.images)||void 0===A||null===(R=A["236x"])||void 0===R?void 0:R.url)&&void 0!==b?b:"",richTypes:(0,f.GT)(C)},impressionType:"Pin",isPaused:!M,loggingId:C.id,slotIndex:c,objectIdStr:t,viewData:u,viewParameter:y,viewType:v,children:(0,p._J)(C)?(0,d.jsx)(_,{pin:C}):(0,d.jsx)(g.Z,{...P,debugImpressionState:M?"started":"paused",onError:F,onLoad:U,pin:C,pinId:T,trackingParameters:{componentType:l,contextLogData:a,slotIndex:c,viewParameter:y,viewType:v}})})}},104389:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(854035),o=i(869503),r=i(67828),s=i(883119),a=i(785893);const l=({count:e,countFormat:t,ratingValue:i,shippingInfo:l,highlightLabel:c})=>(0,a.jsxs)(s.xu,{display:"flex",direction:"column",marginTop:1,children:[(0,a.jsx)(n.Z,{count:e,countFormat:t,rating:i,textSize:"200"}),(0,a.jsx)(s.xu,{marginTop:(0,r.Z)({count:e,rating:i})?1:0,children:(0,a.jsx)(o.ZP,{customStyles:{color:c?"shopping":"subtle",size:"200"},freeShippingPrice:null==l?void 0:l.free_shipping_price,freeShippingValue:null==l?void 0:l.free_shipping_value})})]}),c=({count:e,countFormat:t,ratingValue:i,shippingInfo:l,condition:c,highlightLabel:d})=>(0,a.jsxs)(s.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{rowGap:8}},display:"flex",marginTop:2,wrap:!0,children:[(0,a.jsx)(n.Z,{count:e,countFormat:t,rating:i,textSize:"300"}),(0,a.jsx)(o.ZP,{condition:c,customStyles:{color:d?"shopping":"default",size:"300"},showPrevDot:(0,r.Z)({count:e,rating:i}),freeShippingPrice:null==l?void 0:l.free_shipping_price,freeShippingValue:null==l?void 0:l.free_shipping_value})]});function d(e){return e.isGridView?(0,a.jsx)(l,{...e}):(0,a.jsx)(c,{...e})}},807592:(e,t,i)=>{function n(e){const{max_price:t,min_price:i,price:n}=e;return t&&i?`${i}-${t}`:n}i.d(t,{Z:()=>n})},983360:(e,t,i)=>{i.d(t,{$o:()=>c,$t:()=>D,AO:()=>oe,AZ:()=>v,Ae:()=>O,BM:()=>E,CB:()=>ue,CD:()=>I,DC:()=>A,Df:()=>P,E0:()=>r,F5:()=>a,Fi:()=>f,Fl:()=>m,GG:()=>Q,HQ:()=>H,IY:()=>se,JG:()=>Y,K0:()=>l,Kp:()=>re,L6:()=>o,LB:()=>L,Ly:()=>z,MA:()=>G,MU:()=>n,NE:()=>pe,OO:()=>X,Pz:()=>q,Qj:()=>te,ST:()=>he,Th:()=>K,U1:()=>F,UD:()=>fe,Wn:()=>me,XA:()=>ae,YZ:()=>_,Yn:()=>T,ZX:()=>N,a9:()=>b,aj:()=>V,b6:()=>p,c7:()=>S,cZ:()=>U,cs:()=>k,dF:()=>w,dO:()=>ce,eI:()=>B,eP:()=>ee,fz:()=>u,hC:()=>ve,hl:()=>R,il:()=>ye,j_:()=>Ee,l_:()=>d,le:()=>W,lj:()=>ge,mU:()=>de,nk:()=>g,o3:()=>ne,pM:()=>j,pV:()=>$,pd:()=>_e,q:()=>J,tg:()=>M,u2:()=>h,uC:()=>s,vH:()=>Z,vW:()=>le,wc:()=>y,xV:()=>x,xl:()=>C,zB:()=>ie});const n="APPEND_FEED_ITEMS",o="DISMISS_UNAUTH_APP_UPSELL",r="USER_SETTING_CHANGE",s="USER_PARTNER_SETTING_CHANGE",a="SETTINGS_CHANGE",l="TOPIC_FOLLOW",c="PIN_ADD",d="PIN_DELETE",u="PIN_EDIT",_="PIN_UNDO_SAVE",p="PIN_IMPRESSIONS",h="PINS_MOVE",m="PINS_MOVE_ALL",E="SET_SESSION_DATA",g="BOARD_SECTION_EDIT",f="BOARD_COLLABORATOR_DELETE",y="BOARD_COLLABORATOR_ADD",v="BOARD_INVITE_APPROVED_BY_VIEWER",I="BOARD_INVITE_DENIED_BY_VIEWER",T="BOARD_SECTION_DELETE",P="AUTHENTICATE_USER",S="REGISTER_USER",b="SET_LOGIN_SIGNUP_FROM",A="UPDATE_CURRENT_SEARCH",R="UPDATE_RECENT_SEARCHES",x="CLEAR_RECENT_SEARCH",O="CLEAR_RECENT_PERSONAL_SEARCH",C="CLEAR_RECENT_SEARCHES",w="CLEAR_RECENT_PERSONAL_SEARCHES",N="COMPLETE_STORY",D="SET_NUM_SIGNUP_STEPS",L="SET_OWN_PROFILE_PINS_REFRESH",k="SHOW_REPIN_ANIMATION",M="HIDE_REPIN_ANIMATION",j="SEND_CONVERSATION_MESSAGE",U="ONE_TAP_SAVE",F="ONE_TAP_UNSAVE",B="CLEAR_MESSAGES_BADGE",G="CLEAR_MESSAGE_BADGE",z="RELOAD_VISUAL_SEARCH_ANNOTATIONS",V="SHOW_NUX_HOMEFEED_LOADER",H="SHOW_BIZ_NUX_HOMEFEED_LOADER",Z="SET_VIEWED_IMAGE",W="SET_VIEWED_SHARED_PINS",$="SHOW_NAV_FOOTER",Y="HIDE_NAV_FOOTER",K="SET_MESSENGER_CAMPAIGN_DATA",q="LOGGED_OUT_USER_INFO_FOUND",X="LOGGED_OUT_USER_INFO_NOT_FOUND",J="PIN_BUILDER_LOADED_IMAGES",Q="UPDATE_PIN_BUILDER_INPUT",ee="USER_BULK_FOLLOW",te="SET_ACTIVE_HOMEFEED_TAB",ie="SET_MARKETING_PARAMS",ne="SET_SOCIAL_SEASONAL_BOARD",oe="SET_SHARE_ON_BOARD_PAGE",re="UPDATE_PIN_REACTION_COUNT",se="SET_FLASHLIGHT_CROP_SOURCE",ae="ALLOW_ALL_COOKIES",le="SCROLL_TO_CLOSEUP_PIN",ce="STOP_SCROLL_TO_CLOSEUP_PIN",de="UPDATE_CONTACT_REQUEST_STATUS",ue="REMOVE_CONTACT_REQUESTS",_e="SHOW_TOAST_CONTACT_REQUEST_UNDO",pe="SHOW_BLOCK_UNBLOCK_MODAL_CONTACT_REQUEST",he="REMOVE_CONVERSATION",me="DISMISS_UNAUTH_SAVE",Ee="SET_UNAUTH_SAVE_PIN_ID",ge="COMPLETE_UNAUTH_SAVE_ACTION",fe="UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",ye="SET_LANDING_PAGE_TYPE",ve="REPLACE_STATE"},841478:(e,t,i)=>{i.d(t,{A6:()=>l,BS:()=>s,EC:()=>o,_5:()=>a,m9:()=>r,z9:()=>n});const n=800,o=508,r=424,s=278,a=640,l=508},35495:(e,t,i)=>{i.d(t,{GT:()=>m,Gy:()=>l,Kl:()=>f,QY:()=>h,RR:()=>d,SP:()=>_,Sn:()=>g,Uz:()=>p,Zs:()=>E,i8:()=>c,nn:()=>a,qN:()=>u});var n=i(227361),o=i.n(n),r=i(834911),s=i(229428);const a=e=>!!e&&(e.shopping_flags||[]).includes(2),l=e=>{var t,i;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null!==(t=null===(i=e.rich_metadata)||void 0===i?void 0:i.products)&&void 0!==t?t:[]).length>0},c=e=>{var t;return null===(t=e.aggregated_pin_data)||void 0===t?void 0:t.is_shop_the_look},d=e=>{var t,i;return null===(t=e.rich_summary)||void 0===t||null===(i=t.aggregate_rating)||void 0===i?void 0:i.rating_value},u=e=>e.is_oos_product,_=e=>e.is_stale_product,p=e=>u(e)||_(e),h=e=>{const t=o()(e,"link_domain.official_user.full_name");if(t)return t;const i=o()(e,"rich_summary.site_name");if(i)return i;if(e.domain){if("Uploaded by user"===e.domain){return((e.is_repin?e.origin_pinner:e.pinner)||{}).full_name}return e.domain}const n=o()(e,"via_pinner.full_name");return e.is_repin&&n?n:void 0},m=e=>{if(e){const t=e.shopping_flags||[];return!t.includes(10)&&e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0]&&e.product_pin_data.items[0].additional_images&&t.push(10),t}return[]};function E(e,t={}){var i,n,o,a,l,c;const d=m(e),u={...t.commerce_data};d.includes(2)&&(u.pin_is_shop_the_look=!0),d.includes(1)&&(u.is_available=!0),d.includes(5)&&(u.is_product_pin_v2=!0),d.includes(6)&&(u.is_rich_product_pin=!0),d.includes(10)&&(u.is_organic_product_carousel=!0);if((!!e.visual_objects&&(0,s.k)(e.visual_objects)||[]).some((e=>!0===e.is_stela))&&(u.pin_is_stela=!0),e.is_eligible_for_pdp||e.is_ooo_product||e.is_stale_product){e.is_oos_product?u.pin_show_pdp_oos=!0:e.is_stale_product?u.pin_show_pdp_stale=!0:u.pin_show_pdp=!0;const t=(0,r.Z)({carouselData:e.carousel_data,images:e.images,richMetadata:null==e?void 0:e.rich_metadata,richSummary:null==e?void 0:e.rich_summary});var _;if(t)u.image_count=null===(_=t.carousel_slots)||void 0===_?void 0:_.length,u.image_index=t.index}null!=e&&null!==(i=e.rich_summary)&&void 0!==i&&null!==(n=i.products)&&void 0!==n&&null!==(o=n[0])&&void 0!==o&&o.item_id&&(u.item_id=e.rich_summary.products[0].item_id),null!=e&&null!==(a=e.rich_summary)&&void 0!==a&&null!==(l=a.products)&&void 0!==l&&null!==(c=l[0])&&void 0!==c&&c.item_set_id&&(u.item_set_id=e.rich_summary.products[0].item_set_id);const p=e.aggregated_pin_data||{};return null!=p&&p.is_shop_the_look&&(u.pin_is_shop_the_look=!0),e.story_pin_data&&(u.story_pin_id=e.story_pin_data.id),u}function g(e){const t=JSON.stringify(e);return"{}"!==t?{commerce_data:t}:null}const f=(e,t={})=>{if(e){return g(E(e,t))}return null}},699825:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(667294),o=i(802933),r=i(102500),s=i(692627),a=i(47170),l=i(35495),c=i(623568),d=i(407043),u=i(785893);function _({children:e,hovered:t,pin:i,slotIndex:_,trafficSource:p,viewType:h}){const{logContextEvent:m}=(0,d.v)(),[E,g]=(0,n.useState)(),[f,y]=(0,n.useState)(),{id:v,tracked_link:I,link:T}=i,P=I||T||"",S=()=>{g(!0)},b=(0,a.Z)(i),A=(0,s.Z)((0,o.Z)({pin:i})),R=(0,n.useCallback)((()=>{((e,t,i)=>{const n={check_only:i,pin_id:e.id,url:t,client_tracking_params:b,aux_data:JSON.stringify({clickthrough_type:"rightClick",objectId:v,..._||{},...(0,l.Kl)(e)||{}})};return(0,r.Z)(n)})(i,P,!1).callGet({showError:!1}).then((e=>{e&&(m({event_type:12,object_id_str:v,view_type:h,view_parameter:A,aux_data:{clickthrough_type:"rightClick",..._||{},...(0,l.Kl)(i)||{}}}),m({event_type:8948,view_type:h,object_id_str:v,view_parameter:A,aux_data:{click_type:"clickthrough",closeup_navigation_type:p&&(0,c.sV)(p)?"deeplink":"click",clickthrough_type:"rightClick",..._||{},...(0,l.Kl)(i)||{}}}))}))})),x=e=>{var t;E&&(/^\/pin/.test(null===(t=e.target.activeElement.attributes.href)||void 0===t?void 0:t.value)||(R(),g(!1)),window.removeEventListener(f,x,!1))};return(0,n.useEffect)((()=>{var e,t,i,n,o,r;void 0!==(null===(e=window)||void 0===e||null===(t=e.document)||void 0===t?void 0:t.hidden)?y("visibilitychange"):void 0!==(null===(i=window)||void 0===i||null===(n=i.document)||void 0===n?void 0:n.msHidden)?y("msvisibilitychange"):void 0!==(null===(o=window)||void 0===o||null===(r=o.document)||void 0===r?void 0:r.webkitHidden)&&y("webkitvisibilitychange")}),[]),(0,n.useEffect)((()=>(E&&window&&window.addEventListener(f,x,!1),()=>window.removeEventListener(f,x))),[E,f]),(0,n.useEffect)((()=>(t&&window.addEventListener("contextmenu",S),()=>{window.removeEventListener("contextmenu",S)})),[t]),(0,u.jsx)(n.Fragment,{children:e})}},509860:(e,t,i)=>{i.r(t),i.d(t,{default:()=>c});var n=i(567831),o=i(794230),r=i(107193),s=i(704115),a=i(6637);const l={open(e){var t;const i=(c=e,l._validParams.reduce(((e,t)=>(c&&Object.prototype.hasOwnProperty.call(c,t)&&(e[t]=c[t]),e)),{}));var c;const d=l._getDialogType(e),u=l.generateFbRef(null!==(t=e.unauthId)&&void 0!==t?t:""),_=e.object_type&&e.object_id&&"feed"===d;let p=(0,n.Z)(e.path);const h=(0,s.Z)();if(h.ptrf&&(p=(0,o.Z)(p,{ptrf:h.ptrf})),_&&(p=(0,o.Z)(p,{fb_ref:u})),i.method=d,"feed"===i.method){const t=l.getWindowOptions(e.width||580,e.height||400);let n="http://www.facebook.com/sharer/sharer.php?u="+p;i.picture&&(n+="&picture="+i.picture),i.name&&(n+="&title="+i.name),i.description&&(n+="&description="+i.description),i.caption&&(n+="&caption="+i.caption),window.open(encodeURI(n),"sharer",t)}else"send"===i.method?i.link=p:"share"===i.method&&(i.href=p),(0,r.default)((t=>{t.getLoginStatus((()=>{if("send"===i.method){t.ui(i);let n,o=10;const r=setInterval((()=>{n=function(){if(!document)return;const e=Array.from(document.querySelectorAll(".fb_dialog_iframe iframe"));if(!e.length)return;if(1===e.length)return e[0];const t=e.splice(0,e.length-1);for(let i=0;i<t.length;i+=1){const e=t[i].parentNode;e&&e.removeChild(t[i])}return e[0]}(),!n&&o||(clearInterval(r),n&&l.executeMessengerCallback(n,e.callback)),o-=1}),1e3)}else"share"===i.method&&t.ui(i,(t=>{_&&t&&!t.error_message&&a.Z.create("LogFacebookFeedShare",{object_type:e.object_type,object_id:e.object_id,fb_ref:u}).callCreate({showError:!1}),e.callback&&e.callback(t)}))}))}),e.viewer)},_validParams:["description","name","picture","to","href","caption","display"],_validOptions:["send","feed","share"],executeMessengerCallback(e,t){let i=10;const n=setInterval((()=>{"0px"!==e.style.width&&i||(clearInterval(n),e.style.width="575px"),i-=1}),1e3);t&&t()},generateFbRef(e){let t="";for(;t.length<20;)t+=Math.floor(65535*Math.random()).toString(16);return e+":"+t},_getDialogType:e=>l._validOptions.includes(e.type)?e.type:"feed",getWindowOptions(e,t){const i=e||580,n=t||400,o=window.screen.width,r=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+i+",height="+n+",left="+Math.round((o-i)/2)+",top="+(r>n?Math.round((r-n)/2):0)}},c=l},558068:(e,t,i)=>{i.d(t,{Hv:()=>l,aX:()=>u,nK:()=>_});var n=i(667294),o=i(425288),r=i(276775),s=i(785893);const{Provider:a,useHook:l}=(0,o.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function d(e,t){var i;const n={action:t.type,location:t.location,match:t.match};if(t.location===(null===(i=e.current)||void 0===i?void 0:i.location))return e;switch(t.type){case"POP":return e.forward.length>0&&c(e.forward[0].location)===c(n.location)?{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:t.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous}:{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:t.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:n,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:n};default:return e}}function u(){const{current:e,previous:t}=l();return(0,n.useMemo)((()=>e?t.concat(e):t),[e,t])}function _({children:e}){const t=(0,r.k6)(),i=(0,r.TH)(),o=(0,r.$B)(),l={forward:[],current:{action:t.action,location:i,match:o},previous:[]},[c,u]=(0,n.useReducer)(d,l);return(0,n.useEffect)((()=>{const{action:e}=t;u({type:e,location:i,match:o})}),[i]),(0,s.jsx)(a,{value:c,children:e})}},391254:(e,t,i)=>{i.d(t,{Z:()=>r});i(441143);var n=i(785893);class o{static factory(e){return e instanceof o?e:new o(String(e))}constructor(e){this._private_safe_value=e.trim().replace(">",">").replace("<","<").replace("&","&").replace('"','"').replace("'","'")}toString(){return this._private_safe_value}}function r(e){const{css:t,unsafeCSS:i,...r}=e,s=String(t||"")||i||"";return!!s?(0,n.jsx)("style",{...r,dangerouslySetInnerHTML:{__html:String(o.factory(s))}}):null}},241244:(e,t,i)=>{i.d(t,{N:()=>s,Z:()=>r});var n=i(883119),o=i(785893);function r({children:e,fullWidth:t}){return(0,o.jsx)(n.xu,{"data-test-id":"pointer-events-wrapper",dangerouslySetInlineStyle:{__style:{pointerEvents:"auto",width:t?"100%":void 0}},children:e})}function s({children:e,enabled:t}){return t?(0,o.jsx)(r,{children:e}):e}},310227:(e,t,i)=>{i.d(t,{Dv:()=>r,Ml:()=>s,Oc:()=>n,mv:()=>o});const n=16,o=4,r={SAVED:"rgba(0, 0, 0, 0.33)",VISUAL:"rgba(0, 0, 0, 0.1)",LEGO_WASH:"rgba(0, 0, 0, 0.4)"},s=120},580744:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(509860),o=i(567831),r=i(794230);function s(e,t,i){const n=function(e,t){const i=window.screen.width,n=window.screen.height;return"scrollbars=yes,resizable=yes,toolbar=no,location=yes,width="+e+",height="+t+",left="+Math.round((i-e)/2)+",top="+(n>t?Math.round((n-t)/2):0)}(t,i);window.open(e,void 0,n)}const a={DIALOG_WIDTH:510,DIALOG_HEIGHT:525,openDialog(e){s(a._getWindowUrl(e.share_path,e.share_text),a.DIALOG_WIDTH,a.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://social-plugins.line.me/lineit/share",{url:e?(0,o.Z)(e):void 0,text:t})},l=a;var c=i(6637);const d={DIALOG_WIDTH:550,DIALOG_HEIGHT:420,openDialog(e){s(d._getWindowUrl(e.tweet_path,e.tweet_text),d.DIALOG_WIDTH,d.DIALOG_HEIGHT)},_getWindowUrl:(e,t)=>(0,r.Z)("https://twitter.com/intent/tweet",{via:"pinterest",url:e?(0,o.Z)(e):void 0,text:t||void 0})},u=d,_={ObjectTypeToInviteObject:{pin:1,board:2,pinner:3,article:5,did_it:6,today_article:8,search:0},_convertToInviteObject(e){return this.ObjectTypeToInviteObject[e]||0},_logShareInvite(e,t){const i=this._convertToInviteObject(e.object_type),n=e.invite_channel,o=null==e.invite_category?3:e.invite_category,r=e.object_id;return c.Z.create("SentExternalInviteCallbackResource",{invite_type:{invite_category:o,invite_object:i,invite_channel:n},invite_code:t,object_id:r}).callCreate()},createAndLogShareInvite:e=>_.createShareInviteData(e).then((t=>(_._logShareInvite(e,t.invite_code),Promise.resolve(t))),(e=>Promise.reject(e))),createShareInviteData(e){const t=this._convertToInviteObject(e.object_type),i=e.invite_channel,n=null==e.invite_category?3:e.invite_category,o=e.orbac_subject_id;if(10===n&&e.path){return c.Z.create("ShareLinkResource",{invite_category:n,url:e.path}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}{const r=e.object_id;return c.Z.create("CreateExternalInviteResource",{invite_type:{invite_category:n,invite_object:t,invite_channel:i},object_id:r,...o?{orbac_subject_id:o}:{}}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e)))}},logShareInvite(e,t){t&&_._logShareInvite(e,t.invite_code)},shareFacebookInvite(e){const{options:t,unauthId:i,viewer:o}=e;return _.createShareInviteData(t).then((e=>{const r=e.invite_url,s=e.invite_code;if(r){const a={type:"share",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:r,picture:t.picture,callback(e){e&&!e.error_message&&_._logShareInvite(t,s)}};n.default.open({...a,display:"popup",unauthId:i,viewer:o})}return Promise.resolve(e)}),(e=>Promise.reject(e)))},shareTwitterInvite(e){const t=this._convertToInviteObject(e.object_type);return _.createShareInviteData(e).then((i=>{const n=i.invite_url,o=i.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),r.trim()||(r=`${i.title}\n`),n&&u.openDialog({tweet_path:n,tweet_text:r}),_._logShareInvite(e,o),Promise.resolve(i)}),(e=>Promise.reject(e)))},shareLineInvite(e){const t=this._convertToInviteObject(e.object_type);return _.createShareInviteData(e).then((i=>{const n=i.invite_url,o=i.invite_code;let r=e.description;return 6===t&&e.name&&(r=e.name),r.trim()||(r=`${i.title}\n`),n&&l.openDialog({share_path:n,share_text:r}),_._logShareInvite(e,o),Promise.resolve(i)}),(e=>Promise.reject(e)))},shareFbMessengerInvite(e){const{options:t,unauthId:i,viewer:o}=e;return _.createShareInviteData(t).then((e=>{const r=e.invite_url,s=e.invite_code;return r&&n.default.open({type:"send",object_type:t.object_type,object_id:t.object_id,name:t.name,caption:e.title,description:t.description,path:r,picture:t.picture,callback(e){e&&e.success&&_._logShareInvite(t,s)},unauthId:i,viewer:o}),Promise.resolve(e)}),(e=>Promise.reject(e)))}},p=_},941646:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),o=i(785893);function r(e){const{children:t,display:i,id:r}=e;return(0,o.jsx)(n.xu,{"data-test-id":r,display:i,children:t})}},619937:(e,t,i)=>{i.d(t,{$N:()=>T,GY:()=>f,MZ:()=>m,NR:()=>v,Vn:()=>y,fm:()=>n,kM:()=>r,q6:()=>o,qp:()=>g,uV:()=>I,vJ:()=>E});const n={DOWNLOAD_TEMPLATE:"DOWNLOAD_TEMPLATE",UPLOAD_TEMPLATE:"UPLOAD_TEMPLATE",HISTORY:"HISTORY",RESOURCES:"RESOURCES"},o={GENERAL:"GENERAL",CAMPAIGNS:"CAMPAIGNS",AD_GROUPS:"AD_GROUPS",ADS:"ADS",KEYWORDS:"KEYWORDS",PRODUCT_GROUPS:"PRODUCT_GROUPS",ERROR_CODES:"ERROR_CODES"},r={BILLING_HISTORY:"BILLING_HISTORY",BILLING_FORMS:"BILLING_FORMS",ORDER_LINES:"ORDER_LINES",PROMOTIONS:"PROMOTIONS",DOCUMENTS:"DOCUMENTS"},s="Shopify",a="WordPress",l="WooCommerce",c="Weebly",d="Tealium",u="Magento",_="Squarespace",p="Ecwid",h="Bigcommerce",m={GOOGLE_TAG_MANAGER:"Google Tag Manager",SHOPIFY:"Shopify",WOO_COMMERCE:"WooCommerce",WORDPRESS:"WordPress",SQUARESPACE:"Squarespace",WEEBLY:"Weebly",TEALIUM:"Tealium",MAGENTO:"Magento",ECWID:"Ecwid",BIG_COMMERCE:"BigCommerce"},E={["Google Tag Manager"]:m.GOOGLE_TAG_MANAGER,[s]:m.SHOPIFY,[l]:m.WOO_COMMERCE,[a]:m.WORDPRESS,[_]:m.SQUARESPACE,[c]:m.WEEBLY,[d]:m.TEALIUM,[u]:m.MAGENTO,[p]:m.ECWID,[h]:m.BIG_COMMERCE},g={PINTEREST_TAG:"PINTEREST_TAG",PINTEREST_TAG_EVENTS:"PINTEREST_TAG_EVENTS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",PINTEREST_TAG_HEALTH:"PINTEREST_TAG_HEALTH",CONVERSION_UPLOAD:"CONVERSION_UPLOAD",UPLOAD_HISTORY:"UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD:"PCA_UPLOAD",CONVERSIONS_API:"CONVERSIONS_API",CONVERSIONS_API_ACCESS_TOKEN:"CONVERSIONS_API_ACCESS_TOKEN"},f={PINTEREST_TAG_DASHBOARD:"PINTEREST_TAG_DASHBOARD",PINTEREST_TAG_LANDING:"PINTEREST_TAG_LANDING",PINTEREST_TAG_INSTRUCTIONS:"PINTEREST_TAG_INSTRUCTIONS",PINTEREST_TAG_HISTORY:"PINTEREST_TAG_HISTORY",CONVERSION_UPLOAD_LANDING:"CONVERSION_UPLOAD_LANDING",CONVERSION_UPLOAD_VALIDATION:"CONVERSION_UPLOAD_VALIDATION",CONVERSION_UPLOAD_HISTORY:"CONVERSION_UPLOAD_HISTORY",PCA_UPLOAD_HISTORY:"PCA_UPLOAD_HISTORY",PCA_UPLOAD_LANDING:"PCA_UPLOAD_LANDING",PCA_UPLOAD_VALIDATION:"PCA_UPLOAD_VALIDATION"},y={UNREAD:"UNREAD",READ:"READ",ACCEPTED:"ACCEPTED",REJECTED:"REJECTED",DISMISSED:"DISMISSED",INVALID:"INVALID",MUTED:"MUTED",SNOOZED:"SNOOZED",PMP_REPORTED:"PMP_REPORTED",EMAILED:"EMAILED",BULK_DOWNLOADED:"BULK_DOWNLOADED",FILTERED:"FILTERED",PUSHED:"PUSHED"},v={ATTRIBUTION_DESTINATION:"destination",ATTRIBUTION_EXPIRY:"expiry",ATTRIBUTION_SOURCE:"attributionsrc",ATTRIBUTION_SOURCE_EVENT_ID:"source_event_id"},I=604800,T={ATTRIBUTION_SOURCE_ID:"attributionsourceid",ATTRIBUTE_DESTINATION:"attributiondestination",ATTRIBUTE_ON:"attributeon"}},41233:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(221263),o=i(937330);function r({action:e,board:t,viewer:i}){var r;return(0,n.Z)(i,t)||(0,o.Z)({board:t,viewer:i})&&!(null===(r=t.collaborator_permissions)||void 0===r||!r.includes(e))}},221263:(e,t,i)=>{function n(e,t){const i=t&&t.owner&&t.owner.id;return e.isAuth&&i===e.id}i.d(t,{Z:()=>n})},937330:(e,t,i)=>{function n({board:e,viewer:t}){const{collaborated_by_me:i}=e;return Boolean(t.isAuth&&i)}i.d(t,{Z:()=>n})},4294:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(221263),o=i(937330);function r({board:e,viewer:t}){return(0,n.Z)(t,e)||(0,o.Z)({board:e,viewer:t})}},366284:(e,t,i)=>{i.d(t,{G6:()=>r,i7:()=>s,oi:()=>n,u$:()=>o,un:()=>l,vU:()=>a});const n=Object.freeze({OTHER:0,CHROME:1,SAFARI:2,IE:3,FIREFOX:4,OPERA:5,EDGE:6}),o=e=>{switch(!0){case e.includes("Chrome"):return n.CHROME;case e.includes("Safari"):return n.SAFARI;case e.includes("Firefox"):return n.FIREFOX;case e.includes("Opera"):return n.OPERA;case e.includes("IE"):return n.IE;case e.includes("Edge"):return n.EDGE;default:return n.OTHER}};function r(e){return o(e)===n.SAFARI}function s(e){return o(e)===n.CHROME}function a(e){return o(e)===n.FIREFOX}function l(e){return o(e)===n.EDGE}},56641:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(567831),o=i(867820);function r(e,t){if(t&&!(()=>{try{return window.localStorage.test=2,!1}catch(e){return!0}})()){const t=window.open(e,"_blank");return t&&(t.opener=null),t}{const t=(0,n.Z)(e);return setTimeout((()=>{(0,o.My)("setting_new_window_location")}),0),window.location.href=t,window}}},834911:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(835209),o=i(341732);function r({carouselData:e,images:t,richMetadata:i,richSummary:r,shouldUnifyImageSizes:s,additionalImages:a}){const l=(0,n.Z)({richPinData:i||r});return l&&a&&a.length>0?(0,o.Z)(null,a,e&&e.index,s,l.id):l&&l.additional_images&&l.additional_images.length>0?(0,o.Z)(t,l.additional_images,e&&e.index,s,l.id):e||void 0}},737022:(e,t,i)=>{function n(e){return e?e["564x"]&&e["564x"].url?e["564x"]:e["736x"]&&e["736x"].url?e["736x"]:e["474x"]&&e["474x"].url?e["474x"]:e["236x"]&&e["236x"].url?e["236x"]:null:null}i.d(t,{Z:()=>n})},687551:(e,t,i)=>{function n(e){return!!(e&&e.carousel_data&&e.carousel_data.id)}i.d(t,{Z:()=>n})},778841:(e,t,i)=>{function n(e){const t=e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]&&e.rich_metadata.products[0].additional_images;return!!(t&&t.length>0)}i.d(t,{Z:()=>n})},341732:(e,t,i)=>{i.d(t,{Z:()=>r});const n=["236x","474x","564x","736x"];function o(e){function t(e,{imageKey:t,height:i,width:n}){return e.images&&e.images[t]&&(e={...e,images:{...e.images,[t]:{...e.images[t],height:i,width:n}}}),e}const i=n.map((function(t){const i=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].height||1/0))),n=Math.min(...e.map((e=>e.images&&e.images[t]&&e.images[t].width||1/0)));return{imageKey:t,height:i,width:n}}));return e.map((e=>i.reduce(t,e)))}function r(e,t,i,n,r){const s=(null==t?void 0:t.map((({canonical_images:e,image_signature:t})=>({images:e||void 0,image_signature:t||void 0}))))||[],a=e?[{images:e},...s]:s;return{carousel_slots:n?o(a):a,index:i||0,id:r}}},768559:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(826067);const o=/\/today\/(article|best|trending)\/[\w-]+\/(\d+)/,r=/\/discover\/article\/[\w-]+\/(\d+)/,s=(e,t)=>t?e.substring(t.length).split("/")[0]:e,a=(e,t,i,a)=>{var l,c;if(!e)return"";let d="";const u=t.board&&t.board.url;switch(e){case"/":case"/homefeed/":return"UserHomefeedResource";case t.pinner&&`/${t.pinner.username}/pins/`:return"UserPinsResource";case t.pinner&&`/${t.pinner.username}/`:case/\/_activity\//.test(e)&&e:return"UserActivityPinsResource";case/\/_created\//.test(e)&&e:return t.story_pin_data_id?"UserStoryPinsFeedResource":"UserActivityPinsResource";case/\/_community\//.test(e)&&e:return"UserDiscoveredPinsResource";case/\/_shop\//.test(e)&&e:return"StoreFrontFeedResource";case/\/_saved\//.test(e)&&e:return"BoardlessPinsResource";case t.pinner&&`/${t.pinner.username}/_shopping_list/`:return"ShoppingListFeedResource";case/\/visual-search\//.test(e)&&e:return"VisualLiveSearchResource";case/\/pin\//.test(e)&&e:d="/pin/";const _=s(e,d);if(t.id!==_)return t.call_to_create_source_pin_id?`ApiResource_callToCreatePins_${_}`:`RelatedPinFeedResource_${_}`;break;case/\/search\//.test(e)&&e:if(i){return`SearchResource_${((0,n.mB)(i,{shouldDecode:!1}).q||"").toLowerCase()}`}if(a)return`SearchResource_${encodeURIComponent(a.q||"").toLowerCase()}`;break;case r.test(e)&&e:return`ExploreArticleResource_${(null===(l=e.match(r))||void 0===l?void 0:l[2])||"unknown"}`;case/\/discover\/article\//.test(e)&&e:d="/discover/article/";return`ExploreArticleResource_${s(e,d)}`;case/\/categories\//.test(e)&&e:d="/categories/";return`CategoryFeedResource_${s(e,d)}`;case/\/discover\/topics\//.test(e)&&e:return"CategoryFeedResource";case/\/news_hub\//.test(e)&&e:d="/news_hub/";return`NewsHubDetailsResource_${s(e,d)}`;case/\/_tools\/more-ideas\//.test(e)&&e:return"BoardContentRecommendationResource";case/\/topics\//.test(e)&&e:d="/topics/";return`TopicFeedResource_${s(e,d)}`;case t.pinner&&`/${t.pinner.username}/products/`:return"StoreFrontFeedResource";case/\/source\//.test(e)&&e:d="/source/";return`DomainFeedResource_${s(e,d)}`;case/\/explore\//.test(e)&&e:d="/explore/";return`SearchResource_${s(e,d)}`;case u:case!!u&&/\/more_ideas\//.test(e)&&e:return"BoardFeedResource";case u&&e.indexOf(u)>-1&&e:return"BoardSectionPinsResource";case/\/following\//.test(e)&&e:return"FollowingFeedResource";case/\/brand_catalog\//.test(e)&&e:return"BrandCatalogFeedResource";case o.test(e)&&e:return`TodayArticleFeedResource_${(null===(c=e.match(o))||void 0===c?void 0:c[2])||"unknown"}`;case/\/today\//.test(e):return"TodayTabResource";case/\story_feed\//.test(e)&&e:if(i){const{feed_type:e,request_params:t}=(0,n.mB)(i);return`StoryFeedResource_${e}_${t}`}break;case/\/your-shop\//.test(e)&&e:return"PersonalBoutiqueResource"}return""},l=(e,t,i)=>{if(!e||!e.tracking_params||!t)return;if(!e.tracking_params_map)return`${e.tracking_params}~0`;const{pathname:n,search:o,query:r}=t,s=a(n,e,o,r),l=e.tracking_params_map||{},c=Object.keys(l);let d;if((n||"").startsWith("/pin/")){const e=c.find((e=>"PinResource"!==e));d=e?l[e]:l.PinResource}else d=l[s];let u;if(!d&&i&&i.length){const t=(e=>{let t=null==e?void 0:e.pathname;return t?(t.match(/\/search\//)&&null!=e&&e.search&&(t+=e.search),t.toLowerCase()):""})(i[i.length-1].location);u=a(t,e,o,r),d=l[u]}return d||(d=`${e.tracking_params||""}~0`),d}},47170:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(768559),o=i(558068),r=i(276775);function s(e){const t=(0,r.TH)(),{previous:i}=(0,o.Hv)();return(0,n.Z)(e,t,i)}},827896:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(768559),o=i(802201),r=i(276775);function s(){const e=(0,o.S6)(),t=(0,r.TH)();return(i,o)=>{let r;const s=e(i);if(null!=o&&o.shouldTrackForPrevLocation){const e=(null==s?void 0:s.tracking_params_map)||{},t=Object.keys(e).find((e=>"PinResource"!==e));s&&(r=t?e[t]:e.PinResource)}else s&&(r=(0,n.Z)(s,t));return r}}},112690:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(407043);const o=()=>(0,n.v)().logContextEvent},81226:(e,t,i)=>{function n(e){const t=Math.round(e/1e3),i=t%60;return Math.floor(t/60)+":"+(i<10?"0":"")+i}i.d(t,{Z:()=>n})},966476:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(667294);const o=()=>{const[e,t]=(0,n.useState)(!1);return(0,n.useEffect)((()=>{t(!0)}),[]),e}},722767:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294),o=i(973935);function r(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class s extends n.Component{constructor(...e){super(...e),r(this,"observer",null),r(this,"handleVisibilityChanged",((e,t)=>{this.props.onVisibilityChange(e,t)}))}componentDidMount(){const e=o.findDOMNode(this);e instanceof HTMLElement&&(this.node=e),this.node&&(this.observer=new window.IntersectionObserver(this.handleVisibilityChanged,this.props.options),this.observer.observe(this.node))}componentWillUnmount(){this.observer&&(this.observer.unobserve(this.node),delete this.observer)}render(){return n.Children.only(this.props.children)}}const a=s},11363:(e,t,i)=>{i.d(t,{Bx:()=>o,N4:()=>s,is:()=>a,lt:()=>n,oM:()=>r});const n=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),o=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),r=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),s=({i18n:e,toFollow:t})=>t?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),a=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},946984:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(898781),o=i(11363),r=i(154391);const s=(e={shouldStopEventPropagation:!0})=>{const{loginForMore:t,viewer:i,limitedLoginModalSubheader:s}=(0,r.H)(),{shouldStopEventPropagation:a}=e,l="AUTH"===i.type,c=(0,n.ZP)();return l?e=>e:(e,i)=>e=>{let n=null;e&&(e.nativeEvent&&e.nativeEvent instanceof Event?n=e:e.event&&(n=e.event)),a&&n&&n.stopPropagation&&n.stopPropagation(),t&&t.setVisible(!0),s&&(i?s.setText(i):s.setText((0,o.lt)(c)))}}},124237:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(607187),o=i.n(n);const r={};r._showErrorCallback=r._showErrorCallback||null,r.setShowHtmlErrorCallback=function(e){r._showErrorCallback=e},r.showError=function(e,t,i){const n=o()(e);return r.showHtmlError(n,t,i)},r.showHtmlError=function(e,t,i){"function"==typeof r._showErrorCallback&&r._showErrorCallback(e,t,i)};const s=r},121093:(e,t,i)=>{i.d(t,{Z:()=>c});var n=i(667294),o=i(702664),r=i(332611),s=i(242923);function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class l extends n.Component{constructor(...e){super(...e),a(this,"state",{hasCompleted:[],hasDismissed:[]}),a(this,"view",(()=>{const{experience:e,isBackendExperience:t,targeting:i,viewExperience:n,viewExperienceObject:o}=this.props;e&&"viewed"!==e.status&&(t?(e.status="viewed",o(e)):i?n(e.placement_id,e.experience_id,i):n(e.placement_id,e.experience_id))})),a(this,"complete",(e=>{const{completeExperience:t,completeExperienceObject:i,experience:n,isBackendExperience:o,preventRemoval:r,targeting:s}=this.props,a=e||1;if(n&&!this.state.hasCompleted.includes(n.experience_id)){const{placement_id:e,experience_id:l}=n||{},c=r||2===a;(1===a||c)&&e&&l&&(o?i(n,c):s?t(e,l,c,s):t(e,l,c),this.setState((e=>({hasCompleted:[...e.hasCompleted,l]}))))}})),a(this,"dismiss",(()=>{const{dismissExperience:e,dismissExperienceObject:t,experience:i,isBackendExperience:n,preventRemoval:o,targeting:r}=this.props,{placement_id:s,experience_id:a}=i||{};i&&!this.state.hasDismissed.includes(a)&&(n?t(i):r?e(s,a,!!o,r):e(s,a,!!o),this.setState((e=>({hasDismissed:[...e.hasDismissed,a]}))))})),a(this,"shouldRenderExperience",(()=>{const{experience:e}=this.props;if(e){const{eligibleIds:t,eligibleTypes:i,predicate:n,transitionType:o}=this.props,{experience_id:r,type:s}=e;if(t&&t.includes(r))return!0;if(null==t||!t.length){if(n&&n(e))return!0;if(i&&i.includes(s))return!0;if(o&&o===s)return!0}}return!1}))}componentDidMount(){if(this.props.disableAutoView)return;const{experience:e}=this.props;e&&this.shouldRenderExperience()&&this.view()}componentDidUpdate(e){if(this.props.disableAutoView)return;const t=e.experience,i=this.props.experience;i&&this.shouldRenderExperience()&&(t&&t.experience_id===i.experience_id||this.view())}render(){const{children:e,experience:t,disableAutoView:i}=this.props;return t&&this.shouldRenderExperience()?"function"==typeof e?e({experience:t,complete:this.complete,dismiss:this.dismiss,...i?{view:this.view}:Object.freeze({})}):n.Children.only(e):null}}a(l,"defaultProps",{eligibleIds:[],eligibleTypes:[]});const c=(0,o.connect)((({experiences:e},t)=>({experience:t.experience||(t.placementId?e[t.placementId]:void 0)})),(e=>({completeExperience:(t,i,n,o)=>e((0,r.CK)(t,i,n,!1,{},o)),completeExperienceObject:(t,i)=>e((0,s.Tl)(t,i)),dismissExperience:(t,i,n,o)=>e((0,r.Qu)(t,i,n,void 0,o)),dismissExperienceObject:t=>e((0,s.CF)(t)),viewExperience:(t,i,n)=>e((0,r.UT)(t,i,!1,!1,void 0,n)),viewExperienceObject:t=>e((0,s.dy)(t))})))(l)},333312:(e,t,i)=>{i.r(t),i.d(t,{default:()=>u});var n=i(667294),o=i(121093),r=i(570470),s=i(883119),a=i(785893);function l(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class c extends n.PureComponent{constructor(...e){super(...e),l(this,"onScroll",(()=>{const{dismiss:e}=this.props;this.dismissed||this.timer||(this.timer=setTimeout((()=>{e(),this.dismissed=!0,this.timer=void 0}),3e3))})),l(this,"dismissed",!1)}componentDidMount(){window.addEventListener("scroll",this.onScroll)}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{anchor:e,text:t,thumbnails:i,idealDirection:n}=this.props,o=i.slice(-3);return(0,a.jsx)(s.J2,{anchor:e,color:"white",idealDirection:n,onDismiss:this.onScroll,shouldFocus:!1,size:"md",children:(0,a.jsxs)(s.xu,{display:"flex",alignContent:"center",justifyContent:"between",padding:3,width:"100%",children:[(0,a.jsx)(s.xu,{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",marginStart:-3,paddingX:3,children:(0,a.jsx)(s.xv,{color:"default",weight:"bold",children:t})}),(0,a.jsx)(s.xu,{display:"flex",marginEnd:-2,paddingX:2,children:o.map((e=>(0,a.jsx)(s.xu,{height:60,width:50,paddingX:1,children:(0,a.jsx)(s.zd,{rounding:2,height:60,children:(0,a.jsx)(s.Ee,{alt:"More Ideas Thumbnail",color:"rgb(86, 152, 239)",fit:"cover",naturalHeight:60,naturalWidth:60,src:e})})},e)))})]})})}}function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class u extends n.Component{constructor(...e){super(...e),d(this,"state",{paused:!1}),d(this,"handlePulsarClick",((e,t)=>{e?this.setState({paused:!0}):t()}))}componentWillUnmount(){clearTimeout(this.timer)}setDefaultPulsarTooltip(e){const t=e=>!(null==e);e.has_pulsar=!t(e.has_pulsar)||e.has_pulsar,e.has_tooltip=!t(e.has_tooltip)||e.has_tooltip}getText(e,t,i){return t&&e.text.replace("{boardName}",t),i?i(e):e.text}render(){const{anchor:e,customWrapper:t,experienceIds:i,boardTextOverride:l,flyoutSize:d,fontSize:u,hasFullWidthButton:_=!0,idealDirection:p,useMasonryFlyout:h,noClickToDismiss:m,onClickComplete:E,onClickDismiss:g,placementId:f,positionRelativeToAnchor:y,shouldTimeoutDismiss:v,showCaret:I,textAlign:T,textOverflow:P,textOverrideFn:S,textWeight:b,customizedComplete:A,pulsarZIndex:R}=this.props,x=t||(({children:e})=>h?(0,a.jsx)(s.mh,{children:e}):e),O="blue";return(0,a.jsx)(o.Z,{eligibleIds:i,placementId:f,eligibleTypes:[8],children:({complete:t,dismiss:i,experience:{display_data:o}})=>(this.setDefaultPulsarTooltip(o),o.has_pulsar||o.has_tooltip?(v&&o.disappearTime&&o.disappearTime>0&&(this.timer=setTimeout((()=>(i(),null)),o.disappearTime)),(0,a.jsxs)(n.Fragment,{children:[o.has_pulsar&&(0,a.jsx)(r.Z,{anchor:e,onTouch:()=>this.handlePulsarClick(o.has_tooltip,t),paused:this.state.paused,zIndex:R&&R.index()}),o.has_tooltip&&(!o.has_pulsar||this.state.paused)&&(o.thumbnail_urls?(0,a.jsx)(c,{anchor:e,dismiss:i,idealDirection:p||"down",text:o.text,thumbnails:o.thumbnail_urls}):(0,a.jsx)(x,{children:(0,a.jsx)(s.J2,{anchor:e,color:O,idealDirection:p||"down",onDismiss:m?()=>{}:i,positionRelativeToAnchor:!h&&y,shouldFocus:!1,showCaret:I,size:d,children:(0,a.jsxs)(s.xu,{column:12,padding:3,children:[(0,a.jsxs)(s.xv,{align:"right"===T?"end":T,color:"inverse",overflow:P,size:u,weight:b||"bold",children:[this.getText(o,l,S),o.secondary_cta_link&&(0,a.jsx)(s.xu,{display:"inlineBlock",marginStart:1,children:(0,a.jsx)(s.xv,{size:u,weight:"bold",color:"inverse",children:(0,a.jsx)(s.rU,{inline:!0,target:"blank",href:o.secondary_cta_link.url,underline:"hover",children:o.secondary_cta_link.text})})})]}),o.sub_text&&(0,a.jsx)(s.xu,{paddingY:2,children:(0,a.jsx)(s.xv,{color:"inverse",size:u,children:o.sub_text})}),(o.dismiss_button_text||o.complete_button_text)&&(0,a.jsxs)(s.xu,{display:"flex",alignItems:"center",marginTop:2,children:[o.dismiss_button_text&&(0,a.jsx)(s.xu,{marginEnd:1,column:6,children:(0,a.jsx)(s.zx,{fullWidth:_,color:O,onClick:()=>{g&&g(),i()},size:"md",text:o.dismiss_button_text})}),o.complete_button_text&&(0,a.jsx)(s.xu,{column:o.dismiss_button_text?6:12,children:A?(0,a.jsx)(s.iP,{fullHeight:!0,onTap:()=>{t(),E&&E()},rounding:2,children:(0,a.jsx)(s.xu,{display:"flex",color:"default",padding:2,rounding:2,justifyContent:"center",dangerouslySetInlineStyle:{__style:{padding:"10px"}},children:(0,a.jsx)(s.xv,{color:"shopping",weight:"bold",children:o.complete_button_text})})}):(0,a.jsx)(s.kC,{justifyContent:"center",children:(0,a.jsx)(s.zx,{fullWidth:_,color:"white",href:o.complete_button_cta_url,role:o.complete_button_cta_url?"link":"button",size:"md",target:o.complete_button_cta_url?"blank":null,text:o.complete_button_text,onClick:()=>{t(),E&&E()}})})})]})]})})}))]})):(t(),null))})}}d(u,"defaultProps",{fontSize:"300",positionRelativeToAnchor:!0})},332611:(e,t,i)=>{i.d(t,{CK:()=>_,N:()=>g,Qu:()=>p,UT:()=>u,YX:()=>E,d9:()=>h,fO:()=>l,kd:()=>m,pz:()=>c});var n=i(6637),o=i(764990),r=i(172071),s=i(957191);let a;const l=(e,t)=>i=>{const o=t?{extra_context:e,targeting:t}:{extra_context:e};return n.Z.create("UserExperiencePlatformResource",o).callGet().then((e=>e.resource_response?i((0,s.OD)(e.resource_response.data)):void 0))},c=(e,t,i,r)=>(l,c)=>{if(t)return Promise.resolve();if(r&&(a=r),1===e.length){const t=e[0],n=c().experiences[t],r=(null==n?void 0:n.extraContext)||null;if(JSON.stringify(r)===JSON.stringify(i)||(0,o.E3)(n)&&!(i&&Object.keys(i).length>0))return Promise.resolve()}return n.Z.create("UserExperienceResource",{placement_ids:e,extra_context:i||null,targeting:r}).callGet().then((e=>e.resource_response?l((0,s.cL)(e.resource_response.data)):void 0))},d=(e,t)=>(i,o,r,c=!1,d,u)=>(_,p)=>{const{experiences:h,experiencesMulti:m}=p();let E=null,g=!0;var f;c||(g=h[i]&&h[i].experience_id===o,E=g?h[i]:Array.isArray(m[i])&&(null===(f=m[i])||void 0===f?void 0:f.find((e=>e.experience_id===o))));if(E&&E.experience_id===o||c&&i&&o){const c=n.Z.create(e,{placed_experience_id:`${i}%3A${o}`,extra_context:null!=d?d:{},targeting:u}),p=g?s.Yb:s.xW;switch(t){case"dismissed":return c.callDelete().then((()=>{_(p(i,o,t)),_(l(void 0,a))}));case"completed":return c.callUpdate().then((()=>{r||(_(p(i,o,t)),_(l(void 0,a)))}));case"viewed":return _(p(i,o,t)),c.callUpdate().then((()=>{1000162===i&&_(l())}));case"completedWithoutHomefeed":return c.callUpdate().then((()=>{r||_(p(i,o,t))}));default:return Promise.resolve()}}return Promise.resolve()},u=d("UserExperienceViewedResource","viewed"),_=d("UserExperienceCompletedResource","completed"),p=d("UserExperienceResource","dismissed"),h=d("UserExperienceCompletedResource","completedWithoutHomefeed"),m=(e,t)=>(i,o)=>{const{experiences:s}=o(),a=s[e];a&&a.triggerable_placed_exps&&a.triggerable_placed_exps.length&&a.triggerable_placed_exps.forEach((i=>{const[,o]=i.split(":");let s=t;a.metadata&&a.metadata[o]&&(s=Object.assign({},t,a.metadata[o])),n.Z.create("UserExperienceTriggerResource",{placed_experience_id:i.replace(":","%3A"),extra_context:s}).callUpdate().then((()=>{((e,t,i={})=>{r.Z.increment(`${e}.${t}`,1,i)})("experienceservice","experimentTriggerCall.1",{placement_id:e,experience_id:o})}))}))},E=e=>(t,i)=>{t(m(e));const{experiences:n}=i();return n[e]},g=(e,t,i)=>n=>{i&&(a=i),n(m(e,t)),t&&Object.keys(t).length>0&&n(c([e],!1,t,i))}},242923:(e,t,i)=>{i.d(t,{CF:()=>a,Tl:()=>s,dy:()=>l});var n=i(6637),o=i(332611);const r=(e,t)=>(i,r)=>s=>{if(i&&i.id){const a=n.Z.create(e,{placed_experience_id:i.id,extra_context:{}});switch(t){case"dismissed":a.callDelete().then((()=>{s((0,o.fO)())}));break;case"completed":a.callUpdate().then((()=>{r||s((0,o.fO)())}));break;case"viewed":a.callUpdate()}}},s=r("UserExperienceCompletedResource","completed"),a=r("UserExperienceResource","dismissed"),l=r("UserExperienceViewedResource","viewed")},764990:(e,t,i)=>{function n(e){return!!e&&0!==e.type}i.d(t,{A0:()=>r,E3:()=>n,MQ:()=>o});const o=(e,t,i)=>{const o=e[i];return t[i]&&n(o)?o:null};function r(e){var t;return null===(t=e.display_data)||void 0===t?void 0:t.anchor}},207737:(e,t,i)=>{i.d(t,{$S:()=>n,V$:()=>o,_4:()=>s,iY:()=>a,mR:()=>r});const n="REFRESH_ALL_EXPERIENCES_MULTI",o="UPDATE_EXPERIENCE_MULTI",r="FETCH_EXPERIENCES",s="REFRESH_ALL_EXPERIENCES",a="UPDATE_EXPERIENCE"},957191:(e,t,i)=>{i.d(t,{NW:()=>s,OD:()=>l,Yb:()=>a,cL:()=>c,xW:()=>r});var n=i(6637),o=i(207737);const r=(e,t,i)=>({type:o.V$,payload:{placementId:e,experienceId:t,status:i}}),s=e=>t=>n.Z.create("UserExperiencePlatformResource",{extra_context:e,multiExperiencePlatform:!0}).callGet().then((e=>{return e.resource_response?t((i=e.resource_response.data,{type:o.$S,payload:{experiencesMulti:i}})):void 0;var i})),a=(e,t,i)=>({type:o.iY,payload:{placementId:e,experienceId:t,status:i}}),l=e=>({type:o._4,payload:{experiences:e}}),c=e=>({type:o.mR,payload:{experiences:e}})},570470:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294),o=i(883119),r=i(785893);function s({anchor:e,children:t,zIndex:i}){const s=(0,n.useRef)(null),[a,l]=(0,n.useState)(0),[c,d]=(0,n.useState)(0),{height:u,width:_}=e.getBoundingClientRect();return(0,n.useEffect)((()=>{const{current:t}=s;if(e&&t){const{height:e,width:i}=t.getBoundingClientRect(),{horizontalOffset:n,verticalOffset:o}=((e,t,i,n)=>({horizontalOffset:-(n/2-t/2),verticalOffset:-(i/2-e/2)}))(u,_,e,i);l(n),d(o)}})),(0,r.jsx)(o.xu,{position:"absolute",zIndex:i?new o.Ry(i):void 0,dangerouslySetInlineStyle:{__style:{left:a,top:c}},ref:s,children:t})}const a=function(e){const{anchor:t,onTouch:i,onMouseEnter:n,paused:a,size:l,zIndex:c}=e;return t?(0,r.jsx)(s,{anchor:t,zIndex:c,children:(0,r.jsx)(o.iP,{fullWidth:!1,onTap:({event:e})=>i(e),onMouseEnter:n,rounding:"circle",children:(0,r.jsx)(o.o3,{paused:a,size:l})})}):null}},116303:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(883119),o=i(785893);const r=(e,t)=>{const i=null==e?void 0:e.includes("images/user/default");return Boolean(i&&t)};function s({accessibilityLabel:e,name:t,outline:i,size:s,src:a,verified:l}){return(0,o.jsx)(n.qE,{accessibilityLabel:e,name:t,outline:i,size:s,src:r(a,t)?void 0:a,verified:l})}},499128:(e,t,i)=>{i.d(t,{UZ:()=>c,Vg:()=>l,ZP:()=>d});var n=i(667294),o=i(829407),r=i(50286),s=i(883119),a=i(785893);const l=200,c=({deviceType:e,hiding:t,visible:i})=>({marginTop:"desktop"===e?10:0,opacity:0,position:"relative",transform:"desktop"===e?"translateY(200px)":"translateY(-200px)",transition:"opacity 0.1s ease-in-out",visibility:"hidden",pointerEvents:"auto",...i?{opacity:1,transform:"translateY(0)",transition:"all 0.7s cubic-bezier(.19, 1.15, .48, 1)",visibility:"visible"}:{},...i&&t?{opacity:0,transform:"scale(1.1)",transition:"opacity transform 0.2s"}:{}});function d({button:e,dataTestId:t,duration:i=2e3,href:d,iconThumbnail:u,imageUrl:_,onClick:p,onHide:h,openNewPage:m,text:E,thumbnailShape:g="square",variant:f="default"}){const y=(0,r.ZP)(),[v,I]=(0,n.useState)(!1),[T,P]=(0,n.useState)(!1),S=(0,n.useRef)(),b=()=>{I(!0),S.current=setTimeout(h,l)},A=()=>{S.current&&clearTimeout(S.current)},R=()=>{S.current=setTimeout(b,i)};(0,o.Z)((()=>(setTimeout((()=>P(!0)),100),R(),A)));const x="string"==typeof E?E:`${E[0]} ${E[1]}`,O=_?(0,a.jsx)(s.xu,{height:48,overflow:"hidden",width:48,children:(0,a.jsx)(s.Ee,{alt:x,fit:"cover",naturalHeight:1,naturalWidth:1,src:_})}):void 0,C=(0,a.jsx)(s.FN,{button:e,text:E,thumbnail:null!=u?u:O,thumbnailShape:g,variant:f});return(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{...c({deviceType:y,hiding:v,visible:T})}},"data-test-id":null!=t?t:"toast",onMouseEnter:A,onMouseLeave:R,children:d?(0,a.jsx)(s.iP,{role:"link",href:d,onTap:({event:e})=>null==p?void 0:p(e),target:m?"blank":null,rounding:"pill",children:C}):C})}},572752:(e,t,i)=>{function n(e){return`${e.userAgent.isMobile?"mobile":"desktop"}.${e.country}.${e.userAgent.platform}.${e.userAgent.browserName}`.replace(/ /g,"_")}i.d(t,{Z:()=>n})},694379:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(892819),o=i(780280),r=i(785893);const s=({currency:e,maximumFractionDigits:t,minimumFractionDigits:i,shortform:s,shortformMaximumFractionDigits:a,formatStyle:l,uplimit:c,value:d})=>{const u=(0,n.Z)();return(0,r.jsx)(o.LC,{children:n=>u(n.locale||"en-US",d,{currency:e,maximum_fraction_digits:t,minimum_fraction_digits:i,shortform:s,shortform_maximum_fraction_digits:a,style:l,uplimit:c})})}},892819:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(66699),o=i(898781);const r=(e,t)=>{const i=t||0,n=10**i,o=+(i?e*n:e).toFixed(8),r=Math.floor(o),s=o-r,a=s>.5-1e-8&&s<.5+1e-8?r%2==0?r:r+1:Math.round(o);return i?a/n:a},s=e=>{try{(0).toLocaleString([e])}catch(t){return!1}return!0};function a(){const e=(0,o.ZP)();return(t,i,o)=>{let a=0,l=0;const c=o&&o.style||void 0,d=o&&o.shortform||!1,u=o&&o.uplimit||void 0,_=o&&o.currency||void 0,p=!!u&&i>=u,h=u&&p?u:i;if("currency"===c){const{minimumFractionDigits:e,maximumFractionDigits:i}=((e,t)=>{if(t){const{minimumFractionDigits:i,maximumFractionDigits:n}=new Intl.NumberFormat(e,{style:"currency",currency:t}).resolvedOptions();if(void 0!==i&&void 0!==n)return{minimumFractionDigits:i,maximumFractionDigits:n}}return{minimumFractionDigits:2,maximumFractionDigits:2}})(t,_);a=void 0===o||void 0===o.maximum_fraction_digits?i:o.maximum_fraction_digits,l=void 0===o||void 0===o.minimum_fraction_digits?e:o.minimum_fraction_digits}else a=void 0===o||void 0===o.maximum_fraction_digits?0:o.maximum_fraction_digits,l=void 0===o||void 0===o.minimum_fraction_digits?0:o.minimum_fraction_digits;if(d&&h>999&&(a=void 0===o||void 0===o.shortform_maximum_fraction_digits?2:o.shortform_maximum_fraction_digits,l=0),a<l)return String(h);let m=h,E="";const g=[{"100M":{value:1e8,localeKey:e._('', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for one hundred millions. This abbreviation is only used in Chinese, Japanese and Korean.')}},{"10k":{value:1e4,localeKey:e._('', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.', 'Abbreviation for ten thousand. This abbreviation is only used in Chinese, Japanese and Korean.')}}],f=[{b:{value:1e9,localeKey:e._('B', 'Abbreviation for one billion.', 'Abbreviation for one billion.')}},{m:{value:1e6,localeKey:e._('M', 'Abbreviation for one million.', 'Abbreviation for one million.')}},{k:{value:1e3,localeKey:e._('k', 'Abbreviation for one thousand.', 'Abbreviation for one thousand.')}}],y=/^zh|ja|ko/.test(t);if(d&&h>999){const e=y?g:f;for(let t=0;t<e.length;t+=1){const i=Object.keys(e[t])[0],n=e[t][i].value;if(h>=n){m=r(h/n*Math.pow(10,a))/Math.pow(10,a),E=e[t][i].localeKey;break}}}if(null==m)return"";const v=m.toLocaleString([s(t)&&"ar-SA"!==t?t:"en-US"],(({maximumFractionDigits:e,minimumFractionDigits:t,style:i,currency:n})=>{const o={maximumFractionDigits:e,minimumFractionDigits:t};return i?{...o,style:i,..."currency"===i?{currency:n,currencyDisplay:"symbol"}:{}}:o})({maximumFractionDigits:a,minimumFractionDigits:l,currency:_,style:c}));return E&&E.length>0?(0,n.Z)(e._('{{formattedNumber}}{{numberSuffix}}', 'i18n.usePrettyNumberFormat.prettyNumberFormat', 'String used to concatenate formatted number and localized number suffix'),{formattedNumber:v,numberSuffix:E})+(p?"+":""):v+(p?"+":"")}}},12610:(e,t,i)=>{function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z3:()=>_,LU:()=>p,ZP:()=>h});const o=1e6,r=window.location.search.includes("debug_impressions=1")||document.cookie&&document.cookie.indexOf("debug_impressions=1")>-1,s={paused:"Pause",resumed:"Resume",stopped:"Flush",enter:"Enter viewport",exit:"Exit viewport"},a={},l={background:"#FF8A8A",transform:"scale(.98)"},c={init:e=>({transform:`scale(${a[e]?.8:.99})`,transition:"transform .2s ease-in-out",background:"#8E8E8E"}),[s.enter]:{background:"#A0DCC8",transform:"scale(.99)"},[s.exit]:l,[s.stopped]:l,[s.paused]:l,[s.resumed]:{background:"#0FA573",transform:"scale(.99)"}};class d{constructor(e){n(this,"setMutationObserver",(e=>(this.mutationObserver=e,this))),n(this,"startMutationObserver",(e=>{this.mutationObserver&&this.mutationObserver.observe(this.node,e)})),n(this,"stopMutationObserver",(()=>{this.mutationObserver&&this.mutationObserver.disconnect()})),n(this,"handleIntersectionChange",(e=>{const t=e.intersectionRatio>0||e.isIntersecting;if(t&&!this.inViewport){const e=Date.now();this.startTime=e,this._debug(s.enter,{startTime:e,node:this.node}),this.enterCallbacks.forEach((e=>e()))}else!t&&this.inViewport&&(this._debug(s.exit,!0),this.exitCallbacks.forEach((e=>e(this.toJSON()))));this.inViewport=t})),this.enterCallbacks=[],this.exitCallbacks=[],this.inViewport=!1,this.node=e,this.startTime=0,this.debugId=""}onEnterViewport(e){return this.enterCallbacks.push(e),this}onExitViewport(e){return this.exitCallbacks.push(e),this}setDebugId(e){return this.debugId=e,r&&Object.assign(this.node.style,c.init(e)),this}pause(){return this.inViewport&&(this._debug(s.paused,!0),this.exitCallbacks.forEach((e=>e(this.toJSON())))),this}resume(){if(this.inViewport){const e=Date.now();this._debug(s.resumed,{startTime:e}),this.startTime=e}return this}stop(e){return this.inViewport&&(this._debug(s.stopped,!0),this.exitCallbacks.forEach((t=>t(this.toJSON(e))))),this}toJSON(e=""){return{startTime:this.startTime*o,endTime:Date.now()*o,forcedExit:e}}toDebugJSON(){return{pinID:this.debugId,startTime:this.startTime,endTime:Date.now(),duration:(Date.now()-this.startTime)/1e3+" seconds"}}_debug(e,t){if(r)switch(window.console.log(` ${e} -- ${this.debugId}`),!0===t&&window.console.log(this.toDebugJSON()),"object"==typeof t&&window.console.log(t),c[e]&&Object.assign(this.node.style,c[e]),e){case s.flushed:case s.paused:case s.exit:a[this.debugId]=!0}}}function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const _=!0,p=!1;class h{constructor(){u(this,"_delegateChange",(e=>{e.forEach((e=>{const t=this.activeImpressions.get(e.target);t&&t.handleIntersectionChange(e)}))})),u(this,"_handleMutations",((e,t)=>{const i=this.mutationObservers.get(t);i&&i.offsetHeight<1&&i&&this.stop(i,"removed")})),this.activeImpressions=new Map,this.mutationObservers=new Map,this.bottomHeight=0,this.bottomObstructions=new Set,this.pausePriority=p,this.observer=new window.IntersectionObserver(this._delegateChange),this.paused=!1,this.topHeight=0,this.topObstructions=new Set,this.inExperiment=!1}setExperimentStatus(e){this.inExperiment!==e&&(this.inExperiment=e)}stop(e,t=""){const i=this.activeImpressions.get(e);i&&(i.stop(t),this.mutationObservers.delete(i.mutationObserver),i.stopMutationObserver(),this.activeImpressions.delete(e),this.observer.unobserve(e))}start(e){let t=this.activeImpressions.get(e);if(!t){t=new d(e),this.activeImpressions.set(e,t),this.observer.observe(e);const i=(e,t)=>this._handleMutations(e,t);t.setMutationObserver(new window.MutationObserver(i)),this.mutationObservers.set(t.mutationObserver,e),t.startMutationObserver({subtree:!0,attributes:!0,attributeFilter:["style"]})}return t}pause(e=_){this.paused||(Array.from(this.activeImpressions.values()).forEach((e=>e.pause())),this.paused=!0,this.pausePriority===p&&(this.pausePriority=e))}resume(e=_){e===p&&this.pausePriority===_||this.paused&&(Array.from(this.activeImpressions.values()).forEach((e=>e.resume())),this.paused=!1,this.pausePriority=p)}addObstruction(e,t){"top"===e?this.topObstructions.add(t):"bottom"===e&&this.bottomObstructions.add(t),this._calculateRootMargins()}removeObstruction(e,t){"top"===e?this.topObstructions.delete(t):"bottom"===e&&this.bottomObstructions.delete(t),this._calculateRootMargins()}updateObstructions(){this._calculateRootMargins()}_calculateRootMargins(){const e=Array.from(this.topObstructions).reduce(((e,t)=>{const{bottom:i}=t.getBoundingClientRect();return i>e?i:e}),0),t=window.innerHeight-Array.from(this.bottomObstructions).reduce(((e,t)=>{const{top:i}=t.getBoundingClientRect();return i<e?i:e}),window.innerHeight);if(e!==this.topHeight||t!==this.bottomHeight){const i={rootMargin:`${-e}px 0px ${-t}px`};this.observer.disconnect(),this.observer=new window.IntersectionObserver(this._delegateChange,i),Array.from(this.activeImpressions.values()).forEach((e=>this.observer.observe(e.node))),this.topHeight=e,this.bottomHeight=t}}}},564194:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(667294),o=i(973935),r=i(834911),s=i(124580),a=i(407043),l=i(802201),c=i(785893);function d(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const u={Article:{impressionType:"articleImpressions",idType:"articleIdStr",eventType:3829},Pin:{impressionType:"pinImpressions",idType:"pinIdStr",eventType:18},Board:{impressionType:"boardImpressions",idType:"boardIdStr",eventType:3700},BoardMoreIdeasRep:{impressionType:"boardMoreIdeasImpressions",idType:"boardIdStr",eventType:10054},Interest:{impressionType:"topicImpressions",idType:"topicIdStr",eventType:3703},Search:{impressionType:"searchImpressions",idType:"term",eventType:3803},Story:{impressionType:"storyImpressions",idType:"storyIdStr",eventType:170},ActivationCard:{impressionType:"activationCardImpressions",idType:"experienceIdStr",eventType:8547},User:{impressionType:"userImpressions",idType:"userIdStr",eventType:3704},News:{impressionType:"newsHubData",idType:"newsIdStr",eventType:4110},Guide:{impressionType:"guideImpressions",idType:"term",eventType:7573},TodayArticle:{impressionType:"todayArticleImpressions",idType:"todayArticleIdStr",eventType:8569},Banner:{impressionType:"bannerImpressions",idType:"userIdStr",eventType:9061},Comment:{impressionType:"commentImpressions",idType:"commentIdStr",eventType:9127}};class _ extends n.Component{constructor(e){super(e),d(this,"trackImpression",(()=>{try{this.node=(0,o.findDOMNode)(this),this.node instanceof HTMLElement&&this.impressionsFramework.start(this.node).onExitViewport(this.logImpression).setDebugId(this.props.loggingId||"unknown")}catch(e){window.console.error('Can only track impressions for type "HTMLElement"')}})),d(this,"logImpression",(e=>{const{carousel_data:t,closeupImpressionType:i,closeupNavigationType:n,componentType:o,contextLogData:r,elementType:s,impressionAuxFields:a,impressionType:l,loggingId:c,objectIdStr:d,slotIndex:_,trackCarousel:p,viewData:h,viewParameter:m,viewType:E,logContextEvent:g}=this.props,f=u[l],y=f.idType,v=e.forcedExit&&"removed"===e.forcedExit?0:void 0,I={endTime:e.endTime,[y]:c,slotIndex:_,time:e.startTime,renderDuration:e.endTime-e.startTime,type:i,...a,forcedExit:v};if(p||g({event_type:f.eventType,component:o,element:s,event_data:{[f.impressionType]:[I]},object_id_str:d,view_type:E,view_data:h||{},view_parameter:m,aux_data:{...r,closeup_navigation_type:n}}),t&&p){const{carousel_slots:e,index:i=0,id:n}=t;g({event_type:7352,component:o,event_data:{pinCarouselSlotImpressions:[{...I,carouselDataId:Number(n),carouselSlotId:(null==e?void 0:e[i])&&Number(e[i].id),slotIndex:i}]},object_id_str:d,view_type:E,view_data:h||{},view_parameter:m,aux_data:{...r}})}})),this.impressionsFramework=e.impressionsFramework||s.Z}componentDidMount(){this.props.inImpressionExp&&!this.impressionsFramework.inExperiment&&this.impressionsFramework.setExperimentStatus(!0),this.props.isPaused||this.trackImpression()}componentDidUpdate(e){e.isPaused&&!this.props.isPaused&&this.trackImpression()}componentWillUnmount(){this.node instanceof HTMLElement&&this.impressionsFramework.stop(this.node)}render(){return n.Children.only(this.props.children)}}function p(e){const{logContextEvent:t}=(0,a.v)(),{loggingId:i}=e,n=(0,l.AF)(),o=i?n[i]:{};return(0,c.jsx)(_,{...e,logContextEvent:t,carousel_data:o&&(0,r.Z)({carouselData:o.carousel_data,images:o.images,richMetadata:o.rich_metadata,richSummary:o.rich_summary})})}},124580:(e,t,i)=>{i.d(t,{Z:()=>n});const n=new(i(12610).ZP)},954571:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e){if(!e)return!1;const t=new Date(e);return t.setDate(t.getDate()+28),(new Date).getTime()<t.getTime()}},411938:(e,t,i)=>{i.d(t,{Z:()=>n});function n(e,t,i=28){if(!(e||{}).resurrection_info&&!(t||{}).resurrectionInfo)return!1;let n;n=t?((t||{}).resurrectionInfo||{}).resurrectionDate:((e||{}).resurrection_info||{}).resurrection_dt;const o=new Date,r=n?new Date(n):o;return r.setDate(r.getDate()+i),(new Date).getTime()<r.getTime()}},48714:(e,t,i)=>{i.d(t,{nS:()=>I,iw:()=>P,gV:()=>y,G3:()=>S,lI:()=>b,Gj:()=>T,Jd:()=>f,$3:()=>v});var n=i(231486),o=i(56641),r=i(768559),s=i(250059);const a=e=>"string"!=typeof e&&e?e.state:null;var l=i(643913),c=i(547239),d=i(508847),u=i(102500),_=i(43760),p=i(579164),h=i(307640),m=i(397066),E=i(623568),g=i(226198);const f=()=>{window&&window.focus(),document.activeElement&&document.activeElement.blur()},y=({isOffsiteUrl:e,event:t})=>!e&&(t.metaKey||t.ctrlKey),v=({location:e,pin:t,surface:i})=>!(0,E.jL)(t)&&(({location:e,pinId:t,surface:i})=>{const n=Boolean(i),o=h.ZF.includes(i),r=e.pathname.includes(t);return n&&!o||r})({location:e,pinId:t.id,surface:i}),I=e=>{const t=Math.round(1e3*Math.random())+"",i=Math.round(1e3*Math.random())+"";n.t8((0,g.GS)(t),i);const o=`${t}-${i}`,{queryParams:r,url:s}=e;let a={token:o,url:s};if(!r){const{pinId:t,csrId:i,clientTrackingParams:n,auxData:o}=e;a={...a,pin:null!=t?t:void 0,csr:i&&!t?i:void 0,client_tracking_params:n,aux_data:o?JSON.stringify(o):void 0}}r&&(a={...a,...r});return`/offsite/?${(0,l.Z)(a)}`},T=e=>{(0,o.Z)(I(e),!0)},P=async({isMounted:e,pin:t,location:i,spamCheckCallback:n,href:o})=>{const s=await(0,u.Z)({check_only:!0,client_tracking_params:(0,r.Z)(t,i),pin_id:null==t?void 0:t.id,url:o}).callGet({showError:!1});if(!s.resource_response.error&&e){const e=s.resource_response.data||{},{message:t,redirect_status:i,url:o}=e;n({blocked:["blocked","suspicious","porn"].includes(i),message:t,redirectStatus:i,sanitized_url:o})}},S=({event:e,onHistoryChange:t,href:i,history:n,target:r})=>{const l=(0,s.Z)(i),u=a(i),_=(0,c.Z)(l);_===p.Z.TRUSTED_DIFFERENT_ORIGIN||"blank"===r?(0,o.Z)(l,"blank"===r):n&&_===p.Z.SAME_ORIGIN&&(n.push((0,d.Z)({url:l}),null!=u?u:{}),t&&t({event:e}))},b=({href:e,pinId:t,pin:i,location:n,auxData:o,spamCheck:s,queryParams:a},l,c)=>{"undefined"!=typeof window&&window.Windows?(0,_.Z)({url:e,pinId:t,pin:i,location:n,auxData:o}):i?(({spamCheck:e,auxData:t,location:i,pin:n,pinId:o,href:s},a,l)=>{if(null!=e&&e.blocked)null==l||l(e);else{if((0,m.b)({href:s,pinId:o,pin:n,location:i,auxData:t},a))return;T({url:s,pinId:o,csrId:null,clientTrackingParams:(0,r.Z)(n,i),auxData:t})}})({spamCheck:s,auxData:o,location:n,pin:i,pinId:t,href:e},l,c):T({url:e,pinId:t,queryParams:a})}},102500:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(6637);function o(e){return n.Z.create("ApiResource",{url:"/v3/offsite/",data:e})}},287072:(e,t,i)=>{i.d(t,{Z:()=>d,p:()=>u});var n=i(667294),o=i(250059),r=i(149230),s=i(407043),a=i(643074),l=i(48714),c=i(276775);function d(e){var t;const{externalData:i,href:d,onHistoryChange:u,target:_}=e,{logContextEvent:p}=(0,s.v)(),[h,m]=(0,n.useState)(null),[E,g]=(0,n.useState)(!1),f=(0,c.k6)(),y=(0,c.TH)(),v=(0,r.Z)({url:(0,o.Z)(d)}),{showWarning:I}=null!==(t=(0,a.s)())&&void 0!==t?t:{};return(0,n.useEffect)((()=>(g(!0),()=>{g(!1)})),[]),(0,n.useEffect)((()=>{v&&null!=i&&i.pin&&null===h&&E&&(0,l.$3)({location:y,pin:i.pin,surface:i.surface})&&(0,l.iw)({isMounted:E,pin:i.pin,location:y,spamCheckCallback:e=>m(e),href:(0,o.Z)(d)})}),[null==i?void 0:i.pin,null==i?void 0:i.surface,d,v,E,y,h]),({event:e})=>{var t;(0,l.gV)({isOffsiteUrl:v,event:e})||(e.preventDefault(),d&&(v||null!=i&&i.dangerouslyForceOffsiteUrl?(0,l.lI)({auxData:null==i?void 0:i.auxData,href:(0,o.Z)(d),pinId:null==i||null===(t=i.pin)||void 0===t?void 0:t.id,pin:null==i?void 0:i.pin,queryParams:null==i?void 0:i.queryParams,location:y,spamCheck:h},p,I):(0,l.G3)({event:e,href:d,history:f,onHistoryChange:u,target:"blank"===_?"blank":null})))}}const u=({children:e,...t})=>e({handleClick:d(t)})},713930:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(172071);function o(e,t){return new Promise(((i,o)=>{if(document.querySelector(`script[src="${e}"]`)){let e=0;if("FACEBOOK"===t)if(window.FB)i();else{const t=setInterval((()=>{window.FB||20===e?(clearInterval(t),i()):(e+=1,n.Z.increment(`mweb.loadScript.facebook.tries_${e}`,.01))}),100)}else if("GSI"===t)if(window.google)i();else{const t=setInterval((()=>{window.google||20===e?(clearInterval(t),i()):(e+=1,n.Z.increment(`mweb.loadScript.gsi.tries_${e}`,.01))}),100)}else i()}else{const t=document.createElement("script");t.src=e,t.async=!0,t.addEventListener("load",(()=>i())),t.addEventListener("error",o),document.getElementsByTagName("head")[0].appendChild(t)}}))}},567450:(e,t,i)=>{function n(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i.d(t,{Z:()=>s});const o=new class{constructor(){n(this,"onResumeListeners",[]),n(this,"onPauseListeners",[]),n(this,"inExp",!1)}setExperiment(e=!1){this.inExp=e}onSessionResume(e){return this.onResumeListeners.push(e),this}onSessionPause(e){return this.onPauseListeners.push(e),this}removeResumeListener(e){this.onResumeListeners.filter((t=>t!==e))}removePauseListener(e){this.onPauseListeners=this.onPauseListeners.filter((t=>t!==e))}},r=e=>{if(e.isHidden){const{reason:t}=e;o.onPauseListeners.forEach((e=>e(t)))}else o.onResumeListeners.forEach((e=>e()))};setTimeout((()=>{window.addEventListener("beforeunload",(()=>r({isHidden:!0,reason:"beforeunload"}))),window.addEventListener("focus",(()=>r({isHidden:!1}))),window.addEventListener("blur",(()=>r({isHidden:!0,reason:"blur"}))),window.addEventListener("pageshow",(()=>r({isHidden:!1}))),window.addEventListener("pagehide",(()=>r({isHidden:!0,reason:"pagehide"}))),void 0!==document.hidden?document.addEventListener("visibilitychange",(()=>r(document.hidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1):void 0!==document.webkitHidden&&document.addEventListener("webkitvisibilitychange",(()=>r(document.webkitHidden?{isHidden:!0,reason:"visibilitychange"}:{isHidden:!1})),!1)}),0);const s=o},64446:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(605028);var o=i(341732),r=i(81226),s=i(898781),a=i(773285),l=i(883119),c=i(785893);const d={borderRadius:"18px",fontSize:"10px",fontWeight:"600",height:"24px",lineHeight:"24px",padding:"0 6px"},u={borderRadius:"18px",fontSize:"10px",fontWeight:"600",lineHeight:"24px",padding:"4px 8px"};function _({backgroundColor:e,identifier:t,size:i="sm"}){const n="pine"===e?"#0FA573":"#fff",o="sm"===i?d:u;return(0,c.jsx)(l.xu,{display:"inlineBlock",dangerouslySetInlineStyle:{__style:{...o,backgroundColor:e?n:"rgba(255, 255, 255, 0.8)",color:"pine"===e?"#fff":"#111"}},"data-test-id":"PinTypeIdentifier",children:t})}function p({pin:e,size:t="sm",allowProductCarousel:i,allowShoppingPriceIndicator:d,shoppingLabelColor:u}){const p=(0,s.ZP)(),{checkExperiment:h}=(0,a.F)(),m=(0,n.Z)(e),{group:E,anyEnabled:g}=h("hfp_idea_pin_identifer_web");if(m.isGif)return _({identifier:"GIF",size:t});if(m.isStoryPin){const{page_count:i=0,total_video_duration:n=0}=e.story_pin_data||{},o=g?E:"default";let s="idea-pin",a=i.toString();if("default"!==o&&n)if(a=(0,r.Z)(n),o.includes("play"))s="play";else{if(!o.includes("icon_time"))return _({identifier:a,size:t});s="idea-pin"}return _({identifier:(0,c.jsxs)(l.kC,{alignItems:"center",justifyContent:"between",children:[(0,c.jsx)(l.xu,{marginEnd:1,display:"flex",alignItems:"center",children:(0,c.jsx)(l.JO,{accessibilityLabel:p._('Idea Pin', 'pin.pinTypeIdentifier.ideaPinIconAccessibilityLabel', 'identifier that shows the pin type'),inline:!0,icon:s,color:"default",size:"sm"===t?12:16})}),(0,c.jsx)(l.xv,{inline:!0,size:"100",weight:"bold",children:a})]}),size:t})}if(m.isVideo){const i=e.videos,{duration:n=0}=i&&i.video_list&&i.video_list[Object.keys(i.video_list)[0]]||{};return _({identifier:(0,r.Z)(n),size:t})}if(m.isProduct){const i=e.rich_summary&&e.rich_summary.products&&e.rich_summary.products[0]&&e.rich_summary.products[0].offer_summary;if(d){const e=i&&(i.price||i.max_price);return e?_({identifier:e,size:t}):null}if(u){const n=null==i?void 0:i.percentage_off;let o=!1;n&&(o=h("web_pdp_pur_optim").anyEnabled);const r=o&&n||function(e){var t;return((((null===(t=e.rich_summary)||void 0===t?void 0:t.products)||[])[0]||{}).label_info||{}).labels||[]}(e)[0];return r?_({identifier:r,backgroundColor:u,size:t}):null}return null}if(i){const i=e.product_pin_data&&e.product_pin_data.items&&e.product_pin_data.items[0],n=i&&(0,o.Z)(e.images,i.additional_images,e.carousel_data&&e.carousel_data.index)||{},{carousel_slots:r=[],index:s=0}=n;return _({identifier:`${s+1}/${r.length}`,size:t})}if(m.isCarousel){const i=e.carousel_data||{},{carousel_slots:n=[],index:o=0}=i;return _({identifier:`${o+1}/${n.length}`,size:t})}return null}},55275:(e,t,i)=>{i.d(t,{P:()=>s,t:()=>a});var n=i(6637);const o=()=>{};const r={complaint:function(e,t){n.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},followBoard:function(e,t){n.Z.create("BoardFollowResource",e).callCreate().then((()=>t()))},followPinner:function(e,t){n.Z.create("UserFollowResource",e).callCreate().then((()=>t()))},followTopic:function(e,t){n.Z.create("InterestFollowResource",e).callCreate().then((()=>t()))},newsHubPinHide:function(e,t){n.Z.create("NewsHubPinFeedbackResource",e).callUpdate().then((()=>t()))},promotedComplaint:function(e,t){n.Z.create("PinFeedbackResource",e).callUpdate().then((()=>t()))},relatedPinHide:function(e,t){n.Z.create("RelatedPinFeedbackResource",e).callUpdate().then((()=>t()))},reportPin:function(e,t){t()},showAdReasons:function(e,t){t()},unfollowBoard:function(e,t){n.Z.create("BoardFollowResource",e).callDelete().then((()=>t()))},unfollowPinner:function(e,t){n.Z.create("UserFollowResource",e).callDelete().then((()=>t()))},unfollowTopic:function(e,t){n.Z.create("InterestFollowResource",e).callDelete().then((()=>t()))},unrelatedSearchPin:function(e,t){n.Z.create("SearchPinFeedbackResource",e).callUpdate().then((()=>t()))}},s=["complaint","relatedPinHide","unrelatedSearchPin","promotedComplaint","newsHubPinHide","unfollowBoard","unfollowPinner","unfollowTopic"];function a(e,t,i=o){const n=e?r[e]:null;return n?n(t,i):i()}},680046:(e,t,i)=>{i.d(t,{EF:()=>u,XZ:()=>c,ZP:()=>a,nb:()=>d,yl:()=>l});var n=i(966113),o=i(55275),r=i(760372);const s=e=>e.length>32?`${e.substring(0,32).trim()}...`:e,a=({i18n:e,interpolateNamedTemplate:t})=>({getLearnMoreUrl:e=>{switch(e){case 1:return n.Z.settings.HELP_PROMOTED_PINS_RETARGETED_PIN_URL;case 2:case 3:return n.Z.settings.HELP_PROMOTED_PINS_LOOKALIKE_TARGETING_URL;default:return n.Z.settings.HELP_PROMOTED_PINS_URL}},getRecommendationDescription:({ad_match_reason:i,board:n,feedbackType:o,makeNavigateLink:r,pinner:a,promoter:l,recommendationReason:c,sourceInterest:d})=>{switch(o){case"pfy":return e._('This Pin was inspired by your recent activity', 'Pin feedback reason', 'Pin feedback reason');case"pfyBoard":const{name:o,url:u}=c.board,_=r("navigation",u,o);return t(e._('This Pin was inspired by your board {{ boardLink }}', 'Pin feedback - inspired by your board', 'Pin feedback - inspired by your board'),{boardLink:_});case"topic":const{name:p,url_name:h}=d,m=r("topicUrl",`/topics/${h}`,p);return t(e._('This Pin was inspired by {{ formattedTopic }}', 'Pin feedback', 'Pin feedback'),{formattedTopic:m});case"followed":const E=`/${a.username}`,g=r("boardUrl",n.url,s(n.name)),f=r("pinnerUrl",E,s(a.full_name));return a.explicitly_followed_by_me?t(e._('This Pin is from {{ formattedPinner }}, a profile you follow', 'Pin feedback', 'Pin feedback'),{formattedPinner:f}):t(e._('This Pin is from {{ formattedBoard }}, a board you follow', 'Pin feedback', 'Pin feedback'),{formattedBoard:g});case"promoted":switch(i){case 1:case 2:case 3:return e._('This ad was personalized for you using info from one of our partners', 'Pin feedback', 'Pin feedback');default:const{full_name:i,username:n}=l,o=r("promotedLink",n?"/"+n+"/":"/",i);return t(e._('{{ promoterLink }} paid to have this Pin show up where\n          you\u2019d be more likely to notice it', 'Pin feedback', 'Pin feedback'),{promoterLink:o})}default:return null}},getFeedbackType({board:e,feedback:t,viewParameter:i,pin:{promoter:n,is_downstream_promotion:o,recommendation_reason:r},pinner:s}){const a=t&&t.type;return n&&!o?"promoted":a||((e=>!!e&&"FOLLOWED_INTEREST"!==e.reason&&"FOLLOWING_FEED"!==e.reason&&"RECENT_FOLLOWED_BOARD"!==e.reason&&!0)(r)?r.board?"pfyBoard":"pfy":r&&"FOLLOWED_INTEREST"===r.reason?"topic":e&&e.followed_by_me||s&&s.explicitly_followed_by_me?"followed":140===i||144===i||141===i||145===i||139===i||3173===i?"related":92===i?"default":3082===i?"newsHub":null)},getHidePinAction:({feedbackData:e,feedbackType:t,pinId:i,recommendationReasonId:n,pinFeedbackType:o,complaintReason:r,throughId:s,throughProperties:a,clientTrackingParams:l})=>{const c="promoted"===t;let d,u;switch(t){case"promoted":d="promotedComplaint";break;case"search":d="unrelatedSearchPin";break;case"related":d="relatedPinHide";break;case"newsHub":d="newsHubPinHide";break;default:d="complaint"}switch(t){case"search":u={query:e.query,pin_id:i};break;case"related":u={pin:i};break;case"newsHub":u={pinId:i,newsId:e.newsId};break;default:u={complaint_reason:r||0,pin_id:i,...n?{recommendation_reason_id:n}:{},feedback_type:o||1,promoted:c,...s?{through_id:s}:{},...a?{through_properties:a}:{},...l?{client_tracking_params:l}:{}}}return{action:d,actionOptions:u}},getUnfollowAction:({board:i,feedbackType:n,makeNavigateLink:o,pinner:s,sourceInterest:a})=>{if("topic"===n){if(a){const{id:i,name:n,url_name:s}=a,l=o("topicUrl",`/topics/${s}`,n,!0),c=t(e._('We\u2019ll show you less Pins from {{ formattedTopic }} in the future.', 'pin.contextualMenu.feedback.unfollowTopic.subtitle', 'Confirmation text after unfollowing a topic'),{formattedTopic:l});return{action:"unfollowTopic",actionOptions:{interest_id:i,interest_list:r.X},title:"",subTitle:c}}}else if("followed"===n&&i&&s){const{id:n,name:r,url:a}=i||{},{explicitly_followed_by_me:l,full_name:c,username:d}=s,u=`/${d}`,_=o("boardUrl",a,r,!0),p=o("pinnerUrl",u,c,!0);let h=l?t(e._('You\u2019ve unfollowed {{ formattedPinner }}\u2019s Board {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedPinner:p,formattedBoard:_}):t(e._('You\u2019ve unfollowed {{ formattedBoard }}. You can follow it again by searching for it.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:_});return h=l?t(e._('You unfollowed {{ formattedPinner }} and won\u2019t see Pins they save anymore.', 'Confirmation text after unfollowing a user', 'Confirmation text after unfollowing a user'),{formattedPinner:p}):t(e._('You unfollowed the board {{ formattedBoard }} and won\u2019t see Pins saved to it anymore.', 'Confirmation text after unfollowing a board', 'Confirmation text after unfollowing a board'),{formattedBoard:_}),{action:"unfollowBoard",actionOptions:{board_id:n},title:"",subTitle:h}}return null}});function l(e){return null!=e&&e.reason_id?e.reason_id:null!=e&&e.board?e.board.id:null!=e&&e.pin?e.pin.id:null!=e&&e.interest?e.interest.id:""}function c(e){return null==e?void 0:e.through_properties}function d(e){switch(e){case"promoted":return 60;case"followed":case"topic":return 100;case"pfyBoard":case"pfy":return 58}}function u(e,t,i,n,r,s,a){return()=>{const l={...e,undo:!0};let c=t;"unfollowPinner"===t?c="followPinner":"unfollowBoard"===t?c="followBoard":"unfollowTopic"===t&&(c="followTopic"),(0,o.t)(c,l),s(i),a({event_type:101,component:0,element:11181,view_type:n,view_parameter:r})}}},205202:(e,t,i)=>{function n(e,t){return e&&e[t]&&e[t].url}i.d(t,{Z:()=>n})},248975:(e,t,i)=>{function n({embedSrc:e,embedType:t,images:i,preferredResolution:n}){if(!e&&!t&&!i)return"";if("gif"===t)return e||"";const o=i;if(!o)return"";if(n){const e="474x"===n&&o["474x"]||"236x"===n&&o["236x"]||o["736x"];if(e&&e.url)return e.url}const r=Object.keys(o).map((e=>{try{const t=e.split("x")[0];return Number.isNaN(Number(t))?(o[t]=o[e],t):e}catch(t){return""}}));r.sort();const s=r.pop();return o[s]&&o[s].url||""}i.d(t,{Z:()=>n})},605028:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(687551),o=i(623568);function r(e){const{access:t,attribution:i,embed:r,is_eligible_for_web_closeup:s,rich_summary:a,sponsorship:l,story_pin_data_id:c,videos:d}=e,u={isLeadPin:!1,isCarousel:!1,isGif:!1,isOneTap:!1,isOwnPin:!1,isProduct:!1,isPromoted:!1,isRecipe:!1,isSponsored:!1,isStoryPin:!1,isVideo:!1};(0,o._Q)(e)&&(u.isLeadPin=!0),(0,n.Z)(e)&&(u.isCarousel=!0),s&&(u.isOneTap=!0),(0,o.iR)(d)&&(u.isVideo=!0);const _=r||i&&i.embed||null;return _&&"gif"===_.type&&(u.isGif=!0),a&&"product"===a.type_name&&(u.isProduct=!0),a&&"recipe"===a.type_name&&(u.isRecipe=!0),e.promoter&&!e.is_downstream_promotion&&(u.isPromoted=!0),(t||[]).includes("write")&&(u.isOwnPin=!0),c&&(u.isStoryPin=!0),l&&(u.isSponsored=!0),u}},307061:(e,t,i)=>{i.d(t,{Z:()=>n});const n=function(e){return function(t){return null!=t?e(t):null}}},674915:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(307061),o=i(736688);const r=(0,n.Z)((e=>{const{videos:t}=e.pin,{id:i,video_list:n={}}=t||{},{V_720P:r,V_HLSV4:s,V_HLSV3_MOBILE:a}=n,l=(0,o.V)(s),c=(0,o.V)(a),d=(0,o.V)(r),u=d||l||c;return i&&u?{...e,video:{id:i,hasVideo:u,mp4:d||void 0,hls:l||void 0,hlsv3:c||void 0}}:null}))},976071:(e,t,i)=>{function n(e){return Boolean(e.promoted_is_removable)}i.d(t,{Z:()=>n})},623568:(e,t,i)=>{i.d(t,{Js:()=>r,NK:()=>E,Nc:()=>g,VX:()=>s,Zt:()=>h,_J:()=>c,_Q:()=>o,cL:()=>_,dZ:()=>v,hb:()=>m,hy:()=>l,iR:()=>n,jL:()=>a,o:()=>f,pU:()=>y,rM:()=>p,sV:()=>d,sY:()=>u});const n=e=>!!e&&!!e.video_list,o=e=>!!e.promoted_is_lead_ad,r=(e,t)=>{let i=e&&e.url?e.url.split("/")[1]:"";return t&&t.full_name&&(i=t.full_name),i},s=e=>{var t;return e.rich_summary&&e.rich_summary.products&&e.rich_summary.products.length>0||(null===(t=e.rich_metadata)||void 0===t?void 0:t.products)&&e.rich_metadata.products.length>0||!1},a=e=>!!e.promoter&&!e.is_downstream_promotion,l=e=>!!e,c=e=>!!e.video_status&&5!==e.video_status,d=e=>["email","messages","deep_linking"].includes(e),u=e=>!!e&&"gif"===e,_=({embedSrc:e,embedSubtype:t,embedType:i})=>!!e&&!u(i)&&!(e=>"pinstory"===e)(t),p=({link:e,mobileLink:t,trackedLink:i})=>!t&&!i&&!e,h=({link:e,mobileLink:t,origImageUrl:i,trackedLink:n})=>t||n||e||i||"",m=({isStoryPin:e,isVideoPin:t})=>e?"storyPin":t?"video":"image",E=(e,t)=>({deeplinkUri:{android:`pin/${e}/repin`,iOS:`repin/${e}`},mwebUri:{pathname:`/pin/${e}/repin/`,state:{trackingParams:t.state?t.state.trackingParams:""}}});function g(e){var t,i;return!n(e.videos)&&!l(e.story_pin_data_id)&&0!==Object.keys((null===(t=e.aggregated_pin_data)||void 0===t||null===(i=t.creator_analytics)||void 0===i?void 0:i["30d_realtime"])||{}).length}function f(e){var t;return 0!==Object.keys((null===(t=e.creator_analytics)||void 0===t?void 0:t["30d_realtime"])||{}).length}function y(e){var t;return 0!==Object.keys((null===(t=e.public_creator_analytics)||void 0===t?void 0:t.all_time_realtime)||{}).length}function v(e){var t,i;return!(null===(t=e.creator_analytics)||void 0===t||null===(i=t["30d_realtime"])||void 0===i||!i.is_realtime)}},18857:(e,t,i)=>{i.d(t,{G7:()=>h,ZP:()=>_,_E:()=>p,l6:()=>m,rh:()=>u});var n=i(27255),o=i(605028),r=i(66699),s=i(349700),a=i(623568),l=i(883119),c=i(785893);const d=e=>e.checkExperiment("px_show_protected_pin_stats_on_closeup").anyEnabled;function u(e,t,i,r){var s,l,c;if(!t.isAuth)return!1;const u=(0,a.Nc)(e)||(0,a.o)(e),_=(null===(s=e.board)||void 0===s?void 0:s.privacy)===n.Z.BoardPrivacy.PUBLIC,p=(null===(l=e.board)||void 0===l?void 0:l.privacy)===n.Z.BoardPrivacy.PROTECTED,h=(d(i)&&p||_)&&!e.is_repin&&[t.id,r].includes(null===(c=e.pinner)||void 0===c?void 0:c.id),{isStoryPin:m}=(0,o.Z)(e);return u&&(!p||d(i))||t.isPartner&&h||(e=>e.checkExperiment("web_ps4p").anyEnabled)(i)&&m&&h||(0,a.pU)(e)}function _({isVideo:e,isStoryPin:t,i18n:i,showPublicPinStats:n,showPrivateFullScreenPinStats:o}){return e?[{align:"start",displayText:i._('Video views', 'pinRep.pinStats.videoViews', 'Label for views of a video pin on pinrep'),field:"video_views",iconType:"play"},{align:"center",displayText:i._('Avg. time', 'pinRep.pinStats.videoAverageTime', 'Label for average time of a video pin on pinrep'),field:"video_average_time",iconType:"clock",valueFormat:"TIME"},{align:"end",displayText:i._('Saves', 'pinRep.pinStats.save', 'Label for saves of a video pin on pinrep'),field:"save",iconType:"angled-pin"}]:t?n?[{align:"start",displayText:i._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"}]:o?[{align:"start",displayText:i._('Full screen plays', 'pinRep.pinStats.fullScreenPlays', 'Label for how many times the Idea Pin has been played full screen'),field:"full_screen_play",iconType:"play"},{align:"center",displayText:i._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"end",displayText:i._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:i._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:i._('Closeups', 'pinRep.pinStats.closeups', 'Label for closeups of a pin on pinrep'),field:"closeup",iconSize:10,iconType:"hand-pointing"},{align:"end",displayText:i._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"}]:[{align:"start",displayText:i._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:i._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:i._('Link clicks', 'pinRep.pinStats.clickthrough', 'Label for click-throughs of a pin on pinrep'),field:"clickthrough",iconSize:10,iconType:"arrow-up-right"}]}function p(e,t,i,n){const{isStoryPin:r,isVideo:d}=(0,o.Z)(e),u=(0,a.Nc)(e),_=(0,a.o)(e)&&(r||!u)?e.creator_analytics:e.aggregated_pin_data.creator_analytics,p=new Date(e.created_at),h=(new Date).getTime()-p.getTime(),m=Math.floor(h/36e5),E=_?_["24h_realtime"].is_realtime:null,g=_?_["24h_realtime"].timestamp:null;let f=null;_&&(f=r||d?_.all_time_realtime.timestamp:_["30d_realtime"].timestamp);const y=f!==g,v=e=>(0,s.nk)(i._('Updated {{ lastUpdated }}', 'closeup.partnerModule.lastUpdated', 'Indicates to the user when the stats were last updated'),{lastUpdated:e}).join(""),I={timeframe:"",lastUpdated:""};if(_)if(E){const e=_["24h_realtime"].impression>=(r||d?_.all_time_realtime.impression:_["30d_realtime"].impression);I.timeframe=e?i._('Last 24 hours', 'closeup.partnerModule.lastUpdatedRealtime', 'Stats from the stated duration'):r||d?i._('Lifetime of pin', 'closeup.partnerModule.lastUpdatedAllTime', 'Stats from stated duration'):i._('Last 30 days', 'closeup.partnerModule.lastUpdated30Days', 'Stats from stated duration'),I.lastUpdated=i._('Real-time estimates', 'closeup.partnerModule.lastUpdatedRealtime', 'Indicates to user that the stats are being updated in real-time')}else if(y||m>48)if(r||d){const e=n(_.all_time_realtime.timestamp);I.timeframe=i._('Lifetime of pin', 'closeup.partnerModule.lastUpdatedAllTime', 'Stats from stated duration'),I.lastUpdated=v(e)}else{const e=n(_["30d_realtime"].timestamp);I.timeframe=i._('Last 30 days', 'closeup.partnerModule.lastUpdated30Days', 'Stats from stated duration'),I.lastUpdated=v(e)}else{const e=n(_["24h_realtime"].timestamp);I.timeframe=i._('Last 24 hours', 'closeup.partnerModule.lastUpdatedHoursAgo', 'Stats from the stated duration'),I.lastUpdated=v(e)}else I.lastUpdated=i._('Stats are currently unavailable', 'closeup.partnerModule.statsUnavailable', 'Stats status for the pin');return(0,c.jsxs)(l.xu,{alignItems:r||"lg"!==t?"center":void 0,display:r||"lg"!==t?"flex":void 0,children:[(0,c.jsx)(l.xv,{align:"end",color:"subtle",size:"100",children:I.lastUpdated}),(r||["md","sm"].includes(t))&&!!_&&(0,c.jsx)(l.xv,{color:"subtle",inline:!0,size:"100",children:" "}),(0,c.jsx)(l.xv,{align:"end",color:"subtle",size:"100",children:I.timeframe})]})}function h(e,t){return(0,r.Z)(t.ngettext('Last {{ count }} Day', 'Last {{ count }} Days', e, 'Previous {{ count }} days from current date', 'Previous {{ count }} days from current date'),{count:e})}function m(e,t){return(0,r.Z)(t.ngettext('Last {{ count }} Hour', 'Last {{ count }} Hours', e, 'analytics.utils', 'Previous {{ count }} hours from current time'),{count:e})}},802933:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(0,i(307061).Z)((e=>e.pin&&e.pin.id?{...e,id:e.id,aggregatedPinData:e.pin.aggregated_pin_data}:null))},692627:(e,t,i)=>{function n(e){if(e&&e.pin){const t=e.pin.rich_metadata;if(t)return t.products?144:t.article?141:t.recipe?145:139;if(e.pin.story_pin_data)return 157}return 140}i.d(t,{Z:()=>n})},808475:(e,t,i)=>{i.d(t,{k:()=>C});var n=i(667294),o=i(702664),r=i(509860),s=i(6637),a=i(231486),l=i(124237),c=i(160585),d=i(572752),u=i(643913),_=i(966113),p=i(226198),h=i(957161),m=i(83969),E=i(826067),g=i(867820);async function f(e){await(0,m.Px)();const t=function(){if("undefined"==typeof window)return null;const e=window.google;return e&&e.accounts&&e.accounts.oauth2}();if(t){t.initCodeClient({client_id:_.Z.settings.GPLUS_CLIENT_ID,scope:"https://www.googleapis.com/auth/userinfo.email https://www.googleapis.com/auth/userinfo.profile",ux_mode:"popup",callback:e}).requestCode()}}let y;const v=`${_.Z.settings.LINE_CLIENT_ID}`,I=async(e,t,i,n)=>{const o=(0,E.mB)(e);o.state&&o.code&&o.state===n&&y&&!y.closed&&y.close(),fetch("/oauth/line/verify",{headers:{"Content-type":"application/x-www-form-urlencoded; charset=UTF-8","x-csrftoken":"undefined"!=typeof window?`${String(a.U2(p.fS))}`:""},method:"POST",body:(0,u.Z)({code:o.code,redirect_uri:i})}).then((e=>e.json())).then((({id_token:e,access_token:i})=>{e&&i?t.success({line_id_token:e,line_access_token:i}):t.error("error")})).catch((e=>t.error(e)))};function T(){}let P;Object.assign(T.prototype,{optionsForNetwork:{},connect({i18n:e,network:t,options:n,requestContext:o,viewer:r}){n=Object.assign({},{success(){},error(){},complete(){}},n),(0,g.My)(`auth_web.social_connect.${t}.${(0,d.Z)(o)}`),n.rerequest_facebook_email?Promise.resolve().then(i.bind(i,107193)).then((({default:e})=>{e((e=>{e.login((e=>{var t;const i=e.authResponse;let o,r;i&&(o=i.grantedScopes,o=o?o.split(","):[],r=i.userID);const s=null===(t=o)||void 0===t?void 0:t.find((e=>"email"===e)),a={id:r};"connected"===e.status&&s?n.success(a):n.error(a),n.complete()}),{scope:"email",auth_type:"rerequest",return_scopes:!0})}),r)})):"gplus"===t||"google"===t?this.connectGoogle(n):"line"===t?this.connectLine(n,o,e):Promise.resolve().then(i.bind(i,509860)).then((({default:i})=>{const o=n.windowOptions||i.getWindowOptions(),r=window.open("/connect/"+t+"/","",o);if(!r)return l.Z.showError(e._('You must enable popups!', ' - ', ' -- ')),void n.error({network:t,alertedUpstream:!0});const s=setInterval((()=>{r.closed&&(clearInterval(s),this.handleComplete({network:t,error_message:"Window closed."}))}),1e3);this.optionsForNetwork=Object.assign(this.optionsForNetwork,{[t]:n})}))},connectGoogle(e){(0,g.My)("auth_web.social_connect.google.migration"),f((t=>{e.success({one_time_code:t.code,redirect_uri:"postmessage"})}))},connectLine(e,t){const{locale:i}=t,n=`${window.location.origin}/oauth/line/redirect`,o=(0,c.Z)(10);window.addEventListener("message",(t=>((e,t,i,n)=>{e.isTrusted&&e.origin===window.location.origin&&e.data&&I(String(e.data),t,i,n)})(t,e,n,o))),window.addEventListener("storage",(t=>((e,t,i,n)=>{if(e.isTrusted&&e.url.startsWith(window.location.origin)&&"lineOAuthOneTimeCode"===e.key){const e=(0,h.qn)("lineOAuthOneTimeCode");e&&I(e,t,i,n)}})(t,e,n,o))),y=window.open(`https://access.line.me/oauth2/v2.1/authorize?response_type=code&client_id=${v}&redirect_uri=${encodeURIComponent(n)}&state=${o}&ui_locales=${i}&scope=profile%20openid%20email`,"_blank")},complete(e){this.handleComplete(e)},handleComplete(e){const t=e.network;if("facebook"===t){const t=e.id;t&&"string"!=typeof t&&(e.error_message="Facebook id must be of string type")}if(this.optionsForNetwork[t]){const i=this.optionsForNetwork[t];this.optionsForNetwork[t]=null,e.error_message?i.error(e):i.success(e),i.complete()}}}),Object.assign(T,{instance:()=>(P||(P=new T),P)}),window.addEventListener("message",(e=>{const t=window.location.protocol+"//"+window.location.hostname+(window.location.port?":"+window.location.port:"");e.origin===t&&e.data&&"social-connect-complete"===e.data.type&&T.instance().complete(e.data)}));const S=T;var b=i(19121),A=i(414327),R=i(780280),x=i(79830);class O{constructor({invalidateResource:e,requestContext:t,viewer:i}){this.getUserId=()=>i.isAuth?i.id:"",this.getUsername=()=>i.isAuth?i.username:"",this.isLimitedLogin=()=>i.isLimitedLogin,this.invalidateResource=e,this.requestContext=t,this.viewer=i}handleConnect(e,t,i,n){if(t&&!this.isLimitedLogin()){const o={success:function(n){const o={network:e,data:n};this._internalConnectNetwork(t,o,i)}.bind(this),error(e){i.error&&i.error(e)},complete(){i.complete&&i.complete()},windowOptions:void 0};"dropbox"===e?o.windowOptions="width=600,height=800":"instagram"===e?o.windowOptions=r.default.getWindowOptions(580,580):"etsy"===e?o.windowOptions=r.default.getWindowOptions(580,775):"youtube"===e&&(o.windowOptions=r.default.getWindowOptions(605,640)),this._externalConnectNetwork(e,t,o,n)}else{const n={network:e};this._internalConnectNetwork(t,n,i)}}updateConnectStatus(){const e={user_id:this.getUserId(),username:this.getUsername(),field_set_key:"social_connect"};this.invalidateResource("UserResource",e);s.Z.create("UserResource",e).callGet()}_externalConnectNetwork(e,t,i,n){t?S.instance().connect({network:e,options:i,i18n:n,requestContext:this.requestContext,viewer:this.viewer}):i.success&&i.success({})}_internalConnectNetwork(e,t,i){const n=s.Z.create("UserSocialNetworkResource",t);(e?n.callCreate():n.callDelete()).then((e=>{this.updateConnectStatus(),i.success&&i.success(e)}),(e=>{i.error&&e instanceof Object&&i.error(e)})).finally((()=>{i.complete&&i.complete()}))}_getResourceNameForNetworkFriends(e){let t=null;switch(e){case x.vq:t="UserFacebookFriendsResource";break;case x.Ib:t="UserTwitterFriendsResource";break;case x.Tr:t="UserGmailFriendsResource";break;case x.lA:t="UserMicrosoftFriendsResource";break;default:return}return t}pollForFriends(e,t){const i=(t=t||{}).resourceOptions||{},n=this._getResourceNameForNetworkFriends(e);if(!n)return;const o=s.Z.create(n,i);o.callGet({showError:!1}).then((()=>{const e=t.success;e&&e(o)}),(i=>{if(110===i.api_error_code)setTimeout((()=>{this.pollForFriends(e,t)}),1e3);else{const e=t.error;e&&e()}}))}}function C(){const e=(0,o.useDispatch)(),t=(0,R.B)(),i=(0,b.Z)();return(0,n.useMemo)((()=>new O({invalidateResource:(t,i)=>e((0,A.jB)(t,i)),requestContext:t,viewer:i})),[e,t,i])}},79830:(e,t,i)=>{i.d(t,{I6:()=>p,Ib:()=>E,PF:()=>_,Tr:()=>g,W7:()=>r,YC:()=>l,a2:()=>u,a7:()=>d,h5:()=>n,hC:()=>s,lA:()=>f,n$:()=>o,oo:()=>h,s7:()=>c,vI:()=>a,vq:()=>m});const n="MULTIPLE_ACCOUNTS",o="MULTIPLE_ACCOUNTS_GROUP",r="account_switcher_flyout",s="account_switcher_modal",a="vmp_account_switcher_modal",l="account_recovery",c="closeup",d="google_one_tap_modal",u="hybrid_clickthrough",_="pin_image",p="response_flyout",h="unauth_header",m="facebook",E="twitter",g="google",f="microsoft"},107193:(e,t,i)=>{i.r(t),i.d(t,{default:()=>d});var n=i(935879),o=i(713930),r=i(6637),s=i(966113),a=i(867820);let l=!1;const c=(e,t,i="en-US",d)=>{d&&(0,a.dy)({event:"load_script_start",provider:"facebook"}),(0,o.Z)((0,n.Z)(i),"FACEBOOK").then((()=>{d&&(0,a.dy)({event:"load_script_success",provider:"facebook"});const i=window.FB;i?(l||(d&&(0,a.dy)({event:"initialize_library",provider:"facebook"}),i.init({appId:s.Z.settings.FACEBOOK_API_KEY,status:!0,version:"v2.2"}),FB.Event.subscribe("auth.statusChange",(()=>{(e=>e.isAuth&&!!e.facebookId&&!e.isLimitedLogin)(t)&&c((e=>{if(!e.getUserID())return;const t=e.getAccessToken();if(t){r.Z.create("UserSocialNetworkResource",{facebook_token:t}).callUpdate({showError:!1})}}),t)})),l=!0,window.fb_init=2),e(i)):d&&(0,a.dy)({event:"global_object_not_found",provider:"facebook"})})),window.fb_init=1},d=c},935879:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>`//connect.facebook.net/${(e=>{const t=e.replace(/-/g,"_");if(t.startsWith("es"))return"es_LA";if(t.startsWith("ar"))return"ar_AR";switch(t){case"de":return"de_DE";case"fr":return"fr_FR";case"it":return"it_IT";case"ja":return"ja_JP";case"nl":return"nl_NL";case"tr":return"tr_TR";case"en_AU":return"en_US";default:return t}})(e)}/sdk.js`},83969:(e,t,i)=>{i.d(t,{Fm:()=>s,OY:()=>l,PL:()=>d,Px:()=>a,mK:()=>u,ru:()=>c});var n=i(713930),o=i(966113),r=i(867820);const s=()=>{var e,t,i;return null===(e=window)||void 0===e||null===(t=e.google)||void 0===t||null===(i=t.accounts)||void 0===i?void 0:i.id},a=e=>(0,n.Z)("https://accounts.google.com/gsi/client",null!=e&&e.unsafe?null:"GSI"),l=({autoSelect:e,itpSupport:t},i)=>{var n;null===(n=s())||void 0===n||n.initialize({auto_select:null!=e&&e,client_id:o.Z.settings.GPLUS_CLIENT_ID,callback:i,cancel_on_tap_outside:!1,context:"use",itp_support:t})},c=({buttonRef:e,isDesktop:t})=>{const i=s();if(i&&e.current){const t=e.current.offsetWidth;i.renderButton(e.current,{size:"large",shape:"pill",text:"continue_with",theme:"outline",width:t+"px"})}else(0,r.My)((t?"unauth_web":"unauth_mweb")+".gsi_button.not_initialized")},d=e=>"auto"===e?"AUTO_LOGIN":e.startsWith("btn")?"SIGN_IN_WITH_GOOGLE_BUTTON":"ONE_TAP_PROMPT",u=e=>{switch(e){case"SIGN_IN_WITH_GOOGLE_BUTTON":return"gsi_btn";case"ONE_TAP_PROMPT":return"onetap_btn";default:return"other"}}},760372:(e,t,i)=>{i.d(t,{X:()=>n});const n="favorited"},869503:(e,t,i)=>{i.d(t,{KX:()=>u,Uv:()=>d,ZP:()=>_,gP:()=>c});var n=i(939106),o=i(898781),r=i(225643),s=i(349700),a=i(883119),l=i(785893);function c({condition:e}){const t=(0,o.ZP)();switch(e){case r.ConditionType.USED:return t._('Used', 'closeup.product.condition_used', 'product condition that is used');case r.ConditionType.REFURBISHED:return t._('Refurbished', 'closeup.product.condition_refurbished', 'product condition that is refurbished');case r.ConditionType.NEW:default:return""}}function d(){const e=(0,o.ZP)();return e._('Free shipping', 'closeup.product.shipping', 'product shipping info')}function u({freeShippingPrice:e}){const t=(0,o.ZP)();return(0,s.nk)(t._('Free shipping with {{ shippingPrice }}+', 'closeup.product.shipping', 'product shipping info'),{shippingPrice:e}).join("")}function _({customStyles:e,showPrevDot:t,condition:i,freeShippingPrice:o,freeShippingValue:r}){const s=t?[""]:[],{color:_="subtle",size:p="200"}=e||{},h=c({condition:i});return Number.isFinite(r)?(h&&s.push(h),0===r?s.push((0,l.jsx)(d,{})):o&&s.push((0,l.jsx)(u,{freeShippingPrice:o})),0===s.length?null:(0,l.jsx)(a.xv,{color:_,size:p,children:(0,l.jsx)(n.Z,{color:_,items:s})})):null}},813401:(e,t,i)=>{i.d(t,{kf:()=>E,l5:()=>h,of:()=>_,xC:()=>m,yz:()=>p});var n=i(667294),o=i(172071),r=i(829407),s=i(807609),a=i(30287),l=i(425288),c=i(785893);const{Provider:d,useMaybeHook:u}=(0,l.Z)("PwaContext"),_=({children:e,initialContext:t})=>{const[i,s]=(0,n.useState)(null),l=t||{pwaType:"unknown",twaType:null},u=l.pwaType;(0,r.Z)((()=>{const e=(0,a.FB)(window)||"unknown";s(e),u!==e&&o.Z.increment("pwa.type_mismatch",1,{serverPwaType:u,clientPwaType:e,conflict:"unknown"!==u&&"unknown"!==e})}));const _="unknown"===u&&i?i:u,p=l.twaType,h=(0,n.useMemo)((()=>({pwaType:_,twaType:p})),[_,p]);return(0,c.jsx)(d,{value:h,children:e})},p=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.pwaType)&&void 0!==e?e:"unknown"},h=()=>{var e;const t=u();return null!==(e=null==t?void 0:t.twaType)&&void 0!==e?e:null},m=()=>"android-twa"===p(),E=()=>{const e=p(),t=(0,s.Z)();return"unknown"===e&&t?null:"windows"===e}},311560:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>{switch(e){case"BR":case"MX":case"AR":case"CL":case"CO":return"LatAm";case"US":return"US";default:return"OTHER"}}},681227:(e,t,i)=>{function n(e){const t=Object.keys(e);if(t.length>0){return t.sort(((t,i)=>e[i]-e[t])).slice(0,3)}return null}function o(e){const t=Object.values(e);if(t.length>0){return t.reduce(((e,t)=>e+t),0)}return 0}function r(e,t){const{videos:i,is_downstream_promotion:n,is_promoted:o,story_pin_data_id:r,board:s}=e;return!(o||n||(!i||!i.id)&&!r||t||null!=s&&s.is_collaborative&&s.collaborated_by_me)}i.d(t,{At:()=>n,J6:()=>r,Ud:()=>o})},561195:(e,t,i)=>{i.d(t,{A:()=>l,Z:()=>c});var n=i(667294),o=i(498913),r=i.n(o),s=i(883119),a=i(785893);const l=({fill:e,width:t,color:i})=>{const o="half"===e?(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(s.xu,{position:"absolute",children:(0,a.jsx)(s.JO,{accessibilityLabel:"",color:"default",icon:"star-half",size:12})}),(0,a.jsx)(s.JO,{accessibilityLabel:"",color:"subtle",icon:"star",size:12})]}):(0,a.jsx)(s.JO,{accessibilityLabel:"",color:"full"===e?"default":"subtle",icon:"star",size:12});return(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{marginRight:"3px"}},display:"inlineBlock",children:o})};function c({max_rating:e,rating:t,width:i,color:o}){const s=[],c=function(e,t){return 5*(t=t<=e?t:e)/e}(parseFloat(e)||5,parseFloat(t)||0);if(Number.isNaN(c))return null;const d=Math.floor(c),u=c-d;return r()(d,(e=>s.push((0,a.jsx)(l,{color:o,fill:"full",width:i},e)))),u>=.75?s.push((0,a.jsx)(l,{color:o,fill:"full",width:i},s.length)):u>=.25&&s.push((0,a.jsx)(l,{color:o,fill:"half",width:i},s.length)),r()(5-s.length,(()=>s.push((0,a.jsx)(l,{color:o,fill:"empty",width:i},s.length)))),(0,a.jsx)(n.Fragment,{children:s})}},932995:(e,t,i)=>{function n(e,t,i){const n=[...e],o=n.splice(t,1)[0];return n.splice(i,0,o),n}i.d(t,{Z:()=>n})},505920:(e,t,i)=>{i.d(t,{UZ:()=>u,Z8:()=>_,my:()=>p});var n=i(667294),o=(i(702664),i(6637)),r=i(425288),s=i(785893);function a(e,t,i){var n;const o=[...null!==(n=t[e][i.payload.name])&&void 0!==n?n:[],i.payload.handler],r={...t};return r[e]={...t[e],[i.payload.name]:o},r}function l(e,t,i){if(!t[e][i.payload.name])return t;const n=t[e][i.payload.name].filter((e=>e!==i.payload.handler)),o={...t};return o[e]={...t[e],[i.payload.name]:n},o}const{Provider:c,useHook:d}=(0,r.Z)("ResourceContext");function u({children:e}){const[{listeners:t,moreListeners:i},r]=(0,n.useReducer)(((e,t)=>{switch(t.type){case"addListener":return a("listeners",e,t);case"addMoreListener":return a("moreListeners",e,t);case"removeListener":return l("listeners",e,t);case"removeMoreListener":return l("moreListeners",e,t);default:return e}}),{listeners:{},moreListeners:{}});o.Z.fetchCompleteCallback=({resource:e,options:i,response:n,normalizedResponse:o,refresh:r,resourceSchema:s})=>{t[e]&&t[e].forEach((t=>t({isRefresh:r,normalizedResponse:o,options:i,schema:s,resource:e,response:n})))},o.Z.fetchMoreCompleteCallback=({resource:e,options:t,response:n,normalizedResponse:o,refresh:r,resourceSchema:s})=>{i[e]&&i[e].forEach((i=>i({isRefresh:r,normalizedResponse:o,options:t,schema:s,resource:e,response:n})))};const d=(0,n.useMemo)((()=>({listenerDispatch:r})),[]);return(0,s.jsx)(c,{value:d,children:e})}function _(e,t){const{listenerDispatch:i}=d();(0,n.useEffect)((()=>(i({type:"addListener",payload:{name:e,handler:t}}),()=>{i({type:"removeListener",payload:{name:e,handler:t}})})))}function p(e,t){const{listenerDispatch:i}=d();(0,n.useEffect)((()=>(i({type:"addMoreListener",payload:{name:e,handler:t}}),()=>{i({type:"removeMoreListener",payload:{name:e,handler:t}})})))}},736688:(e,t,i)=>{i.d(t,{V:()=>o,v:()=>r});var n=i(867820);const o=e=>{const{thumbnail:t,url:i,width:n,height:o,duration:r}=e||{};return t&&i&&n&&o&&{thumbnail:t,url:i,width:n,height:o,duration:r}||void 0};function r(e){if(e&&e.rich_metadata&&e.rich_metadata.products&&e.rich_metadata.products[0]){const t=e.rich_metadata.products[0],i=!(!t.name&&!e.grid_title),o=!(!e.rich_metadata.aggregate_rating||0===e.rich_metadata.aggregate_rating.rating_count&&0===e.rich_metadata.aggregate_rating.review_count||!e.rich_metadata.aggregate_rating.rating_value),r=!(!t.offer_summary||!t.offer_summary.min_price&&!t.offer_summary.price),s=i&&(o||r);return(({isEligible:e,hasName:t,hasAggregateRating:i,hasOffers:o})=>{(0,n.My)("closeup_main_pin.leaf_snippet.is_product",{isEligible:e,hasName:t,hasAggregateRating:i,hasOffers:o})})({isEligible:s,hasName:i,hasAggregateRating:o,hasOffers:r}),s}return!1}},497997:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294);const o=(0,n.createContext)();var r=i(785893);function s({children:e,fallback:t,dangerouslyServerRenderForGraphQL:i=!1}){const s=t||null;(0,n.useContext)(o);return(0,r.jsx)(n.Suspense,{fallback:s,children:e})}},947599:(e,t,i)=>{i.d(t,{Z:()=>n});const n=i(497997).Z},864537:(e,t,i)=>{i.d(t,{Jc:()=>a,NO:()=>s,R3:()=>r,ge:()=>d,th:()=>l});var n=i(643913);const o=["and","that","but","or","as","if","when","than","because","while","where","after","so","though","since","until","whether","before","although","nor","like","once","unless","now","except","the","a","an","san","for","in","with"],r={AUTO_COMPLETE_DEFAULT:"query",AUTO_COMPLETE_HASHTAG:"hashtag",AUTO_COMPLETE_RECENT_SEARCH:"recent_query",AUTO_COMPLETE_RECOMMENDED_SEARCH:"recommended_query",AUTO_COMPLETE_TRENDING:"trending",TYPO_AUTO_CORRECT_ORIGINAL:"typo_auto_original",USER_INPUT:"typed",SEARCH_GUIDE:"add_refine"};function s(e){return(e||"").trim().replace(/\s+/g," ")}function a({type:e,term:t="",index:i}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return`${t}|${e}`;case r.AUTO_COMPLETE_DEFAULT:return`${t}|autocomplete|${i}`;case r.AUTO_COMPLETE_RECENT_SEARCH:return`${t}|recentsearch|${i}`;case r.AUTO_COMPLETE_TRENDING:return`${t}|trending|${i}`;case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:return`${t}|recommended|${i}`;case r.SEARCH_GUIDE:return`${t}|guide|word|${i}`;default:return""}}function l({queryStates:e}){return 0===e.length?"":"&"+(0,n.Z)({term_meta:e.map((e=>a(e)))})}function c(e){if(e){const t=e.trim().split(/\s+/);return t.find((e=>o.includes(e.toLowerCase())))?[e]:t}return[]}function d({type:e,query:t="",index:i}){switch(e){case r.USER_INPUT:case r.AUTO_COMPLETE_HASHTAG:case r.TYPO_AUTO_CORRECT_ORIGINAL:return c(t).map((t=>({index:i,term:t,type:e})));case r.AUTO_COMPLETE_RECENT_SEARCH:case r.AUTO_COMPLETE_RECOMMENDED_SEARCH:case r.AUTO_COMPLETE_TRENDING:case r.AUTO_COMPLETE_DEFAULT:return c(t).map((t=>({term:t,type:e,index:i})));default:return[]}}},909499:(e,t,i)=>{i.d(t,{Hd:()=>s,_R:()=>o,lw:()=>n,wF:()=>r});const n={PINS:"pins",PINS_BUYABLE:"buyable_pins",PINS_MINE:"my_pins",PINS_VIDEO:"videos",BOARDS:"boards",USERS:"users",IDEA_PINS:"idea_pins"},o=e=>{switch(e){case n.PINS:return 43;case n.PINS_MINE:return 107;case n.PINS_BUYABLE:return 254;case n.PINS_VIDEO:return 3306;case n.BOARDS:return 44;case n.USERS:return 45;default:return null}},r=e=>{switch(e){case n.PINS:return 60;case n.PINS_MINE:return 63;case n.PINS_BUYABLE:return 3800;case n.PINS_VIDEO:return 64;case n.BOARDS:return 61;case n.USERS:return 62;default:return null}},s=e=>{switch(e){case n.USERS:return 1000392;case n.PINS_BUYABLE:return 1000391;case n.PINS:default:return 29}}},648284:(e,t,i)=>{function n({appliedProductFilters:e,autoCorrectionDisabled:t,filters:i,query:n,scope:o,selectedPinImgSig:r,user:s}){const a=[o,i,e,s,r,n].map((e=>null!=e?e:"")).join(":");return t?"auto-correction-disabled:"+a:a}function o({autoCorrectionDisabled:e=!1,appliedFilters:t=null,appliedProductFilters:i=null,bubbleId:n=null,filters:o=null,query:r=null,rs:s="direct_navigation",scope:a="pins",selectedPinImgSig:l=null,sourceId:c=null,user:d}){return{article:n,applied_filters:t,appliedProductFilters:i,auto_correction_disabled:e,corpus:l?"personalize":null,customized_rerank_type:l?"manas_graph_sage_only_wand_rewrite":null,filters:o,query:r,query_pin_sigs:l,redux_normalize_feed:!0,rs:s,scope:a,source_id:c,user:d}}function r(e){const{autoCorrectionDisabled:t,appliedProductFilters:i,appliedFilters:n,filters:r,selectedPinImgSig:s,query:a,rs:l,scope:c,bubbleId:d,user:u}=e;return{name:"BaseSearchResource",options:o({autoCorrectionDisabled:!!t,appliedProductFilters:i,appliedFilters:n,filters:r,query:a,rs:l,scope:c,selectedPinImgSig:s,bubbleId:d,user:u})}}i.d(t,{Ht:()=>r,Tb:()=>n,dM:()=>o})},835209:(e,t,i)=>{function n({richPinData:e={}}){return((null==e?void 0:e.products)||[])[0]}i.d(t,{Z:()=>n})},53325:(e,t,i)=>{i.d(t,{$O:()=>a,GZ:()=>c,OE:()=>d,Xv:()=>l,Z0:()=>n,_z:()=>r,fM:()=>s,qA:()=>o,zX:()=>u});const n=40,o=4,r=106,s=133,a=.1,l=10,c=246,d=197,u=236},31149:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(785893);function o({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#EFEFEF"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.1106 19.6408C18.2759 19.551 18.4653 19.5 18.6667 19.5H37.3333C37.5535 19.5 37.7594 19.561 37.9351 19.667C37.9351 19.667 37.9352 19.667 37.9352 19.667L28.7395 27.2024C28.3095 27.5547 27.6905 27.5547 27.2605 27.2024L18.0648 19.667C18.0799 19.6579 18.0951 19.6492 18.1106 19.6408ZM14 20.8611V20.6667C14 18.0893 16.0893 16 18.6667 16H37.3333C39.9107 16 42 18.0893 42 20.6667V20.8611V34.6667C42 37.244 39.9107 39.3333 37.3333 39.3333H18.6667C16.0893 39.3333 14 37.244 14 34.6667V20.8611ZM38.5 23.7292V34.6667C38.5 35.311 37.9777 35.8333 37.3333 35.8333H18.6667C18.0223 35.8333 17.5 35.311 17.5 34.6667V23.7292L25.0422 29.9095C26.7622 31.319 29.2378 31.319 30.9578 29.9096L38.5 23.7292Z",fill:"black"})]})}},659522:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(785893);function o({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("path",{d:"M56 28C56 12.536 43.464 0 28 0S0 12.536 0 28c0 13.975 10.24 25.56 23.625 27.66V36.094h-7.11V28h7.11v-6.169c0-7.017 4.18-10.893 10.576-10.893 3.064 0 6.268.546 6.268.546v6.891h-3.53c-3.479 0-4.564 2.159-4.564 4.373V28h7.766l-1.242 8.094h-6.524V55.66C45.761 53.56 56 41.975 56 28Z",fill:"#1877F2"}),(0,n.jsx)("path",{d:"M38.9 36.094 40.14 28h-7.765v-5.252c0-2.215 1.085-4.373 4.563-4.373h3.53v-6.89s-3.203-.547-6.267-.547c-6.396 0-10.576 3.876-10.576 10.893V28h-7.11v8.094h7.11V55.66a28.206 28.206 0 0 0 8.75 0V36.094h6.524Z",fill:"#fff"})]})}},331744:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(785893);function o({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("path",{d:"M28 56c15.464 0 28-12.536 28-28S43.464 0 28 0 0 12.536 0 28s12.536 28 28 28Z",fill:"#00B900"}),(0,n.jsx)("path",{d:"M46.625 26.32c0-8.335-8.354-15.115-18.625-15.115-10.267 0-18.625 6.78-18.625 15.115 0 7.471 6.627 13.73 15.578 14.91.606.13 1.432.401 1.642.92.187.47.122 1.208.06 1.684l-.265 1.596c-.08.471-.373 1.843 1.615 1.003 1.988-.835 10.724-6.314 14.634-10.812 2.693-2.964 3.986-5.969 3.986-9.3Z",fill:"#fff"}),(0,n.jsx)("path",{d:"M24.215 22.293H22.91c-.201 0-.364.163-.364.364v8.115c0 .2.163.364.364.364h1.306c.2 0 .364-.163.364-.364v-8.12a.363.363 0 0 0-.364-.36ZM33.208 22.293H31.9c-.2 0-.364.163-.364.364v4.82l-3.72-5.02c-.009-.015-.018-.024-.027-.038l-.005-.005-.023-.023c-.005 0-.005-.005-.005-.005-.005-.005-.014-.01-.019-.014l-.009-.01c-.005-.004-.014-.008-.019-.013-.004-.005-.009-.005-.009-.005a.036.036 0 0 0-.019-.01c-.004 0-.009-.004-.009-.004-.005-.004-.014-.004-.019-.01-.004 0-.009-.004-.014-.004l-.023-.01c-.005 0-.01 0-.014-.004-.01 0-.014-.005-.019-.005h-.014c-.004 0-.014 0-.018-.004H26.212c-.2 0-.364.163-.364.364v8.115c0 .2.164.364.364.364h1.307c.2 0 .364-.163.364-.364v-4.82l3.724 5.03a.283.283 0 0 0 .093.089s.005 0 .005.005c.01.004.014.009.023.014.005 0 .005.004.01.004.004.005.01.005.018.01.005.004.01.004.02.009.004 0 .008.005.008.005.01.004.02.004.024.009h.004c.028.01.061.014.094.014h1.306c.201 0 .364-.163.364-.364v-8.125a.37.37 0 0 0-.368-.36ZM21.065 29.097h-3.551v-6.445c0-.2-.164-.364-.364-.364h-1.307c-.2 0-.364.163-.364.364v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306a.358.358 0 0 0-.359-.364ZM40.422 24.323c.201 0 .364-.163.364-.364v-1.307c0-.2-.163-.364-.364-.364h-5.217a.353.353 0 0 0-.252.103l-.005.005c0 .004-.004.004-.004.004a.373.373 0 0 0-.103.252v8.115c0 .098.037.187.103.252l.004.005.005.005c.065.06.154.102.252.102h5.217c.201 0 .364-.163.364-.364v-1.306c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55c.201 0 .364-.164.364-.364v-1.307c0-.2-.163-.364-.364-.364h-3.55v-1.372h3.55v.005Z",fill:"#00B900"})]})}},464240:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(785893);function o({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#1DA1F2"}),(0,n.jsx)("path",{d:"M24.34 42c11.37 0 17.591-9.429 17.591-17.591 0-.265 0-.53-.012-.796a12.596 12.596 0 0 0 3.087-3.207c-1.11.494-2.303.82-3.557.976a6.22 6.22 0 0 0 2.725-3.424 12.299 12.299 0 0 1-3.93 1.495 6.17 6.17 0 0 0-4.51-1.953 6.19 6.19 0 0 0-6.186 6.185c0 .483.06.953.157 1.411-5.136-.253-9.694-2.725-12.744-6.463a6.184 6.184 0 0 0-.832 3.111 6.2 6.2 0 0 0 2.749 5.148 6.254 6.254 0 0 1-2.797-.771v.084a6.196 6.196 0 0 0 4.955 6.065 6.028 6.028 0 0 1-1.628.217c-.397 0-.783-.036-1.157-.109a6.182 6.182 0 0 0 5.775 4.293 12.4 12.4 0 0 1-7.68 2.652c-.494 0-.989-.024-1.471-.084A17.587 17.587 0 0 0 24.34 42Z",fill:"#fff"})]})}},22641:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(785893);function o({size:e=56}){return(0,n.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,n.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#25D366"}),(0,n.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M39.206 16.65A15.75 15.75 0 0 0 27.99 12c-8.74 0-15.854 7.113-15.857 15.855a15.821 15.821 0 0 0 2.117 7.927L12 44l8.406-2.205a15.837 15.837 0 0 0 7.577 1.93h.007c8.74 0 15.853-7.114 15.856-15.857a15.76 15.76 0 0 0-4.64-11.218ZM27.99 41.047h-.005c-2.365 0-4.684-.636-6.708-1.837l-.482-.286-4.988 1.309 1.331-4.864-.313-.499a13.146 13.146 0 0 1-2.015-7.014c.003-7.266 5.915-13.178 13.185-13.178a13.09 13.09 0 0 1 9.318 3.865 13.098 13.098 0 0 1 3.856 9.324c-.003 7.267-5.915 13.18-13.179 13.18Zm7.23-9.871c-.397-.199-2.345-1.157-2.708-1.289-.364-.132-.628-.198-.891.198-.264.397-1.024 1.29-1.255 1.554-.231.264-.462.297-.858.099-.396-.199-1.673-.617-3.187-1.966-1.178-1.051-1.973-2.348-2.204-2.745-.231-.397-.024-.611.173-.808.178-.178.397-.463.595-.695.198-.23.264-.396.396-.66.132-.265.066-.496-.033-.695-.098-.198-.89-2.148-1.221-2.941-.322-.773-.649-.668-.892-.68a16.01 16.01 0 0 0-.759-.014c-.264 0-.693.099-1.057.495-.363.397-1.387 1.356-1.387 3.305 0 1.95 1.42 3.835 1.618 4.1.199.264 2.794 4.265 6.769 5.982.945.409 1.683.653 2.259.835.948.302 1.812.26 2.495.157.76-.114 2.344-.958 2.674-1.884.33-.925.33-1.719.23-1.884-.098-.166-.362-.266-.758-.464Z",fill:"#fff"})]})}},124364:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(898781),o=i(883119),r=i(785893);function s({height:e,isDenseView:t,rounding:i,width:s}){const a=(0,n.ZP)();return(0,r.jsx)(o.xu,{color:"default",display:"flex",justifyContent:"center",alignItems:"center",position:"relative",rounding:i,overflow:"hidden",width:s,height:e,"data-test-id":"unavailable-pin",children:(0,r.jsxs)(o.kC,{direction:"column",alignItems:"center",children:[(0,r.jsx)(o.xu,{paddingY:t?2:4,children:(0,r.jsx)(o.JO,{accessibilityLabel:a._('Pin not available', 'story-pin.Closeup.UnavailableIdeaPin.icon.accessibilityLabel', 'Accessibility label on icon'),color:"default",icon:"alert",size:20})}),(0,r.jsx)(o.xv,{weight:"bold",children:a._('Unavailable', 'story-pin.Closeup.UnavailableIdeaPin.Unavailable', 'Text on an unavailable idea Pin that has been deleted')}),!t&&(0,r.jsx)(o.xu,{paddingY:1,children:(0,r.jsx)(o.xv,{children:a._('Removed by the creator', 'story-pin.Closeup.UnavailableIdeaPin.Removed', 'Text on an unavailable idea Pin explaining it has been removed by its creator')})})]})})}},985913:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(858142);const o=/\{\{\s*(\w+)\s*\}\}/g,r=(e,t)=>(0,n.Z)(o,e,t)},858791:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;")},160585:(e,t,i)=>{function n(e=5){const t="abcdefghijklmnopqrstuvwxyz1234567890";return new Array(e).fill("").map((()=>t[Math.floor(Math.random()*t.length)])).join("")}i.d(t,{Z:()=>n})},936776:(e,t,i)=>{i.d(t,{Z:()=>o});const n=/^[\w.!#$%&'*+\-\/=?\^`{|}~]+@[a-z\d\-]+(\.[a-z\d\-]+)+$/i,o=e=>n.test(e)},927104:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(e,t)=>e.length>t?e.substr(0,t-3).trim()+"":e},858142:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(e,t,i)=>t?t.replace(e,((e,t)=>i&&Object.prototype.hasOwnProperty.call(i,t)?i[t]:"")):""},66699:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(985913),o=i(858791);const r=(e,t)=>{const i={};return Object.keys(t).forEach((e=>{i[e]=t[e]?(0,o.Z)(t[e].toString()):""})),(0,n.Z)(e,i)}},883561:(e,t,i)=>{i.d(t,{ZP:()=>n});function n(e,t=80,i="",n=false){let o;if(!e)return"";if(e.length<=t)return e;if(" "!==e[t-1]&&" "===e[t]||n)o=e.substring(0,t);else{const i=e.lastIndexOf(" ",t);o=e.substring(0,i)}return o=o.replace(/[\- _,.<>:;+=*&@~\/\|!]*$/,""),o+i}},70061:(e,t,i)=>{function n(e){return e.replace(/[_.-](\w|$)/g,((e,t)=>t.toUpperCase()))}i.d(t,{Z:()=>n})},784641:(e,t,i)=>{i.d(t,{E5:()=>c,T7:()=>n,Y_:()=>d,Yj:()=>s,d9:()=>_,nx:()=>u,pe:()=>a,xt:()=>l});i(883119);function n(e,t,i){const n=function(e){return 0===e||2===e?"trending":1===e?"best":"article"}(e),o=function(e){return e.toLowerCase().replace(/[.,\/#!?$%\^&\*+;:{}=\-_`~()\'"]/g,"").trim().replace(/\s+/g,"-")}(t);return`/today/${n}/${encodeURIComponent(o)}/${i}/`}const o={"www.pinterest.com":"US","www.pinterest.co.uk":"GB","www.pinterest.ca":"CA","www.pinterest.com.au":"AU","br.pinterest.com":"BR","www.pinterest.com.mx":"MX","ar.pinterest.com":"AR","www.pinterest.cl":"CL","co.pinterest.com":"CO","www.pinterest.de":"DE","www.pinterest.at":"AT","www.pinterest.ch":"CH","www.pinterest.fr":"FR","in.pinterest.com":"IN","id.pinterest.com":"ID","www.pinterest.jp":"JP"},r={US:"en",GB:"en",CA:"en",AU:"en",BR:"pt",MX:"es",AR:"es",CL:"es",CO:"es",PE:"es",DE:"de",AT:"de",CH:"de",FR:"fr",IN:"en",ID:"id",JP:"ja",IT:"it"},s=(e,t)=>{const i=r[e];return!(null===i||i!==t&&!t.startsWith(i))},a=e=>o[e],l=(e,t,i)=>e||(t||i||""),c=(e,t)=>e||((null==t?void 0:t.origin_pinner)||(null==t?void 0:t.pinner)),d=e=>"todayarticle"===e.type,u=e=>Array.isArray(e)&&e.length>0&&e.every((e=>"story"===e.type)),_=e=>{var t,i;return(null!==(t=e.height)&&void 0!==t?t:1)/(null!==(i=e.width)&&void 0!==i?i:1)}},482981:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(784641);function o(e){const{article_creator_user:t,display_type:i,feed_source:o,header_pin_id:r,id:s,title:a,video_pin:l}=e;switch(i){case 0:case 1:return a?(0,n.T7)(o,a,s):"";case 8:return null!=t&&t.username?`/${encodeURIComponent(t.username)}/`:"";case 3:case 6:return r?`/pin/${r}/`:"";case 2:return null!=l&&l.id?`/pin/${l.id}/`:"";default:return""}}},207112:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(667294),o=i(883119),r=i(785893);class s extends n.Component{constructor(e){var t,i,o;super(e),o={manualTruncate:!1},(i="state")in(t=this)?Object.defineProperty(t,i,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[i]=o,this.ref=(0,n.createRef)()}componentDidMount(){const{maxHeightPx:e,shaveOptions:t={}}=this.props,n=this.ref&&this.ref.current;if(!n)return;const o=void 0===n.textContent?"innerText":"textContent",r=n[o];("boolean"!=typeof t.spaces||t.spaces?r.split(" "):r).length<2?this.setState({manualTruncate:!0}):i.e(14118).then(i.bind(i,448433)).then((({default:i})=>{i(n,e,t)}))}render(){const{maxWidthPx:e,maxHeightPx:t,inline:i=!1}=this.props,{manualTruncate:n}=this.state,s={maxWidth:e,maxHeight:t},a=i?{display:"inline",...s}:{...s};return n?(0,r.jsx)(o.xu,{overflow:"hidden",dangerouslySetInlineStyle:{__style:a},ref:this.ref,children:this.props.children}):(0,r.jsx)(o.xu,{ref:this.ref,dangerouslySetInlineStyle:{__style:a},children:this.props.children})}}const a=s},948618:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),o=i(785893);function r({ariaHidden:e=!1,color:t="darkGray",size:i}){return(0,o.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,o.jsx)(n.xv,{color:t,inline:!0,size:null!=i?i:"200",children:""})})}},939106:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(667294),o=i(948618),r=i(883119),s=i(785893);function a(e){return null!=e}function l({additionalPadding:e,color:t="darkGray",inline:i,items:l}){const c=e?(0,s.jsx)("span",{style:{padding:`0 ${4*e}px`},children:(0,s.jsx)(o.Z,{color:t})}):(0,s.jsx)(o.Z,{color:t}),d=l.filter(a).reduce(((e,t,i)=>[...e,0!==i?c:null,t]),[]).filter(a).map(((e,t)=>(0,s.jsx)(n.Fragment,{children:e},t)));return 0===d.length?null:i?(0,s.jsx)(r.xu,{children:d}):(0,s.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:d})}},250059:(e,t,i)=>{i.d(t,{Z:()=>n});const n=e=>e?"string"==typeof e?e:e.pathname?e.pathname:"":""},508847:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(567831);const o=(e,t)=>0===e.lastIndexOf(t,0),r=({url:e})=>{const t=(0,n.Z)("/");return o(e,t)?e.substr(t.length-1):e}},215292:(e,t,i)=>{i.d(t,{Z:()=>s,q:()=>r});var n=i(667294);const o=()=>{const[e,t]=(0,n.useState)(!1),[i,o]=(0,n.useState)(!1),[r,s]=(0,n.useState)(!1);return{active:e,focused:i,hovered:r,onBlur:()=>{o(!1),t(!1)},onFocus:()=>o(!0),onMouseDown:()=>t(!0),onMouseEnter:()=>s(!0),onMouseLeave:()=>{s(!1),t(!1)},onMouseUp:()=>t(!1)}};function r({children:e}){return e(o())}const s=o},807609:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(411465),o=i(966476);const r=()=>{const e=(0,n.Z)(),t=(0,o.Z)();return e&&!t}},411465:(e,t,i)=>{i.d(t,{G:()=>a,Z:()=>l});var n=i(667294),o=i(276775),r=i(785893);const s=(0,n.createContext)(!0);function a({children:e}){const t=(0,o.TH)(),[i,a]=(0,n.useState)(!0),l=(0,n.useRef)(t);return(0,n.useEffect)((()=>{l.current!==t&&(l.current=t,a(!1))}),[t]),(0,r.jsx)(s.Provider,{value:i,children:e})}function l(){return(0,n.useContext)(s)}},562559:(e,t,i)=>{i.d(t,{Z:()=>y});var n=i(667294),o=i(867631),r=i.n(o),s=i(112690),a=i(19121),l=i(494349),c=i(773285),d=i(780280),u=i(883119),_=i(969315),p=i(179888),h=i(785893);function m(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const E=(e,t)=>{if(t){const i="control"===t?"v3.pinimg.com":"v2.pinimg.com";return e.replace("v.pinimg.com",i)}return e},g=(e,t)=>"string"==typeof e?E(e,t):Array.isArray(e)?((e,t)=>e[0].src&&t?[{...e[0],src:E(e[0].src,t)}]:e)(e,t):e;class f extends n.PureComponent{constructor(...e){super(...e),m(this,"state",{canPlayVideo:!1,isManifestParsed:!1,playbackState:p.Cy.DEFAULT}),m(this,"errorRetryCount",1),m(this,"firstFragBuffered",!1),m(this,"hasPlaybackStarted",!1),m(this,"hasVideoSessionStarted",!1),m(this,"hasVideoSessionEnded",!1),m(this,"hls",null),m(this,"fragStartupTime",{}),m(this,"lastLevelSwitchKbps",null),m(this,"lastStallTime",null),m(this,"lastPauseTime",null),m(this,"logSessionStartOnNextPlay",!1),m(this,"playerId",""),m(this,"videoSessionId",""),m(this,"videoVisibleTime",null),m(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",downloadedKiloBytes:0,errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:"string"==typeof this.props.src?E(this.props.src,this.props.quicExpGroup):E(this.props.src[0].src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0,videoCreatedTime:null}),m(this,"initializeHls",(()=>{this.destroyHls();const{src:e,hlsConfig:t,quicExpGroup:i}=this.props,n=new(r())(t),o=g(e,i);n.loadSource(o),this.videoPlayerRef&&n.attachMedia(this.videoPlayerRef.video),n.on(r().Events.FRAG_BUFFERED,this.handleHlsFragBuffered),n.on(r().Events.FRAG_CHANGED,this.handleHlsFragChanged),n.on(r().Events.FRAG_LOADING,this.handleHlsFragLoading),n.on(r().Events.FRAG_LOADED,this.handleHlsFragLoaded),n.on(r().Events.MANIFEST_PARSED,(()=>{this.setState({isManifestParsed:!0})})),n.on(r().Events.LEVEL_SWITCHED,this.handleHlsLevelSwitched),n.on(r().Events.ERROR,this.handleHlsError),this.hls=n})),m(this,"destroyHls",(()=>{const{hls:e}=this;e&&e.destroy()})),m(this,"addSegment",(e=>{const{segments:t}=this.playbackPerformance,i=t&&t[t.length-1];if(this.hls&&t.length&&i&&i.uri!==e.url){this.updateWatchDurationForCurrentSegment();const i=this.videoPlayerRef&&this.videoPlayerRef.video,n=this.hls&&this.hls.levels||{},o="number"==typeof e.level?n[e.level]:{},r=this.fragStartupTime[e.url];let s=-1;r&&r.startLoadTime&&r.endLoadTime&&(s=r.endLoadTime-r.startLoadTime);const a={indicatedKbps:o.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:this.getCurrentVideoTime(),numServerAddressChange:-1,observedKbps:this.hls&&this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:Date.now(),serverAddress:"",sn:e.sn,sourceWidth:o.width,sourceHeight:o.height,startupTimeMs:s,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:i&&i.clientWidth||-1,viewportHeight:i&&i.clientHeight||-1,watchedDurationMs:0};t.push(a)}})),m(this,"initializeSegments",(e=>{const{contextLogData:t={}}=this.props,{is_closeup_video:i=!1}=t,{segments:n}=this.playbackPerformance;if(!n.length)if(this.hls&&this.videoPlayerRef&&this.videoPlayerRef.video&&e){if(!n.length&&"number"==typeof e.level){const t=this.videoPlayerRef&&this.videoPlayerRef.video,i=this.hls.levels,o="number"==typeof e.level?i[e.level]:{},r=this.fragStartupTime[e.url];let s=-1;r&&r.startLoadTime&&r.endLoadTime&&(s=r.endLoadTime-r.startLoadTime),this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR;const a={indicatedKbps:o.bitrate/p.bR,duration:e.duration,level:e.level,lastStartPlayTime:null,numServerAddressChange:-1,observedKbps:this.hls.bandwidthEstimate/p.bR||-1,playbackStartDate:null,serverAddress:"",sn:e.sn,sourceWidth:o.width,sourceHeight:o.height,startupTimeMs:s,switchBitrateKbps:this.lastLevelSwitchKbps||-1,uri:e.url,viewportWidth:t.clientWidth,viewportHeight:t.clientHeight,watchedDurationMs:0};n.push(a)}}else(0,_.tE)("initializeSegmentsFailed",!0,i)})),m(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*p.gJ:null)),m(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:i,playing:n}=this.props,{is_closeup_video:o=!1}=t,{canPlayVideo:r}=this.state;(0,_.tE)("handleCanPlayVideo",!0,o,{firstCanPlayEvent:!r,playing:n}),this.playbackPerformance.hasFatalError=!1,r||(this.playbackPerformance.canPlayTime=new Date),this.setState({canPlayVideo:!0}),i&&i(e)})),m(this,"handleEnded",(e=>{const{loop:t,onEnded:i}=this.props,{segments:n}=this.playbackPerformance,o=n&&n[n.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),o&&(o.lastStartPlayTime=0),this.fragStartupTime={}):t||this.logPlaybackPerformance(p.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:p.Cy.ENDED}),i&&i(e)})),m(this,"handleHlsError",((e,t)=>{var i;const{contextLogData:n={}}=this.props,{is_closeup_video:o=!1}=n;if(this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${t.details}`,t.fatal){var s,a,l,c;this.playbackPerformance.hasFatalError=!0,this.playbackPerformance.errorName=t.type,this.playbackPerformance.errorReason=t.details,this.playbackPerformance.errorCode=t.response&&t.response.code?t.response.code:0;const e={errorName:t.type,errorReason:t.details,errorRetryCount:this.errorRetryCount,errorMessage:(null===(s=t.err)||void 0===s||null===(a=s.message)||void 0===a?void 0:a.slice(0,50))||"unknown",errorResponse:(null===(l=t.response)||void 0===l||null===(c=l.text)||void 0===c?void 0:c.slice(0,50))||"unknown",playbackState:this.state.playbackState};if((0,_.tE)("fatalError",!0,o,e),this.errorRetryCount>0)switch(this.errorRetryCount-=1,t.type){case r().ErrorTypes.NETWORK_ERROR:if(t.details===r().ErrorDetails.MANIFEST_LOAD_ERROR||t.details===r().ErrorDetails.MANIFEST_LOAD_TIMEOUT||t.details===r().ErrorDetails.MANIFEST_LOAD_PARSING_ERROR){var d;const{src:e,quicExpGroup:t}=this.props,i=g(e,t);null===(d=this.hls)||void 0===d||d.loadSource(i)}else{var u;null===(u=this.hls)||void 0===u||u.startLoad()}break;case r().ErrorTypes.MEDIA_ERROR:null===(i=this.hls)||void 0===i||i.recoverMediaError()}}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:p.Cy.FAILED})})),m(this,"handleHlsFragBuffered",((e,t)=>{this.firstFragBuffered||(this.initializeSegments(t.frag),this.firstFragBuffered=!0)})),m(this,"handleHlsFragChanged",((e,t)=>{this.addSegment(t.frag)})),m(this,"handleHlsFragLoading",((e,t)=>{var i;const n=null===(i=t.frag)||void 0===i?void 0:i.url;n&&!this.fragStartupTime[n]&&(this.fragStartupTime[n]={startLoadTime:new Date})})),m(this,"handleHlsFragLoaded",((e,t)=>{var i;t.frag&&t.frag.loaded&&(this.playbackPerformance.downloadedKiloBytes+=t.frag.loaded/p.Fm);const n=null===(i=t.frag)||void 0===i?void 0:i.url;n&&this.fragStartupTime[n]&&this.fragStartupTime[n].startLoadTime&&(this.fragStartupTime[n].endLoadTime=new Date)})),m(this,"handleHlsLevelSwitched",(()=>{this.hls&&this.hls.bandwidthEstimate&&(this.lastLevelSwitchKbps=this.hls.bandwidthEstimate/p.bR)})),m(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:p.Cy.LOADED_METADATA})})),m(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:p.Cy.LOAD_START})})),m(this,"handleLoadedData",(()=>{this.setState({playbackState:p.Cy.LOADED_DATA})})),m(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:p.Cy.PLAYING})})),m(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),m(this,"handleVideoPause",(()=>{this.state.playbackState!==p.Cy.STALLING&&this.state.playbackState!==p.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:p.Cy.PAUSED})})),m(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==p.Cy.ENDED&&this.setState({playbackState:p.Cy.SEEKING})})),m(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==p.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1),this.setState({playbackState:p.Cy.STALLING})})),m(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===p.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),m(this,"resetPlaybackMetrics",(()=>{this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastLevelSwitchKbps=null,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,switchBitrateKbps:-1,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.downloadedKiloBytes=0,this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),m(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),m(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),m(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),m(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),m(this,"updateStallDuration",(()=>{null!==this.lastStallTime&&(this.playbackPerformance.totalStallDurationMs+=new Date-this.lastStallTime,this.lastStallTime=null)})),m(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),m(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],i=t?t.lastStartPlayTime:null,n=this.getCurrentVideoTime();if(t&&null!==i&&"number"==typeof n&&"number"==typeof i){const e=n-i;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),m(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:i={},userId:n,isAutoPlay:o,logContextEvent:r}=this.props,{is_closeup_video:s=!1}=i,{canPlayTime:a,detailedErrors:l,downloadedKiloBytes:c,errorCode:d,errorName:u,errorReason:h,hasFatalError:m,playbackStartTimestamp:E,totalPauseDurationMs:g,totalStallDurationMs:f,segments:y,srcString:v,loadStartTime:I,numberOfStalls:T,numberOfSeeks:P}=this.playbackPerformance,S=this.videoPlayerRef&&this.videoPlayerRef.video,b=e===p.DR,A=b&&!this.hasVideoSessionStarted,R=!b&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(this.hls&&S&&(A||R)){var x;let A=-1;a&&I&&(A=a>I?a-I:0);let R=-1;a&&this.videoVisibleTime&&(R=a>this.videoVisibleTime?a-this.videoVisibleTime:0),b&&(this.videoSessionId=(0,p.Y7)(n),this.playerId=this.playerId||(0,p.EB)());const O={autoplaying:o,averageVideoKbps:-1,detailedErrors:l,downloadedKiloBytes:c,isCellular:!1,errorCode:d,errorName:u,errorReason:h,fatalError:m,nativeVideoDurationMs:S.duration*p.gJ||-1,numberOfStalls:T,numberOfSeeks:P,overallPausedDurationMs:g,overallBufferDurationMs:f,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:E||-1,segments:[],sessionMark:e,screenPixelScale:null!==(x=window)&&void 0!==x&&x.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:S.clientWidth,startupPlayerHeight:S.clientHeight,startupTimeMs:A,startupLatencyMs:R,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:S.videoWidth,startupVariantHeight:S.videoHeight,videoUrl:v};if(!b&&y.length){const e=this.hls.levels,t=y[0];this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const i=y.reduce(((t,i)=>{if(i&&"number"==typeof i.level&&e&&e.length>0){return t+(e[i.level]||{}).bitrate*(i.watchedDurationMs||0)/p.gJ}return t}),0),n=y.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);let o=null,r=0,s=0;do{r+=y[s].watchedDurationMs,o=o||y[s].level,s+=1}while(s<y.length&&y[s].level===o);O.startupVariantKbps=t.indicatedKbps,O.startupVariantWatchedDurationMs=r,O.startupVariantWidth=t.sourceWidth,O.startupVariantHeight=t.sourceHeight,O.startupPlayerWidth=t.viewportWidth,O.startupPlayerHeight=t.viewportHeight,O.overallWatchedDurationMs=n,n>0?(O.averageVideoKbps=i/(n/p.gJ),O.rebufferRate=this.playbackPerformance.totalStallDurationMs/n):0===n&&(O.averageVideoKbps=-1,O.rebufferRate=-1,O.errorName="invalid_watch_duration"),O.segments=y}else O.errorName="invalid_watch_duration";(0,_.ZP)(O,!0,s,{playbackState:this.state.playbackState,...t});const{clientTrackingParams:C,component:w,durationNs:N,element:D,objectId:L,pairId:k,viewData:M,view:j,viewParameter:U,...F}=i;r({aux_data:{...F,is_closeup_video:s,playback_session_id:this.videoSessionId},clientTrackingParams:C,component:w,duration_ns:N,element:D,event_data:{videoPerformanceData:O},event_type:3606,object_id_str:L,pair_id:k,view_data:M,view_parameter:U,view_type:j}),b?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,_.tE)(b?"sessionStart":"sessionEnd",!0,s,{playbackState:this.state.playbackState,...t})}}))}componentDidMount(){const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:i=!1}=e;this.playbackPerformance.videoCreatedTime=new Date,this.initializeHls(),(0,_.tE)("videoMounted",!0,i),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(p.DR,{initiator:"mount"}))}componentDidUpdate(e){const{loop:t,playing:i,src:n,visible:o,appInFocus:r}=this.props;var s,a;(typeof(s=e.src)!=typeof(a=n)||(Array.isArray(a)?s.length!==a.length||a.some(((e,t)=>!Array.isArray(s)||e.type!==s[t].type||e.src!==s[t].src)):a!==s))&&this.initializeHls(),e.appInFocus&&!r&&(this.logPlaybackPerformance(p.$f,{initiator:"update",loop:t}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===o&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"update",loop:t})),!1===e.visible&&!0===o&&(this.videoVisibleTime=this.videoVisibleTime||new Date,i?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),i&&r&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(p.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(p.$f,{initiator:"unmount",loop:e}),this.destroyHls()}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:o,accessibilityProgressBarLabel:r,accessibilityUnmuteLabel:s,aspectRatio:a,backgroundColor:l,captions:c,controls:d,loop:_,loopOverride:p,onDurationChange:m,onFullscreenChange:E,onLoadedChange:f,onControlsPlay:y,onPlayheadDown:v,onPlayheadUp:I,onSeek:T,onVolumeChange:P,playbackRate:S,playing:b,playsInline:A,poster:R,preload:x,quicExpGroup:O,src:C,volume:w}=this.props,{canPlayVideo:N,isManifestParsed:D}=this.state,L=g(C,O);return(0,h.jsx)(u.nk,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:o,accessibilityProgressBarLabel:r,accessibilityUnmuteLabel:s,aspectRatio:a,backgroundColor:l,captions:c,controls:d,loop:void 0===p?_:p,onDurationChange:m,onEnded:this.handleEnded,onFullscreenChange:E,onLoadStart:this.handleLoadStart,onLoadedChange:f,onControlsPause:this.handleUserPause,onControlsPlay:y,onPlaying:this.handlePlaying,onPlayheadDown:v,onPlayheadUp:I,onReady:this.handleCanPlayVideo,onSeek:T,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:P,onWaiting:this.handleStalled,playbackRate:S,onPlay:()=>{},onPlayError:()=>{},playing:D&&N&&b,playsInline:A,poster:R,preload:x,ref:this.setVideoPlayerRef,src:L,volume:w})}}const y=(0,n.memo)((function(e){const{country:t,isAuthenticated:i,isBot:n,isSocialBot:o,unauthId:r,userAgent:u}=(0,d.B)(),p=(0,s.Z)(),m=(0,a.Z)(),{browserName:E,browserVersion:g,isMobile:y}=u,{contextLogData:v={}}=e,{is_closeup_video:I=!1,view:T,viewParameter:P}=v,{checkExperiment:S}=(0,c.F)();let b=null;i&&(b=S("web_video_quic").group.length?S("web_video_quic").group:null);const{appUI:A}=(0,l.I)(),R=S("web_video_fail_to_start_fix").anyEnabled?A.appInFocus:e.appInFocus,x={browserName:E,browserVersion:g,country:t,isAuthenticated:i,isBot:n,is_closeup_video:I,isMobile:y,isSocialBot:o,view:T,viewParameter:P};return(0,_.r$)(x),(0,h.jsx)(f,{...e,userId:m.id||r,appInFocus:R,quicExpGroup:b,logContextEvent:p})}))},36971:(e,t,i)=>{function n(e,t){const{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,o={...i,...n};return o[e]&&o[e].currentTime}i.d(t,{Z:()=>n})},428258:(e,t,i)=>{i.d(t,{Z:()=>r,t:()=>o});const n=()=>{var e,t;const i="undefined"!=typeof window?null===(e=window.navigator)||void 0===e||null===(t=e.connection)||void 0===t?void 0:t.effectiveType:void 0;let n,o=null===(r=window)||void 0===r||!r.devicePixelRatio||window.devicePixelRatio<=1?"1x":"2x";var r;return i?"4g"===i?n="40-80":(o="1x",n="0-1"):n="unknown",{downloadSpeedGroup:n,screenDimension:o}};function o(e){const{downloadSpeedGroup:t,screenDimension:i}=n(),o={"1x":e.V_EXP3,"2x":e.V_EXP5},r={"1x":e.V_EXP7,"2x":e.V_EXP7};return{unknown:o,"0-1":o,"1-5":{"1x":e.V_EXP4,"2x":e.V_EXP5},"5-10":{"1x":e.V_EXP5,"2x":e.V_EXP5},"10-20":{"1x":e.V_EXP6,"2x":e.V_EXP6},"20-40":r,"40-80":r,"80_or_above":r}[t][i]||e.V_720P||void 0}function r(e){const{video_list:t={}}=e,i=o(t),n=t.V_HLSV3_MOBILE||void 0;return i?{hlsv3:n,mp4:i}:{hlsv3:n}}},868565:(e,t,i)=>{function n(e){const t=e.videos&&e.videos.video_list&&Object.keys(e.videos.video_list).length>0?e.videos.video_list:null;return t?t.V_HLSV3_MOBILE||t.V_HLSV4||t.V_720P:null}i.d(t,{Z:()=>n})},463045:(e,t,i)=>{function n(e,t){const{organicVideosAutoplaying:i,promotedVideosAutoplaying:n}=t,o={...i,...n};return!!o[e]&&!o[e].paused}i.d(t,{Z:()=>n})},969315:(e,t,i)=>{i.d(t,{ZP:()=>u,r$:()=>c,tE:()=>d});var n=i(311560),o=i(172071),r=i(179888);const s=["isCellular","videoUrl","sessionMark"];let a={},l="";const c=e=>{const{browserName:t,browserVersion:i,country:o,isAuthenticated:r,isBot:s,isMobile:c,isSocialBot:d,view:u="unknown",viewParameter:_="unknown"}=e;l=(d?"socialBot":s&&"bot")||"nonbot";const p=(0,n.Z)(o);a={browserName:t,browserVersion:(null==i?void 0:i.split(".")[0])||"0",isAuthenticated:r,isMobile:c,region:p,view:u,viewParameter:_}};function d(e,t,i,n={}){const r=i?"closeup":"nonCloseup",s=t?"hls":"nonHls",c={...n,...a},d=`web.video.${s}.${l}.${r}.${e}`;o.Z.increment(d,1,c)}function u(e,t,i,n={}){const c=i?"closeup":"nonCloseup",d=t?"hls":"nonHls",u=e.sessionMark===r.DR?"sessionStart":"sessionEnd",_={...n,...a};if(Object.entries(e).forEach((([t,i])=>{const n=`web.video.${d}.${l}.${c}.${u}.${t}`,r=parseInt(i,10),a="number"==typeof r?r:-1;var p;if(!s.includes(t))if(t.includes("fatalError")&&!0===i){const{errorCode:t,errorName:i,errorReason:r}=e;o.Z.increment(n,1,{errorCode:t,errorName:i,errorReason:r,..._})}else if(t.includes("Width")||t.includes("Height")){const e=(p=a)<0?"negative":0===p?"zero":p<200?"xs":p<400?"s":p<600?"m":p<800?"l":p<1e3?"xl":p<1200?"xxl":"over1200";o.Z.increment(n,1,{dimensionBucket:e,..._})}else if("numberOfStalls"===t){let e=i;a>1e3?e="over1000":a>10?e="over10":a<0&&(e="negative"),o.Z.increment(n,1,{numberOfStalls:e,..._})}else"screenPixelScale"===t?o.Z.increment(n,1,{screenPixelScale:i||-1,..._}):a>=0?(0===a&&o.Z.increment(`${n}.zero`,1,_),o.Z.timing(n,a,1),o.Z.timing(`${n}_with_tags`,a,1,_)):a<0&&o.Z.increment(`${n}.negative`,1,_)})),e.sessionMark!==r.DR){const{rebufferRate:t,screenPixelScale:i,startupLatencyMs:n,startupVariantWidth:r,startupPlayerWidth:s}=e,a=`web.video.${d}.${l}.${c}.${u}`;if("number"==typeof r&&"number"==typeof s&&"number"==typeof i){const e=1.5*r>i*s;o.Z.increment(`${a}.upscaled.${e?"good":"bad"}`,1,_)}"number"==typeof n&&o.Z.increment(`${a}.startupLatency.${n<500?"good":"bad"}`,1,_),"number"==typeof t&&o.Z.increment(`${a}.rebufferRate.${t<.01?"good":"bad"}`,1,_)}}},179888:(e,t,i)=>{i.d(t,{$f:()=>r,Cy:()=>c,DR:()=>o,EB:()=>_,Fm:()=>l,Y7:()=>u,bR:()=>a,gJ:()=>s,lG:()=>d});var n=i(172045);const o=1,r=2,s=1e3,a=1e3,l=1e3,c=Object.freeze({DEFAULT:0,LOAD_START:1,LOADED_METADATA:2,LOADED_DATA:3,PLAYING:4,PAUSED:5,SEEKING:6,STALLING:7,FAILED:8,ENDED:9}),d=Object.freeze({MEDIA_ERR_ABORTED:1,MEDIA_ERR_NETWORK:2,MEDIA_ERR_DECODE:3,MEDIA_ERR_SRC_NOT_SUPPORTED:4});function u(e){return e+"-"+(0,n.Z)()}function _(){return(0,n.Z)()}},121630:(e,t,i)=>{i.d(t,{e:()=>n});const n=e=>{if("undefined"==typeof window)return"";let t=0;const i=document.querySelector('[data-test-id="header"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}switch(e){case"AuthHomefeed":const e=document.querySelector('[data-root-margin="more-ideas-tabs"]');if(null!==e){const{height:i}=e.getBoundingClientRect();t+=i}break;case"SearchItem":const i=document.querySelector('[data-root-margin="search-improvements-bar"]');if(null!==i){const{height:e}=i.getBoundingClientRect();t+=e}const n=document.querySelector('[data-test-id="search-tab-bar"],[data-root-margin="search-one-bar"]');if(null!==n){const{height:e}=n.getBoundingClientRect();t+=e}}return-1*t+"px 0px 0px 0px"}},905723:(e,t,i)=>{i.d(t,{Z:()=>n});const n={V_HLSV4:"V_HLSV4",V_720P:"V_720P"}},229428:(e,t,i)=>{function n(e){return e.filter((e=>e.is_stela))}function o(e){return e.filter((e=>!!e.label))}i.d(t,{k:()=>n,m:()=>o})},43760:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(768559),o=i(102500),r=i(48714);function s({url:e,pinId:t,pin:i,location:s,auxData:a}){const l={check_only:!0,client_tracking_params:i?(0,n.Z)(i,s):void 0,pin_id:i?i.id:t,url:e,aux_data:JSON.stringify(a)};(0,o.Z)(l).callGet().then((o=>{if(o&&o.resource_response&&!o.resource_response.error){const{resource_response:e}=o,{redirect_status:t,url:i}=e.data;if(!["blocked","suspicious","porn"].includes(t)){if(window.Windows.Foundation&&window.Windows.System&&window.Windows.System.Launcher&&window.Windows.System.Launcher.launchUriAsync){const e=new window.Windows.Foundation.Uri(i);window.Windows.System.Launcher.launchUriAsync(e)}return}}if(i){const o=(0,n.Z)(i,s);(0,r.Gj)({url:e,pinId:t,csrId:null,clientTrackingParams:o,auxData:a})}else(0,r.Gj)({url:e,pinId:t})}))}},869899:(e,t,i)=>{i.r(t),i.d(t,{RoleBasedAccessControlProvider:()=>y,useRoleBasedAccessControlContext:()=>f});var n=i(667294),o=i(389643),r=i(784590),s=i(19121),a=i(773285),l=i(425288),c=i(70061);const d=e=>{const t={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&("object"!=typeof e[i]||null===e[i]||Array.isArray(e[i])?t[(0,c.Z)(i)]=e[i]:t[(0,c.Z)(i)]=d(e[i]));return t},u=(e,t)=>{const i=[];for(const r in e)r!==t&&i.push({id:r,...d(e[r])});const n=i.sort((({user:{businessName:e}},{user:{businessName:t}})=>e.localeCompare(t))),o=new Map;for(const r of n)o.set(r.id,r);return o};var _=i(622096);const p={profiles:new Map,headerVisible:!1,orbacVisibility:!1,activeProfile:void 0,disableProfileChanger:!1},h=(e,t)=>{switch(t.type){case"LOAD_PROFILES":return{...e,profiles:t.payload};case"SET_ACTIVE_PROFILE":return{...e,activeProfile:t.payload};case"TOGGLE_HEADER_VISIBILITY":return{...e,headerVisible:t.payload};case"TOGGLE_ORBAC_VISIBILITY":return{...e,orbacVisibility:t.payload};case"TOGGLE_DISABLE_PROFILE_CHANGER":return{...e,disableProfileChanger:t.payload};default:return e}},m=e=>{const[t,i]=(0,n.useReducer)(h,p),o=(({dispatch:e,isEnabled:t,state:i})=>{const{orbacVisibility:o,disableProfileChanger:r,headerVisible:s}=i;return{changeProfile:(0,n.useCallback)((i=>{t&&e({type:"SET_ACTIVE_PROFILE",payload:i})}),[t,e]),toggleORBACVisibility:(0,n.useCallback)((i=>{t&&e({type:"TOGGLE_ORBAC_VISIBILITY",payload:null!=i?i:!o})}),[t,e,o]),toggleDisableProfileChanger:(0,n.useCallback)((i=>{t&&e({type:"TOGGLE_DISABLE_PROFILE_CHANGER",payload:null!=i?i:!r})}),[t,e,r]),toggleHeaderVisibility:(0,n.useCallback)((i=>{t&&e({type:"TOGGLE_HEADER_VISIBILITY",payload:null!=i?i:!s})}),[t,e,s])}})({dispatch:i,isEnabled:e,state:t}),{activeProfile:r,orbacVisibility:s}=t;(0,n.useEffect)((()=>{const e=(0,_.qn)("orbacActiveProfile",!1);e&&i({type:"SET_ACTIVE_PROFILE",payload:e})}),[]),(0,n.useEffect)((()=>{const e=(0,_.qn)("orbacVisibilty",!1);e&&i({type:"TOGGLE_ORBAC_VISIBILITY",payload:e})}),[]),(0,n.useEffect)((()=>{(0,_.Nh)("orbacVisibility",s)}),[s]),(0,n.useEffect)((()=>{(0,_.Nh)("orbacActiveProfile",r)}),[r]);return{state:t,actions:o,receiveProfiles:(0,n.useCallback)(((e,t)=>{i({type:"LOAD_PROFILES",payload:u(e,t)})}),[i])}};var E=i(785893);const{Provider:g,useMaybeHook:f}=(0,l.Z)("RoleBasedAccessControlContext"),y=({children:e})=>{const{checkExperiment:t}=(0,a.F)(),i=(0,s.Z)(),l=Boolean(i.isAuth&&i.isPartner&&t("web_m10n_business_access_orbac_www").anyEnabled),{state:c,actions:d,receiveProfiles:u}=m(l),{activeProfile:_,headerVisible:p,profiles:h=[]}=c,f=h?Array.from(h.values()):[],y=(0,o.Z)(f),v=!!(i.isAuth&&f.length>0)&&y,I=i.isAuth?i.id:"",T=i.isAuth?i.username:"",{changeProfile:P,toggleORBACVisibility:S,toggleDisableProfileChanger:b,toggleHeaderVisibility:A}=d;(0,n.useEffect)((()=>{l&&("string"!=typeof y?_||P(I):P(y))}),[y,I,l,P,_]),(0,n.useEffect)((()=>{l&&(v&&!p&&A(!0),!v&&p&&A(!1))}),[A,v,l,p,h]);const{data:R}=(0,r.Z)({name:"ApiResource",options:{url:"/vx/business_access/profiles/",disable_auth_failure_redirect:!0},dangerouslyDisableFetch:!l}),x=null==R?void 0:R.profiles;let O;i&&i.isAuth&&c.activeProfile===i.id?O={id:i.id,permissions:["OWNER"],user:{username:T,businessName:i.fullName,imgUrl:i.imageSmallUrl}}:_&&c.profiles&&(O=c.profiles.get(_)),(0,n.useEffect)((()=>{x&&u(x,I)}),[u,x,I]);const C=c.profiles?Array.from(c.profiles.values()):[];return(0,E.jsx)(g,{value:{profiles:C,headerVisible:c.headerVisible,activeProfile:O,changeProfile:P,toggleORBACVisibility:S,toggleDisableProfileChanger:b,toggleHeaderVisibility:A},children:e})}},717615:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(773285),o=i(869899);const r=()=>{const{checkExperiment:e}=(0,n.F)(),t=(0,o.useRoleBasedAccessControlContext)(),{activeProfile:i}=t||{};return e("web_m10n_business_access_orbac_www").anyEnabled&&i||Object.freeze({})}},389643:(e,t,i)=>{i.d(t,{Z:()=>l});var n=i(702664),o=i(19121),r=i(773285),s=i(53987),a=i(276775);const l=e=>{var t;const i=(0,a.TH)(),l=(0,o.Z)(),{anyEnabled:c}=(0,r.F)().checkExperiment("web_m10n_business_access_orbac_www"),d=(0,a.$B)("/:username"),u=null==d||null===(t=d.params)||void 0===t?void 0:t.username,_=(0,a.$B)("/pin/:id"),p=(0,n.useSelector)((e=>{var t,i,n,o;return!(null==_||null===(t=_.params)||void 0===t||!t.id)&&(null==e||null===(i=e.pins)||void 0===i||null===(n=i[_.params.id])||void 0===n||null===(o=n.pinner)||void 0===o?void 0:o.id)}));if((0,s.ej)(i))return!1;if((0,s.RU)(i))return!0;if((0,s.mY)(i))return c;const h=e.concat(l.isAuth?{user:{username:l.username},id:l.id}:{}).find((e=>{const{user:t={},id:i}=e||{},{username:n}=t;return!!(n&&u||p&&i)&&(n===u||p===i)}));return!!h&&h.id}},231947:(e,t,i)=>{i.d(t,{D3:()=>c,DX:()=>a,KY:()=>d,Ms:()=>n,N1:()=>u,_P:()=>s,lJ:()=>r,nl:()=>o,q6:()=>l});const n=(e,t)=>{let i=e&&e.isAuth?e.username:"";return e&&t&&t.user&&t.user.username&&(i=t.user.username),i},o=(e,t)=>Boolean(t&&t.user&&e&&e.isAuth&&t.id!==e.id?t.user.eligibleForStlTool:e&&e.isAuth&&e.eligibleForStlTool),r=(e,t)=>e&&e.isAuth&&t&&t.id&&t.id!==e.id?t.id:"",s=(e,t,i)=>{var n;return i&&i.user&&t&&t.isAuth&&i.id!==t.id?i.user.merchantId:null===(n=e.advertiser)||void 0===n?void 0:n.merchant_id},a=(e,t,i)=>i&&i.user&&e.isAuth&&i.id!==e.id?i.user.scheduledPinCount||0:e.isAuth&&t&&t.scheduled_pin_count||0,l=(e,t,i)=>!!(e&&e.isAuth&&i&&i.id&&i.id!==e.id&&i.id===t),c=(e,t,i)=>!!(l(e,t,i)||e&&e.isAuth&&t===e.id),d=(e,t,i)=>{const n=t&&t.owner&&t.owner.id||"";return c(e,n,i)};function u(e,t,i){const n=t?t.id:"";return c(e,n,i)}},494349:(e,t,i)=>{i.d(t,{g:()=>p,I:()=>_});var n=i(667294),o=i(567450),r=i(150361),s=i.n(r);const a={appInFocus:!0,footerPlusButtonVisible:!0,isAutoplay:!1,showTypeaheadOverlay:!1,videosAutoplaying:{organicVideosAutoplaying:{},promotedVideosAutoplaying:{}},viewportSize:"lg"},l=(e=a,t)=>{if("TOGGLE_TYPEAHEAD_OVERLAY"===t.type)return{...e,showTypeaheadOverlay:t.payload};if("SET_CURRENT_VIDEO"===t.type){const{payload:i}=t,{pinId:n,isPromoted:o,currentTime:r}=i,{videosAutoplaying:a}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:c}=a,d=s()(l),u=s()(c);return o?d[n]={pinId:n,currentTime:r,paused:!1}:u[n]={pinId:n,currentTime:r,paused:!1},{...e,videosAutoplaying:{promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}if("SET_IS_AUTOPLAY"===t.type)return{...e,isAutoplay:t.payload};if("PAUSE_CURRENT_VIDEO"===t.type){const{payload:i}=t,{pinId:n,isPromoted:o,currentTime:r}=i,{videosAutoplaying:a}=e,{promotedVideosAutoplaying:l,organicVideosAutoplaying:c}=a,d=s()(l),u=s()(c);return o?d[n]={...d[n],paused:!0,currentTime:r}:u[n]={...u[n],paused:!0,currentTime:r},{...e,videosAutoplaying:{promotedVideosAutoplaying:d,organicVideosAutoplaying:u}}}return"SET_APP_FOCUS_STATE"===t.type?{...e,appInFocus:t.payload}:"SET_VIEWPORT_SIZE"===t.type?{...e,viewportSize:t.payload}:"SET_FOOTER_VISIBILITY_STATE"===t.type?{...e,footerPlusButtonVisible:t.payload}:e};var c=i(425288),d=i(785893);const{Provider:u,useHook:_}=(0,c.Z)("AppUI");function p({children:e}){const[t,i]=(0,n.useReducer)(l,a),r=(0,n.useCallback)((e=>i({type:"PAUSE_CURRENT_VIDEO",payload:e})),[]),s=(0,n.useCallback)((e=>i({type:"SET_APP_FOCUS_STATE",payload:e})),[]),c=(0,n.useCallback)((e=>i({type:"SET_CURRENT_VIDEO",payload:e})),[]),_=(0,n.useCallback)((e=>i({type:"SET_FOOTER_VISIBILITY_STATE",payload:e})),[]),p=(0,n.useCallback)((e=>i({type:"SET_IS_AUTOPLAY",payload:e})),[]),h=(0,n.useCallback)((e=>i({type:"SET_VIEWPORT_SIZE",payload:e})),[]),m=(0,n.useCallback)((e=>i({type:"TOGGLE_TYPEAHEAD_OVERLAY",payload:e})),[]),E=(0,n.useMemo)((()=>({pauseAutoplay:r,setCurrentVideo:c,setFooterPlusButtonVisible:_,setIsAutoplay:p,setViewportSize:h,toggleTypeaheadOverlay:m,setAppFocusState:s,appUI:t})),[r,c,_,p,h,m,s,t]);return(0,n.useEffect)((()=>{o.Z.onSessionResume((()=>{s(!0)})).onSessionPause((()=>{s(!1)}))}),[s]),(0,d.jsx)(u,{value:E,children:e})}},698447:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(605707),o=i(883119),r=i(785893);const s={chip:{marginRight:1,flex:"1 1 0"},chipInner:{paddingBottom:"100%"},chipContainer:{marginRight:-1}};function a({pin:e,enableCloseupLink:t}){const{aggregated_pin_data:i}=e,{pin_tags_chips:a}=i||{},l=a&&a.length>=3?a.slice(0,3):[];return(0,r.jsx)(o.xu,{display:"flex",dangerouslySetInlineStyle:{__style:s.chipContainer},children:l.map((i=>{var a,l,c,d;const u=(null===(a=i.images)||void 0===a?void 0:a["750x"])||{},_=(0,r.jsx)(o.Ee,{alt:"",fit:"cover",naturalHeight:null!==(l=u.height)&&void 0!==l?l:1,naturalWidth:null!==(c=u.width)&&void 0!==c?c:1,role:"presentation",src:null!==(d=u.url)&&void 0!==d?d:""});return(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:s.chip},"data-test-id":"collageChip",children:(0,r.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:s.chipInner},position:"relative",children:(0,r.jsx)(o.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,children:(0,r.jsx)(o.zd,{height:"100%",wash:!0,width:"100%",children:t?(0,r.jsx)(n.Z,{sizing:"fullSize",collageChipId:i.id,pin:e,children:_}):_})})})},i.id)}))})}},542563:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(667294),o=i(407043),r=i(946595);function s(e,t){const{logContextEvent:i}=(0,o.v)(),{componentType:s,contextLogData:a,viewParameter:l,viewType:c}=(0,r.E)(),{aux_data:d,view_type:u,view_parameter:_,component:p,...h}=null!=t?t:{};return(0,n.useCallback)((()=>{i({event_type:e,view_type:u||c,view_parameter:_||l,component:p||s,...h,aux_data:{...d,...a}})}),[i,d,h,_,u,p,s,a,e,l,c])}},423217:(e,t,i)=>{i.d(t,{X:()=>o,Z:()=>r});var n=i(667294);const o=120;function r(e,t=0,i=o){const[r,s]=(0,n.useState)(e?"active":"inactive");return(0,n.useEffect)((()=>{if(!e){const e=setTimeout((()=>s("inactive")),i);return()=>{clearTimeout(e)}}if(t){const e=setTimeout((()=>s("active")),t);return()=>{clearTimeout(e)}}s("active")}),[e]),r}},758523:(e,t,i)=>{i.d(t,{$:()=>r,B:()=>o});var n=i(425288);const{Provider:o,useHook:r}=(0,n.Z)("SurfaceContext",{surface:"Unknown"})},946595:(e,t,i)=>{i.d(t,{B:()=>o,E:()=>r});var n=i(425288);const{Provider:o,useHook:r}=(0,n.Z)("trackingParametersContext")},605707:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(66699),o=i(898781),r=i(287072),s=i(35495),a=i(855875),l=i(704177),c=i(883119),d=i(407043),u=i(773285),_=i(946595),p=i(785893);function h({sizing:e="default",children:t,collageChipId:i,componentType:h,contextLogData:m,elementType:E,pin:g,viewParameter:f,viewType:y}){const v=(0,o.ZP)(),{logContextEvent:I}=(0,d.v)(),{checkExperiment:T}=(0,u.F)(),P=(0,_.E)(),{group:S}=T("web_search_share_skin_tone_filter",{dangerouslySkipActivation:!0}),{carousel_data:b,id:A}=g;let R,x=`/pin/${i||A}/`;if(g.nftData&&(x=`/nft-assets/${g.nftData.contract.address}/${g.nftData.tokenId}/`),b){const{carousel_slots:e=[],id:t,index:i=0}=b;x=`/pin/${A}/`,R={carousel_slot_id:e[i]&&e[i].id,carousel_data_id:t,carousel_slot_index:i}}R={...R||{},...(0,s.Kl)(g,m)||{}};const O=(0,r.Z)({href:x,externalData:{auxData:R,pin:g}});return(0,p.jsx)(c.iP,{accessibilityLabel:(0,n.Z)(v._('{{ pinTitle }} pin page', 'pinRep.closeupLink.tapArea.accessibilityLabel', 'Accessibility label with pin title on individual links'),{pinTitle:g.grid_title||g.title||g.description||""}),mouseCursor:"zoomIn",rounding:2,onTap:({event:e,dangerouslyDisableOnNavigation:t})=>{t(),(()=>{if(I({event_type:101,component:h||P.componentType,element:E,object_id_str:A,view_type:y||P.viewType,view_parameter:f||P.viewParameter,aux_data:{...m,...(0,s.Kl)(g,m)||{}}}),I({event_type:8948,view_type:y||P.viewType,view_parameter:f||P.viewParameter,component:h||P.componentType,element:E,object_id_str:A,aux_data:{closeup_navigation_type:"click",...m,...(0,s.Kl)(g,m)||{}}}),S){const e=Number(l.y7.getItem(a.J)||0);l.y7.setItem(a.J,e+1)}})(),O({event:e})},fullWidth:"fullSize"===e,fullHeight:"fullSize"===e,href:x,role:"link",children:t})}},31658:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),o=i(785893);function r({children:e,additionalStyles:t={}}){return(0,o.jsx)(n.xu,{position:"absolute",top:!0,left:!0,right:!0,bottom:!0,dangerouslySetInlineStyle:{__style:{pointerEvents:"none",...t}},children:e})}},50385:(e,t,i)=>{i.d(t,{Z:()=>f});var n=i(667294),o=i(499128),r=i(898781),s=i(883119),a=i(785893);function l(e){const t=(0,r.ZP)(),{onHide:i}=e,n=(0,a.jsx)(s.xv,{children:t._('Thank you for helping improve signal detection on Pinterest!', 'pinRep.actionBar.signalDetector.toast', 'Toast text displayed when a user submits a signal for review')});return(0,a.jsx)(o.ZP,{onHide:i,text:n})}var c=i(6637),d=i(19121),u=i(343341);const _=function({anchor:e,onDismiss:t,pinId:i,signals:o}){const _=(0,r.ZP)(),[p,h]=(0,n.useState)(0),m=(0,d.Z)(),{showOneToast:E}=(0,u.F9)();if(!m.isEmployee)return null;const g=o.map((({signal_message:e})=>({href:"#",text:null!=e?e:""}))),{background_color:f,icon_url:y,signal_id:v,signal_message:I}=o[p];return(0,a.jsx)(s.mh,{children:(0,a.jsx)(s.J2,{anchor:e,idealDirection:"right",onDismiss:t,positionRelativeToAnchor:!1,size:"lg",children:(0,a.jsxs)(s.xu,{padding:4,width:"100%",children:[o.length>1&&(0,a.jsx)(s.xu,{overflow:"scrollX",padding:1,marginBottom:4,children:(0,a.jsx)(s.mQ,{activeTabIndex:p,onChange:({event:e,activeTabIndex:t,dangerouslyDisableOnNavigation:i})=>{i(),(({activeTabIndex:e,event:t})=>{t.preventDefault(),h(e)})({activeTabIndex:t,event:e})},tabs:g})}),(0,a.jsx)(s.kC,{alignItems:"center",justifyContent:"start",children:(0,a.jsx)(s.X6,{size:"400",children:_._('Signal detected:', 'pinRep.actionBar.signalDetector.header', 'Header for signal detector flyout')})}),(0,a.jsx)(s.xu,{paddingY:3,children:(0,a.jsxs)(s.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"center",children:[(0,a.jsx)(s.xu,{height:40,overflow:"hidden",rounding:"circle",width:40,children:y?(0,a.jsx)(s.Ee,{alt:_._('Signal display', 'pinRep.actionBar.signalDetector.signalAsset', 'Asset to represent the signal detected'),color:"white",naturalHeight:1,naturalWidth:1,src:y}):(0,a.jsx)(s.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:f}},height:40,width:40})}),(0,a.jsx)(s.xv,{size:"200",children:I})]})}),(0,a.jsx)(s.xu,{marginBottom:3,children:(0,a.jsx)(s.xv,{size:"200",children:_._('If you think this detection is inaccurate, please send this Pin for review. It will help improve Pinterest.', 'pinRep.actionBar.signalDetector.instructions', 'Instructions to the user for how to handle inaccurate detection')})}),(0,a.jsxs)(s.kC,{alignItems:"center",gap:{row:2,column:0},justifyContent:"start",children:[(0,a.jsx)(s.zx,{fullWidth:!0,color:"red",size:"md",text:_._('Send for review', 'pinRep.actionBar.signalDetector.button.review', 'Button label for users to send the pin for review'),onClick:()=>{const e={pin_id:i,signal_id:v,user:m.id};c.Z.create("SignalReviewRequestResource",e).callCreate(),t(),E((({hideToast:e})=>(0,a.jsx)(l,{onHide:e})))}}),(0,a.jsx)(s.zx,{fullWidth:!0,color:"gray",size:"md",text:_._('Cancel', 'pinRep.actionBar.signalDetector.button.cancel', 'Button label for users to cancel'),onClick:t})]})]})})})};var p=i(241244),h=i(319915),m=i(947599),E=i(215292);function g({signals:e,pinId:t}){const{background_color:i,icon_url:o,signal_message:r}=e[0],[l,c]=(0,n.useState)(!1),d=(0,n.useRef)();return(0,a.jsxs)(n.Fragment,{children:[(0,a.jsx)(h.Z,{name:"SafeSuspense_DebugSignal_FeedbackButton",children:(0,a.jsx)(m.Z,{children:(0,a.jsx)(s.xu,{"data-test-id":"debug-signals-feedback-button",children:(0,a.jsx)(p.Z,{children:(0,a.jsx)(E.q,{children:({hovered:e,onMouseEnter:t,onMouseLeave:n})=>(0,a.jsx)(s.iP,{onTap:()=>c((e=>!e)),rounding:"pill",onMouseEnter:t,onMouseLeave:n,children:(0,a.jsxs)(s.xu,{color:e?"dark":"transparentDarkGray",rounding:"pill",display:"flex",alignItems:"center",padding:3,ref:d,children:[(0,a.jsx)(s.xu,{display:"flex",width:24,height:24,rounding:"circle",color:"default",marginEnd:1,justifyContent:"center",alignItems:"center",children:(0,a.jsx)(s.xu,{width:20,height:20,rounding:"circle",overflow:"hidden",children:(0,a.jsx)(s.Ee,{alt:"",color:i,src:null!=o?o:"",naturalHeight:1,naturalWidth:1})})}),(0,a.jsx)(s.xv,{color:"inverse",size:"200",weight:"bold",children:r})]})})})})})})}),l&&d&&d.current&&(0,a.jsx)(_,{anchor:d.current,onDismiss:()=>c(!1),pinId:t,signals:e})]})}function f({pin:e}){if(!(0,d.Z)().isEmployee)return null;const{id:t,deb_ads:i,deb_content_quality:n,deb_inclusive_product:o,deb_shopping:r,deb_trust_and_safety:s}=e;return i?(0,a.jsx)(g,{pinId:t,signals:i}):n?(0,a.jsx)(g,{pinId:t,signals:n}):o?(0,a.jsx)(g,{pinId:t,signals:o}):r?(0,a.jsx)(g,{pinId:t,signals:r}):s?(0,a.jsx)(g,{pinId:t,signals:s}):null}},123987:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(883119),o=i(423217),r=i(785893);function s(e,t){return{hidden:{opacity:0,transition:t?`opacity ${t}ms ease`:void 0},visible:{opacity:1,transition:e?`opacity ${e}ms ease`:void 0}}}function a({children:e,fadeInDuration:t=0,fadeOutDuration:i=o.X,visibility:a}){return"none"!==a&&e?(0,r.jsx)(n.xu,{dangerouslySetInlineStyle:{__style:s(t,i)[a]},children:e}):null}},472231:(e,t,i)=>{i.d(t,{ZP:()=>E});var n=i(667294),o=i(31658),r=i(898781),s=i(55275),a=i(310227),l=i(407043),c=i(883119),d=i(785893);const u={base:{transition:"all 250ms",opacity:0},blurred:{backgroundPosition:"50% 50%",backgroundSize:"cover",borderRadius:a.Oc,filter:"blur(10px)",opacity:1}},_={base:{transition:"all 250ms"},blurred:{backgroundColor:"rgba(0,0,0,0.6)"}},p={base:{opacity:0,transition:"all 250ms"},visible:{opacity:1}},h=["followed","related","search"],m=["pfy","pfyBoard"];function E({feedbackType:e,isHomefeedTunerVariantExp:t,pin:i,hideContents:E=!1}){var g;const{logContextEvent:f}=(0,l.v)(),y=(0,r.ZP)(),[v,I]=(0,n.useState)(!1),[T,P]=(0,n.useState)(!1);(0,n.useEffect)((()=>I(!0)),[]);const S=()=>P(!0),{feedbackText:b,images:A,showFeedbackOverlay:R,undoAction:x,undoText:O}=i,C=A&&(null===(g=A["236x"])||void 0===g?void 0:g.url),{image:w,subTitle:N,title:D,unfollow:L}=null!=b?b:{},k=!h.includes(e),M=m.includes(e),j=()=>{f({event_type:101,view_type:1,view_parameter:92,element:11347})};return(0,d.jsxs)(c.xu,{color:"transparent",dangerouslySetInlineStyle:{__style:{borderRadius:a.Oc}},"data-test-id":"obscured-overlay",overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{borderRadius:a.Oc}},margin:-4,overflow:"hidden",position:"absolute",top:!0,left:!0,bottom:!0,right:!0,children:[C&&(0,d.jsx)(o.Z,{additionalStyles:{...u.base,...v?u.blurred:{},backgroundImage:`url("${C}")`}}),(0,d.jsx)(o.Z,{additionalStyles:{..._.base,..._.blurred}})]}),(0,d.jsx)(c.xu,{dangerouslySetInlineStyle:{__style:{...p.base,...!R&&v?p.visible:{}}},height:"100%",padding:4,position:"relative",width:"100%",children:!E&&(0,d.jsx)(c.xu,{height:"100%",children:(0,d.jsxs)(c.xu,{"data-test-id":"PinFeedbackConfirmation",display:"flex",direction:"column",height:"100%",maxWidth:216,children:[(0,d.jsx)(c.xu,{marginBottom:2,children:(0,d.jsx)(c.X6,{color:"light",size:"400",children:D})}),(0,d.jsxs)(c.xu,{display:"flex",marginBottom:1,children:[w&&(0,d.jsx)(c.xu,{marginEnd:3,children:(0,d.jsx)(c.zd,{width:w.width,height:w.height,rounding:2,wash:!0,children:(0,d.jsx)(c.Ee,{alt:N||"",fit:"cover",naturalHeight:1,naturalWidth:1,src:w.url||""})})}),(0,d.jsx)(c.xv,{color:"light",overflow:"normal",children:N})]}),t?(0,d.jsxs)(n.Fragment,{children:[x&&(0,d.jsx)(c.xu,{children:(0,d.jsx)(c.iP,{onTap:x,children:(0,d.jsx)(c.xv,{color:"inverse",weight:"bold",overflow:"normal",children:y._('Undo', 'Text on the button to navigate to undo hiding a pin', 'Text on the button to navigate to undo hiding a pin')})})}),(0,d.jsxs)(c.xu,{marginTop:"auto",children:[!x&&!T&&L&&!M&&(0,d.jsx)(c.zx,{fullWidth:!0,color:"white",onClick:()=>(0,s.t)(L.action,L.actionOptions,S),text:y._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),k&&(0,d.jsx)(c.zx,{role:"link",color:"white",fullWidth:!0,href:"/edit",onClick:j,text:y._('Tune your feed', 'Text on the button to navigate to homefeed control', 'Text on the button to navigate to homefeed control')})]})]}):(0,d.jsxs)(n.Fragment,{children:[(0,d.jsx)(c.xu,{children:k&&(0,d.jsx)(c.rU,{href:"/edit",onClick:j,children:(0,d.jsx)(c.xv,{color:"inverse",weight:"bold",overflow:"normal",children:y._('Tune your home feed', 'Text on the link to navigate to homefeed control', 'Text on the link to navigate to homefeed control')})})}),(0,d.jsxs)(c.xu,{marginTop:"auto",children:[!x&&!T&&L&&!M&&(0,d.jsx)(c.zx,{fullWidth:!0,color:"white",onClick:()=>(0,s.t)(L.action,L.actionOptions,S),text:y._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')}),x&&(0,d.jsx)(c.zx,{fullWidth:!0,color:"white",onClick:x,text:O||y._('Undo', 'Text on the button to undo hiding a pin', 'Text on the button to undo hiding a pin')})]})]})]})})})]})}},248034:(e,t,i)=>{i.d(t,{Z:()=>_});var n=i(898781),o=i(55275),r=i(883119),s=i(61877),a=i(349700),l=i(778423),c=i(407043),d=i(680046),u=i(785893);function _({anchor:e,feedbackData:t,feedbackType:i,pinId:_,onDismiss:p,onHide:h,recommendationReason:m,viewParameter:E,viewType:g}){const{logContextEvent:f}=(0,c.v)(),y=(0,n.ZP)(),v=(0,d.ZP)({i18n:y,interpolateNamedTemplate:a.nk}),I=(e,n)=>{const r=m&&m.reason&&l.ReasonToChoose[m.reason],s=m&&(0,d.yl)(m),a=m&&(0,d.XZ)(m),{action:c,actionOptions:u}=v.getHidePinAction({feedbackData:t,feedbackType:i,pinId:_,recommendationReasonId:r,throughId:s,throughProperties:a,complaintReason:e});(e=>{f({event_type:101,view_type:g,view_parameter:E,element:e,component:(0,d.nb)(i)})})(n),(0,o.t)(c,u),h()},T="promoted"===i?[{text:y._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:y._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:11172},{text:y._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898}]:[{text:y._('Not relevant to me', 'homefeed.hideReasons.reason.notRelevant', 'Feedback option for Pin that is not relevant'),reason:10,elementType:1296},{text:y._('Not in a language I understand', 'homefeed.hideReasons.reason.languageDontUnderstand', 'Feedback option for Pin that is in a language I dont understand'),reason:15,elementType:11178},{text:y._('Seen Pin too many times', 'homefeed.hideReasons.reason.seenTooMany', 'Feedback option for Pin that has been seen too many times'),reason:3,elementType:295},{text:y._('Blurry or pixelated image', 'homefeed.hideReasons.reason.lowQualityPicture', 'Feedback option for Pin with low quality picture'),reason:13,elementType:10898},{text:y._('Other', 'homefeed.hideReasons.reason.other', 'Feedback option for Pin hidden for other reasons'),reason:8,elementType:11179}];return(0,u.jsx)(r.Lt,{anchor:e,idealDirection:"down",onDismiss:p,zIndex:s.lI,id:"pin-action-dropdown",children:(0,u.jsx)(r.Lt.Section,{label:y._('Got a moment? Tell us why.', 'homefeed.hideReasons.title', 'Title of follow up question after negative Pin feedback'),children:T.map((({text:e,reason:t,elementType:i})=>(0,u.jsx)(r.Lt.Item,{onSelect:()=>I(t,i),option:{value:`hide-reason-${e.split(" ").join("-")}`,label:e},dataTestId:`hide-reason-${e.split(" ").join("-")}`})))})})}},420632:(e,t,i)=>{i.d(t,{Z:()=>p});var n=i(667294),o=i(294184),r=i.n(o),s=i(391254),a=i(149230),l=i(927104),c=i(898781),d=i(883119),u=i(785893);class _ extends n.Component{constructor(...e){var t,i,n;super(...e),n={showBoardName:!1},(i="state")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n}componentDidMount(){this.timer=setTimeout((()=>{this.setState({showBoardName:!0})}),950)}componentWillUnmount(){clearTimeout(this.timer)}render(){const{showBoardName:e}=this.state,{isDenseView:t,isNewlySaved:i,name:o,shouldUseLegoStyles:c,type:_,url:p}=this.props;if(c&&t)return null;const h="boardless"===_?this.props.i18n._('Saved to Profile', 'Saved.render.title', 'Text indicating saved to your profile'):o;let m,E;if(!i||e||c){const e=c?(0,u.jsx)(d.xv,{color:"inverse",size:"300",weight:"bold",children:h.length<=20?h:(0,l.Z)(h,20)}):(0,u.jsx)(d.X6,{color:"inverse",size:"400",lineClamp:1,children:h}),t=(0,a.Z)({url:p})?"nofollow":"none";m=p?(0,u.jsx)(d.rU,{rel:t,href:p,children:e}):e}else m=(0,u.jsx)(d.xv,{color:"inverse",children:(0,u.jsx)("span",{className:"deprecatedTextSizeXL",children:this.props.i18n._('Saved!', 'Indication that a pin has been saved', 'Indication that a pin has been saved')})});return i&&(E=e?"board":"saved"),(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(s.Z,{unsafeCSS:"\n.SavedAnimation {\n  &.saved {\n    animation: SavedAnimation--down-then-right 1s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n\n  &.board {\n    animation: SavedAnimation--to-right 0.12s cubic-bezier(0, 0.33, 0.33, 1.1);\n  }\n}\n\n@keyframes SavedAnimation--down-then-right {\n  0% {\n    opacity: 0;\n    transform: translateY(-24px);\n  }\n\n  33% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  80% {\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  100% {\n    opacity: 0;\n    transform: translateX(24px);\n  }\n}\n\n@keyframes SavedAnimation--to-right {\n  from {\n    opacity: 0;\n    transform: translateX(-16px);\n  }\n\n  to {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n"}),(0,u.jsx)("div",{"data-test-id":"savedInfo",className:!c&&r()("SavedAnimation",E),children:m})]})}}const p=function(e){const t=(0,c.ZP)();return(0,u.jsx)(_,{...e,i18n:t})}},554779:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(307640);function o(e){return n.zI.includes(e)}},521460:(e,t,i)=>{i.d(t,{J:()=>n});const n=228},307640:(e,t,i)=>{i.d(t,{UP:()=>a,Wv:()=>o,ZF:()=>n,zI:()=>r,zl:()=>s});const n=["AuthHomefeed","CloseupRelatedProducts","FollowingFeedGrid","RelatedPinGrid","RelatedProductsFeed","SearchItem"],o=["ArticleProductsStory","CloseupRelatedProducts","ProductPinsFeed","RelatedProductsFeed","ShoppingPackageItem","RelatedProductsFeed","UserProfilePinGrid","ShoppingGridShippedMetadataWithVisitButton"],r=[...o,"ShoppingGridShippedMetadata","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ProductPinsFeed","ShoppingCatalogsProductsMetadata","ShoppingDynamicHeightGrid"],s=["ShoppingSquareGridDomain","ShoppingGridShippedMetadata","ShoppingSquareGridStorefront","ShoppingSquareGridStorefrontDomain","ShoppingGridShippedMetadataWithVisitButton"],a=["BaseBoardPinGrid"]},987097:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(680046),o=i(349700);function r({feedbackOptions:e,pin:t,viewParameter:i},r){const{board:s,pinner:a}=null!=t?t:{},{getFeedbackType:l}=(0,n.ZP)({i18n:r,interpolateNamedTemplate:o.nk});return l({board:s,feedback:e,pin:t,pinner:a,viewParameter:i})}},479301:(e,t,i)=>{i.d(t,{i5:()=>v,sX:()=>T,Z5:()=>y,NG:()=>I,MT:()=>P});var n=i(667294),o=i(6637),r=i(802201),s=i(682492),a=i.n(s);const l=(e,t)=>e.data[t]&&e.data[t].messages||[];function c(e,t){const i={};return e.filter((e=>!!e)).reduce(((e,n)=>{const o=t(n);return i[o]?(a()(i[o],n),e):(i[o]=n,e.concat([n]))}),[])}function d(e){return[...e].sort(((e,t)=>new Date(e.created_ms||e.created_at)-new Date(t.created_ms||t.created_at)))}function u(e,t,i){let n=l(e,t).concat(i);return n=c(n,(e=>e.id)),d(n)}const _={conversationsUnseenCount:0,data:{},newsHubCount:0,open:null,objectAttachment:null,showConversationsDropdown:!1,showNewMessageView:!1,ui:{},unread:0};function p(e=_,t){if("CONVERSATION_OPEN"===t.type)return{...e,open:t.payload.id,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:t.payload.isPreview}}};if("CONVERSATION_CLOSE"===t.type)return{...e,open:null,objectAttachment:null,showNewMessageView:!1,ui:{...e.ui,[t.payload.id]:{contactRequestId:t.payload.contactRequestId||"",isPreview:!1,isDeclined:t.payload.isDeclined}}};if("CONVERSATION_CREATE"===t.type){const{id:i}=t.payload;return{...e,data:{...e.data,[i]:{...e[i]||{},...t.payload}}}}if("CONVERSATION_DELETE"===t.type){const i={...e,data:{...e.data}},{id:n}=t.payload;return delete i.data[n],i}if("FETCH_COMPLETE"===t.type){const{options:i,resource:n,response:o}=t.payload,r=o.resource_response.data;if("ConversationMessagesResource"===n){const t=r||[],n=(null==i?void 0:i.conversation_id)||"",o=u(e,n,t),s=o[o.length-1];return{...e,data:{...e.data,[n]:{...e.data[n],id:n,messages:o,unread:0,last_message:s}}}}if("ConversationsResource"===n){const t=r||[],i={...e,data:{...e.data}};return t.forEach((e=>{const{id:t,created_at:n,name:o,board:r,emails:s,unread:a,users:l,last_message:c}=e,d=u(i,t,[c]);i.data[t]={...i.data[t],id:t,created_at:n,name:o,board:r,emails:s||[],unread:a||0,users:l||[],last_message:c,messages:d}})),i}if("ConversationResource"===n){const t=r||{},{id:i}=t,n={...e,data:{...e.data}};return i&&(n.data[i]={...n.data[i],...t}),n}if("NewsHubBadgeResource"===n){if(r){const t=r.conversations_unseen_count||0;return{...e,unread:t}}return e}}else{if("MESSAGE_SEND_PENDING"===t.type){const{id:i,message:n}=t.payload;if(e.data[i]){const t=u(e,i,[n]);return{...e,data:{...e.data,[i]:{...e.data[i],id:i,messages:t,last_message:n}}}}return e}if("MESSAGE_SEND_PENDING_CLEAR"===t.type){const{id:i,messageId:n,newMessageId:o}=t.payload;if(e.data[i]){const t=l(e,i).find((e=>e.id===n));if(t){const r={...t,id:o};let s=l(e,i).filter((e=>e.id!==n)).concat([r]);return s=c(s,(e=>e.id)),s=d(s),{...e,data:{...e.data,[i]:{...e.data[i],id:i,messages:s}}}}}return e}if("OPEN_NEW_MESSAGE"===t.type){const{objectAttachment:i}=t.payload||null;return{...e,showNewMessageView:!0,open:null,objectAttachment:i}}if("CLOSE_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!1,objectAttachment:null,showNewMessageView:!1};if("OPEN_DROPDOWN"===t.type)return{...e,showConversationsDropdown:!0};if("UPDATE_NEWSHUB_COUNT"===t.type)return{...e,newsHubCount:t.payload};if("UPDATE_UNREAD_COUNT"===t.type)return{...e,conversationsUnseenCount:t.payload}}return e}var h=i(425288),m=i(505920),E=i(785893);const g=(()=>{let e=0;return()=>e++})(),{Provider:f,useHook:y}=(0,h.Z)("Conversations");function v({children:e}){const[t,i]=(0,n.useReducer)(p,_),r=(0,n.useCallback)((e=>i({type:"FETCH_COMPLETE",payload:e})),[]);(0,m.Z8)("ConversationMessagesResource",r),(0,m.my)("ConversationMessagesResource",r),(0,m.Z8)("ConversationsResource",r),(0,m.Z8)("ConversationResource",r),(0,m.Z8)("NewsHubBadgeResource",r);const s=(0,n.useCallback)(((e,t=!1,n="")=>i({type:"CONVERSATION_OPEN",payload:{id:e,isPreview:t,contactRequestId:n}})),[]),a=(0,n.useCallback)(((e,t="",n=!1)=>i({type:"CONVERSATION_CLOSE",payload:{id:e,contactRequestId:t,isDeclined:n}})),[]),l=(0,n.useCallback)((e=>i({type:"CONVERSATION_CREATE",payload:e})),[]),c=(0,n.useCallback)((e=>i({type:"CONVERSATION_DELETE",payload:{id:e}})),[]),d=(0,n.useCallback)(((e,t,n)=>{o.Z.create("ConversationsResource",{user_ids:e,emails:t,text:""}).callCreate().then((e=>{const t=e&&e.resource_response.data;i({type:"CONVERSATION_OPEN",payload:{id:t.id}})})).catch((e=>{const t=e.message_detail||e.message||"";n(t)}))}),[]),u=(0,n.useCallback)((()=>{i({type:"CLOSE_DROPDOWN"})}),[]),h=(0,n.useCallback)((()=>{i({type:"OPEN_DROPDOWN"})}),[]),g=(0,n.useCallback)((e=>{i({type:"OPEN_NEW_MESSAGE",payload:{objectAttachment:e}})}),[]),y=(0,n.useCallback)(((e,t)=>i({type:"MESSAGE_SEND_PENDING",payload:{id:e,message:t}})),[]),v=(0,n.useCallback)(((e,t,n)=>i({type:"MESSAGE_SEND_PENDING_CLEAR",payload:{id:e,messageId:t,newMessageId:n}})),[]),I=(0,n.useCallback)((e=>i({type:"UPDATE_NEWSHUB_COUNT",payload:e})),[]),T=(0,n.useCallback)((e=>i({type:"UPDATE_UNREAD_COUNT",payload:e})),[]),P=(0,n.useMemo)((()=>({conversationOpen:s,conversationClose:a,conversationCreate:l,conversationDelete:c,conversationGet:d,dropdownClose:u,dropdownOpen:h,newMessageOpen:g,pendingMessageSend:y,pendingMessageClear:v,updateNewsHubCount:I,updateUnreadCount:T,conversations:t})),[s,a,l,c,d,u,h,g,y,v,I,T,t]);return(0,E.jsx)(f,{value:P,children:e})}function I(){const{conversations:e,conversationCreate:t,pendingMessageSend:i,pendingMessageClear:n}=y(),s=(0,r.AF)();return(r,a,l,c)=>new Promise(((d,u)=>{const{text:_,pinId:p,boardId:h,userId:m,didItId:E}=a;function f(){const e=o.Z.create("ConversationMessagesResource",{conversation_id:r,text:_,pin:p,board:h,user:m,user_did_it_data:E,source:l}),t=`${g()}`;i(r,{text:_,sender:c,created_at:(new Date).toString(),created_ms:Date.now(),id:t,board:null,event_type:null,pin:p?s[p]:null,type:"message",user_did_it_data:null,user:null}),e.callCreate().then((e=>{n(r,t,e.resource_response.data.id),d()})).catch(u)}e.data[r]?f():o.Z.create("ConversationResource",{conversation_id:r}).callGet().then((e=>{const i=e&&e.resource_response&&e.resource_response.data;t(i),f()}))}))}function T(e){const{conversations:t}=y();return t.data[e]}function P(e){const{conversations:t}=y();return t.ui[e]||{contactRequestId:"",isDeclined:!1,isPreview:!1}}},468593:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(867820);async function o({filename:e,imgSrc:t,imageDownloadSuccessCallback:i,category:o,isUnauth:r,pinId:s,viewParameter:a,viewType:l},c){return"undefined"==typeof window?Promise.resolve():((0,n.My)(`web.${r?"unauth":"auth"}.download.click.${o||"no_category"}`),c({event_type:82,object_id_str:s,view_type:l||3,view_parameter:a||139}),t&&document?fetch(t,{headers:new Headers({Origin:window.location.origin}),mode:"cors"}).then((e=>e.blob())).then((t=>{var n,o;const r=document.createElement("a");r.href=window.URL.createObjectURL(t),r.setAttribute("download",e&&e.replace(".","_")),r.style.display="none",null===(n=document.body)||void 0===n||n.appendChild(r),r.click(),null===(o=document.body)||void 0===o||o.removeChild(r),null==i||i()})).catch((()=>{throw new Error("Download image error")})):Promise.resolve())}},521556:(e,t,i)=>{i.d(t,{W:()=>a,Z:()=>l});var n=i(898781),o=i(883119),r=i(785893);const s={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1zm3.9 5.15l-1.75-3.53a.4.4 0 00-.71 0L10.2 8.26a2 2 0 01-1.5 1.1l-3.9.56a.4.4 0 00-.23.69l2.83 2.75a2 2 0 01.57 1.77L7.31 19a.4.4 0 00.58.42l3.5-1.83a2 2 0 011.86 0l3.48 1.83a.4.4 0 00.59-.42l-.67-3.88a2 2 0 01.57-1.77l2.83-2.75a.4.4 0 00-.22-.69l-3.9-.56a2 2 0 01-1.51-1.1z"},a={__path:"M10.52 3.11a2 2 0 013.59 0l2.06 4.17c.02.06.08.1.15.11l4.6.67a2 2 0 011.1 3.41l-3.32 3.25a.2.2 0 00-.06.17l.78 4.58a2 2 0 01-2.9 2.11l-4.11-2.16a.2.2 0 00-.19 0l-4.11 2.16a2 2 0 01-2.9-2.1l.78-4.59a.2.2 0 00-.06-.17l-3.32-3.25a2 2 0 011.1-3.41l4.6-.67a.2.2 0 00.15-.1z"};function l({isCloseupButton:e,isDisabled:t,isFavorited:i,onTap:l,size:c}){const d=(0,n.ZP)();return e?(0,r.jsx)(o.hU,{accessibilityLabel:d._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),dangerouslySetSvgPath:i?a:s,disabled:t,iconColor:"darkGray",onClick:l,size:"lg"}):(0,r.jsx)(o.iP,{disabled:t,onTap:l,children:(0,r.jsx)(o.JO,{accessibilityLabel:d._('Favorite icon', 'pinRep.footer.favoriteIcon', 'Accessible label for favorite icon on Pin'),color:"default",dangerouslySetSvgPath:i?a:s,size:c})})}},552684:(e,t,i)=>{function n(e){const t=e.split("/");return[t[2],t[1]]}function o(e,t){return!e||!e.some((e=>e.pin_type===t))}i.d(t,{E:()=>o,J:()=>n})},934523:(e,t,i)=>{i.d(t,{L1:()=>r,Rz:()=>l,WZ:()=>s,cI:()=>o,fe:()=>a,hu:()=>n});const n=64,o=80,r=22,s="HeaderContent",a=671,l={boxShadow:"0px 8px 8px -8px rgba(0, 0, 0, 0.1)",transition:"box-shadow 300ms ease-in-out"}},480622:(e,t,i)=>{i.d(t,{C:()=>l,f:()=>a});var n=i(667294),o=i(425288),r=i(785893);const{Provider:s,useHook:a}=(0,o.Z)("MostRecentPin");function l({children:e}){const[t,i]=(0,n.useState)(),[o,a]=(0,n.useState)(),l=(0,n.useCallback)((e=>{const t=o?o.slice(0,10):[],i=[e].concat(t.filter((t=>t!==e)));a(i)}),[o]),c=(0,n.useMemo)((()=>({id:t,plpImageSignatures:o,setMostRecentPinId:i,setMostRecentPinImage:l})),[t,o,l]);return(0,r.jsx)(s,{value:c,children:e})}},854035:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(67828),o=i(941646),r=i(898781),s=i(892819),a=i(349700),l=i(780280),c=i(561195),d=i(883119),u=i(785893);const _=({rating:e,textSize:t,type:i})=>{if("single"===i){const i=parseFloat(e);return Number.isNaN(i)?null:(0,u.jsxs)(d.kC,{alignItems:"center",children:[(0,u.jsx)(c.A,{fill:"full",width:12}),(0,u.jsx)(d.xv,{size:t,children:i.toFixed(1)})]})}return(0,u.jsx)(c.Z,{rating:e,width:12})},p=({bracket:e,count:t,countFormat:i,countType:n,marginStart:c,textSize:_,underline:p})=>{const{locale:h}=(0,l.B)(),m=(0,r.ZP)(),E=(0,s.Z)();if(null==t)return null;let g=E(h,t,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===i){const e="review"===n?m.ngettext('{{ count }} review', '{{ count }} reviews', t, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):m.ngettext('{{ count }} rating', '{{ count }} ratings', t, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');g=(0,a.nk)(e,{count:t}).join("")}return e&&(g=`(${g})`),(0,u.jsx)(d.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:p?"1px solid gray":"none"}},marginStart:c,children:(0,u.jsx)(d.xv,{color:p?"subtle":"default",size:_,underline:p,children:(0,u.jsx)(o.Z,{id:"ratings-count-text",display:"inlineBlock",children:g})})})};function h({count:e,countFormat:t,countType:i,rating:o,textSize:r,underline:s}){return(0,n.Z)({count:e,rating:o})?(0,u.jsxs)(d.kC,{alignItems:"center",justifyContent:"start",children:[(0,u.jsx)(_,{rating:o,textSize:r,type:"multiple"}),(0,u.jsx)(p,{count:e,countFormat:t,countType:i,textSize:r,underline:s})]}):null}},67828:(e,t,i)=>{function n({count:e,rating:t}){return Boolean(t&&"None"!==t&&Number.isFinite(e))}i.d(t,{Z:()=>n})},330899:(e,t,i)=>{i.d(t,{x:()=>a,y:()=>l});var n=i(667294),o=i(425288),r=i(785893);const{Provider:s,useMaybeHook:a}=(0,o.Z)("ProfileViewContext");function l({children:e}){const[t,i]=(0,n.useState)(),[o,a]=(0,n.useState)(new Map),[l,c]=(0,n.useState)(),[d,u]=(0,n.useState)(),_=(0,n.useCallback)(((e,t)=>{a(new Map(o.set(e,t)))}),[o]),p=(0,n.useMemo)((()=>({boardPinDensity:t,boardSortOrder:o,profileBoardView:l,profilePinDensity:d,setBoardPinDensity:i,updateBoardSortOrder:_,setProfileBoardView:c,setProfilePinDensity:u})),[t,o,l,d,_]);return(0,r.jsx)(s,{value:p,children:e})}},904411:(e,t,i)=>{i.d(t,{bn:()=>a,fJ:()=>c,gC:()=>l});var n=i(702664),o=i(425288),r=i(785893);const{Provider:s,useHook:a}=(0,o.Z)("Boards");function l(){const e=a();return t=>e[t]}function c({children:e}){const t=(0,n.useSelector)((({boards:e})=>e),n.shallowEqual);return(0,r.jsx)(s,{value:t,children:e})}},802201:(e,t,i)=>{i.d(t,{AF:()=>a,S6:()=>l,_S:()=>c});var n=i(702664),o=i(425288),r=i(785893);const{Provider:s,useHook:a}=(0,o.Z)("Pins");function l(){const e=a();return t=>e[t]}function c({children:e}){const t=(0,n.useSelector)((({pins:e})=>e),n.shallowEqual);return(0,r.jsx)(s,{value:t,children:e})}},281180:(e,t,i)=>{i.d(t,{Tt:()=>d,kW:()=>l,kY:()=>u,mN:()=>c});var n=i(702664),o=i(19121),r=i(425288),s=i(785893);const{Provider:a,useHook:l}=(0,r.Z)("Users");function c(){const e=l();return t=>e[t]}function d(){const{id:e}=(0,o.Z)();return l()[null!=e?e:""]}function u({children:e}){const t=(0,n.useSelector)((({users:e})=>e),n.shallowEqual);return(0,s.jsx)(a,{value:t,children:e})}},812446:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(545846),o=i(112690),r=i(785893);function s(e){return t=>{const i=(0,o.Z)();return(0,r.jsx)(n.Z,{ref:t.shareButtonRef,Subject:e,logContextEvent:i,...t})}}},545846:(e,t,i)=>{i.d(t,{Z:()=>h});var n=i(667294),o=i(482981),r=i(451204),s=i(121151),a=i(837727),l=i(946984),c=i(883119),d=i(785893);function u(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const _=new c.Ry(1),p=({children:e})=>e((0,l.Z)({shouldStopEventPropagation:!1}));class h extends n.Component{constructor(...e){super(...e),u(this,"handleDismiss",(()=>{const{onFlyoutDismiss:e}=this.props;e()})),u(this,"onHide",(()=>{this.props.onClick(),this.handleDismiss()})),u(this,"flyoutProps",(()=>{var e;const{gridDescription:t,idealDirection:i,imageSrc:n,pinId:s,userId:l,board:c,sendType:u,url:_,fullName:p,profileUrl:h,viewParameter:m,viewType:E,onExternalSend:g,showCaret:f,todayArticle:y,ownerId:v}=this.props;let I={description:t,id:s,imageUrl:n,name:"",type:a.d.PIN,url:`/pin/${s}/`,ownerId:v},T=a.d.PIN;switch(u){case"user":I={description:t,id:l,imageUrl:n,name:p,type:a.d.PINNER,url:h},T=a.d.USER;break;case"board":I=c&&{description:c.description,id:c.id,imageUrl:c.imageUrl,name:c.name,type:a.d.BOARD,url:c.url,ownerId:null===(e=c.owner)||void 0===e?void 0:e.id},T=a.d.BOARD;break;case"today_article":I=y&&{description:y.subtitle||"",id:y.id,imageUrl:n,name:y.title,type:a.d.TODAY_ARTICLE,url:(0,o.Z)(y)},T=a.d.TODAY_ARTICLE;break;case"search":I={...I,type:a.d.SEARCH,url:_},T=a.d.SEARCH}const P={onHide:this.onHide,onExternalSend:g,sendType:T,sharedObject:I,viewParameter:m,viewType:E};return{anchor:this.flyoutAnchor,idealDirection:i,onDismiss:this.handleDismiss,showCaret:f,children:(0,d.jsx)(r.default,{...P})}}))}toggle(){const{isOwnProfile:e,onToggleFlyout:t,sendType:i,userId:n,logContextEvent:o}=this.props;"user"===i&&o({event_type:101,component:13675,element:1079,object_id_str:n,view_type:4,view_parameter:e?3106:3107}),t()}render(){const{Subject:e,inModal:t,isFlyoutOpen:i,shownWithinMasonry:n,shownWithinProfileHeader:o}=this.props,{anchor:r,idealDirection:a,onDismiss:l,showCaret:u,children:h}=this.flyoutProps();return(0,d.jsxs)(c.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"auto"}},children:[(0,d.jsx)(c.xu,{ref:e=>{e&&(this.flyoutAnchor=e)},children:(0,d.jsx)(p,{children:t=>(0,d.jsx)(e,{handleSendShareFlyoutButtonClick:t((e=>{null!=e&&e.stopPropagation&&e.stopPropagation(),this.toggle()})),...this.props})})}),i&&(n||o?(0,d.jsx)(c.mh,{zIndex:o?_:void 0,children:(0,d.jsx)(c.xu,{zIndex:t?s.b7:void 0,position:t?"absolute":void 0,top:!!t||void 0,children:(0,d.jsx)(c.J2,{anchor:r,idealDirection:a,onDismiss:l,showCaret:u,size:"flexible",positionRelativeToAnchor:!1,children:h})})}):(0,d.jsx)(c.J2,{anchor:r,idealDirection:a,onDismiss:l,showCaret:u,size:"flexible",children:h}))]})}}u(h,"defaultProps",{idealDirection:"down",onClick:()=>{}})},711108:(e,t,i)=>{i.d(t,{l:()=>d,E:()=>c});var n=i(667294),o=i(425288);function r(e={},t){if("SUGGESTIONS_FETCH_COMPLETE"===t.type){const{payload:o}=t;if("ShareSuggestionsResource"===o.resource){var i;const n=t.payload.response.resource_response.data||[],{term:r=""}=null!==(i=o.options)&&void 0!==i?i:{};return{...e,[r]:n}}if("ShareSuggestionsTypeaheadResource"===o.resource){var n;const i=(t.payload.response.resource_response.data||{}).items||[],{term:r=""}=null!==(n=o.options)&&void 0!==n?n:{};return{...e,[r]:i}}}return e}var s=i(505920),a=i(785893);const{Provider:l,useHook:c}=(0,o.Z)("ShareSuggestions");function d({children:e}){const[t,i]=(0,n.useReducer)(r,{}),o=e=>{i({type:"SUGGESTIONS_FETCH_COMPLETE",payload:e})};(0,s.Z8)("ShareSuggestionsResource",o),(0,s.Z8)("ShareSuggestionsTypeaheadResource",o);const c=(0,n.useMemo)((()=>({shareSuggestions:t})),[t]);return(0,a.jsx)(l,{value:c,children:e})}},643074:(e,t,i)=>{i.d(t,{Z:()=>g,s:()=>E});var n=i(667294),o=i(121151),r=i(966113),s=i(608575),a=i(898781),l=i(349700),c=i(883119),d=i(785893);const u=()=>{var e;const t=(0,a.ZP)(),{dismissWarning:i}=null!==(e=E())&&void 0!==e?e:{};return(0,d.jsx)(c.xu,{paddingX:3,children:(0,d.jsx)(c.zx,{fullWidth:!0,color:"red",onClick:i,text:t._('Okay', 'Dismiss a modal stating that clicking through to a link has been blocked', 'Dismiss a modal stating that clicking through to a link has been blocked')})})},_=()=>{const e=(0,a.ZP)();return(0,d.jsx)(c.xv,{inline:!0,weight:"bold",children:(0,d.jsx)(c.rU,{target:"blank",href:r.Z.settings.POLICY_COMMUNITY_GUIDELINES_SPAM_AND_QUALITY,inline:!0,underline:"hover",children:e._('Learn more', 'Link text leading to policy website', 'Link text leading to policy website')})})},p=({message:e,sanitized_url:t})=>{var i;const n=(0,a.ZP)(),{dismissWarning:r}=null!==(i=E())&&void 0!==i?i:{};return(0,d.jsx)(o.ZP,{accessibilityModalLabel:n._('We have blocked this link', 'Modal label when clicking a spammy link', 'Modal label when clicking a spammy link'),onDismiss:r,heading:n._('Heads up!', 'Modal heading when clicking through to a link has been blocked', 'Modal heading when clicking through to a link has been blocked'),footer:(0,d.jsx)(u,{}),children:(0,d.jsxs)(c.xu,{padding:6,children:[(0,d.jsx)(c.xv,{children:(0,l.nk)("{{ message }} {{ learnMore }}",{message:e,learnMore:(0,d.jsx)(_,{},"learnMoreLink")})}),(0,d.jsxs)(c.xu,{alignItems:"center",display:"flex",marginTop:4,children:[(0,d.jsx)(c.xu,{marginEnd:3,children:(0,d.jsx)(c.JO,{accessibilityLabel:n._('Blocked link address', 'Icon label preceding a block url', 'Icon label preceding a block url'),color:"error",icon:"report",inline:!0,size:24})}),(0,d.jsx)(c.xv,{inline:!0,lineClamp:1,weight:"bold",children:s.parse(t).hostname})]})]})})};var h=i(425288);const{Provider:m,useMaybeHook:E}=(0,h.Z)("SpammyClickthrough");function g({children:e}){const[t,i]=(0,n.useState)(null),o=(0,n.useCallback)((()=>{i(null)}),[i]),r=(0,n.useCallback)((e=>{i(e)}),[i]),s=(0,n.useMemo)((()=>({dismissWarning:o,showWarning:r})),[o,r]);return(0,d.jsxs)(m,{value:s,children:[t&&(0,d.jsx)(p,{...t}),e]})}},655747:(e,t,i)=>{i.d(t,{Z:()=>c,j:()=>l});var n=i(898781),o=i(349700),r=i(773285),s=i(883119),a=i(785893);const l=[0,2,3];function c({hasAffiliateProducts:e,href:t,isPromoted:i,onNavigateSponsorClick:c,sponsorName:d,sponsorshipStatus:u,textWeight:_="bold"}){const p=(0,n.ZP)(),h=(0,r.F)().checkExperiment("mweb_web_android_ios_clbc_eu_ad_string").anyEnabled,m=(0,r.F)().checkExperiment("web_remove_paid_partnership_in_rejected_state").anyEnabled,E=d?(0,a.jsx)(s.rU,{href:t||`/${d}/`,onClick:c,children:(0,a.jsx)(s.xv,{weight:_,size:"200",children:d})},d):void 0;let g;i?g=(0,o.nk)(p._('Promoted by {{ name }}', 'sponsorship.sponsorshipText.promotedByBrand', 'indicating the username of the person who promoted the pin'),{name:E}):u||0===u?d&&!l.includes(u)?g=(0,o.nk)(p._('Paid partnership with {{ name }}', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when sponsored by a brand'),{name:E}):m&&2===u||(g=p._('Paid partnership', 'closeup.creator.sponsoredPinTitle', 'Subtext of closeup creator card when the pin is sponsored but the sponsorship status is rejected/requested/unaffiliated')):e&&(g=p._('Includes sponsored products', 'sponsorship.sponsorshipText.affiliatedProducts', 'Subtext of pincard attribution for a pin with affiliated products'));const f=h&&!i?"Ad  ":"";return(0,a.jsxs)(s.xv,{inline:!0,size:"200",lineClamp:2,children:[f,g]})}},930712:(e,t,i)=>{i.d(t,{Nb:()=>a,Of:()=>l,YO:()=>s,ZP:()=>u,x4:()=>d});var n=i(667294),o=i(620707),r=i(766383);const s=({showPdp:e,isLargerPane:t,showCloseupContentRight:i})=>e&&t?i?r.Uj:r.zT:1,a=(0,o.qe)((({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:i,showPdp:n,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:s})=>({paneWidth:e,pdpCarouselSlotToPaneRatio:t,showCloseupContentRight:i,showPdp:n,updateCloseupBodyContainerHeight:o,viewportSize:r,maxWidth:s}))),l={showCloseupContentRight:!0,showPdp:!1,updateCloseupBodyContainerHeight:()=>{},viewportSize:"lg",paneWidth:{pdp:r.CI,regular:r.Gg},pdpCarouselSlotToPaneRatio:1,maxWidth:{pdp:r.Kn,regular:r.u6}},c=(0,n.createContext)(l);function d(){const e=(0,n.useContext)(c);if(!e)throw new Error("useCloseupContext must be used within CloseupContextProvider");return e}const u=c},766383:(e,t,i)=>{i.d(t,{CI:()=>r,Ch:()=>a,Gb:()=>l,Gg:()=>n,Ie:()=>_,JV:()=>h,KP:()=>p,Kn:()=>s,Uj:()=>c,bx:()=>m,d2:()=>u,g9:()=>E,iB:()=>g,u6:()=>o,zT:()=>d});const n=508,o=2*n,r=488,s=992,a=672,l=1176,c=.6,d=.84,u=40,_=72,p=740,h=60,m=912,E=32,g={ARTICLE:"https://schema.org/Article",BRAND:"https://schema.org/Brand",PRODUCT:"https://schema.org/Product",RECIPE:"https://schema.org/Recipe",OFFER:"https://schema.org/Offer",OUT_OF_STOCK:"https://schema.org/OutOfStock",PERSON:"https://schema.org/Person"}},61877:(e,t,i)=>{i.d(t,{Cq:()=>p,Dk:()=>m,Fk:()=>r,bI:()=>o,fS:()=>_,gw:()=>d,j1:()=>u,km:()=>h,lI:()=>a,lJ:()=>s,mS:()=>c,qW:()=>l});var n=i(883119);const o=new n.Ry(0),r=new n.Ry(1),s=3,a=new n.Ry(s),l=2,c=new n.Ry(l),d=new n.Ry(3),u=new n.Ry(3),_=3,p=4,h=new n.Ry(5),m=new n.Ry(100)},504981:(e,t,i)=>{i.r(t),i.d(t,{default:()=>_});var n=i(702664),o=i(834911),r=i(811403),s=i(35495),a=i(407043),l=i(802201),c=i(930712),d=i(883119),u=i(785893);function _({carouselData:e,carouselIndex:t,componentType:i,contextLogData:_,handleCarouselSwipe:p,isCloseup:h,isEditMode:m,pinId:E,viewParameter:g,viewType:f,variant:y}){const{logContextEvent:v}=(0,a.v)(),I=(0,l.S6)()(E),T=e||(0,o.Z)({carouselData:null==I?void 0:I.carousel_data,images:null==I?void 0:I.images,richMetadata:null==I?void 0:I.rich_metadata,richSummary:null==I?void 0:I.rich_summary}),P=(0,n.useDispatch)();if(!T)return null;const S=(e,t,n)=>{m||void 0===r.yR||(e.preventDefault(),e.stopPropagation(),P((0,r.yR)(String(E),n))),void 0!==p&&p(n),((e,t,i,n=0,o,r,a,l,c,d,u)=>{if(!u){const{carousel_slots:u,id:_}=r;e({event_type:108,object_id_str:i,component:c,view_type:l,view_parameter:a,event_data:{pinCarouselSlotEventData:{carouselSlotId:(null==u?void 0:u[n])&&Number(u[n].id),carouselDataId:Number(_),carouselSlotIndex:n,toCarouselSlotIndex:o}},aux_data:{...d,...(0,s.Kl)(t)||{}}})}})(v,I,E,t,n,T,g,f,i,_,m)},{carousel_slots:b=[],index:A}=T,R=void 0!==t?t:A,x="default"===y,O=x?"white":"#555",C=x?"rgba(255, 255, 255, 0.5)":"lightGray";return(0,u.jsx)(c.ZP.Consumer,{children:({viewportSize:e})=>"sm"===e?null:(0,u.jsx)(d.xu,{alignItems:"center","data-test-id":"carousel-ellipsis",display:"flex",justifyContent:h?"end":"center",paddingY:m?1:0,children:[...Array(b.length).keys()].map((e=>{var t;return(0,u.jsx)(d.xu,{paddingX:1,children:(0,u.jsx)(d.iP,{accessibilityLabel:null!==(t=b[e].title)&&void 0!==t?t:"",fullWidth:!1,onTap:({event:t})=>S(t,R,e),rounding:"circle",children:(0,u.jsx)(d.xu,{"data-test-id":"ellipsis-size",height:8,width:8,dangerouslySetInlineStyle:{__style:{backgroundColor:e===R?O:C}},rounding:"circle"})})},E+e)}))})})}},814115:(e,t,i)=>{i.d(t,{Z:()=>E});var n=i(667294),o=i(564194),r=i(834911),s=i(737022),a=i(310227),l=i(802201),c=i(898781),d=i(718482),u=i(883119),_=i(444445),p=i(785893);function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class m extends n.Component{constructor(...e){super(...e),h(this,"state",{showBadge:!0}),h(this,"renderBadge",(()=>{const{carouselData:e,isCloseup:t,showCarouselBadge:i}=this.props;if(!e)return null;const{showBadge:n}=this.state,{carousel_slots:o,index:r}=e,s=n?.8:0;return!t&&i?(0,p.jsx)(u.xu,{alignItems:"center",color:"selected",display:"flex",height:35,justifyContent:"center",marginEnd:5,marginTop:5,position:"absolute",right:!0,rounding:2,width:35,zIndex:new u.Ry(1),dangerouslySetInlineStyle:{__style:{opacity:s,transition:"opacity .3s"}},children:(0,p.jsx)(u.xv,{color:"inverse",children:`${(null!=r?r:0)+1}/${(null!=o?o:[]).length}`})}):null}))}componentDidMount(){this.hideBadgeTimeout=setTimeout((()=>this.setState({showBadge:!1})),3e3)}componentDidUpdate(e){const{showBadge:t}=this.state,{carouselData:i}=e,{carouselData:n}=this.props;if(!i||!n)return;const{index:o}=i,{index:r}=n;t&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.hideBadgeTimeout=setTimeout((()=>this.setState({showBadge:!1})),3e3)),o!==r&&(this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout),this.setState({showBadge:!0}))}componentWillUnmount(){this.hideBadgeTimeout&&clearTimeout(this.hideBadgeTimeout)}render(){const{isCloseup:e,carouselIndex:t,closeupHeight:i,closeupWidth:n=0,widthRatio:r=1,cropHeight:l,cropWidth:c,carouselData:h,disableTransition:m,highResOnly:E,lowResOnly:g,onError:f,onLoad:y,pinId:v,isEditMode:I,isDenseView:T,pin:P}=this.props;if(!h)return null;if(r>1||r<0)throw new Error("widthRatio should be between 0 and 1 inclusive");const{carousel_slots:S=[],index:b=0}=h,A=void 0!==t?t:b,R=!e&&c,{images:x}=S[A];let O;O=e?n:R||(E?474:T?_.Lo:_.yF);const C=Math.floor(O*r),w=(null==x?void 0:x["236x"])||{},N=l||w.height||0,D=c||w.width||236,L=i||N/D*C,k=(e=>{const t=e.reduce(((e,t)=>{var i;const{images:n}=t,{height:o=1,width:r=1}=(null==n?void 0:n["736x"])||(null==n?void 0:n["236x"])||{},s=`${r}x${o}`,a=(null===(i=e[s])||void 0===i?void 0:i.times)||0;return{...e,[s]:{imageHeight:o,imageWidth:r,times:a+1}}}),{}),i=Object.keys(t).reduce(((e,i)=>t[i].times>e.times?t[i]:e),{times:-1,imageHeight:-1,imageWidth:-1});return Object.keys(t).length>1?{imageHeight:i.imageHeight,imageWidth:i.imageWidth}:null})(S);return(0,p.jsxs)(u.xu,{height:L,display:"flex",alignItems:"center",overflow:"hidden","data-test-id":"carousel-pin",minHeight:a.Ml,"data-test-image-signature":null==P?void 0:P.image_signature,children:[!I&&this.renderBadge(),(0,p.jsx)(o.Z,{trackCarousel:!0,impressionType:"Pin",loggingId:v,slotIndex:b,viewParameter:72,viewType:1,children:(0,p.jsx)(u.xu,{position:"absolute",height:L,width:C,overflow:"hidden"})},`carousel-impression-key-${A}`),(0,p.jsx)(u.xu,{width:C*S.length,dangerouslySetInlineStyle:{__style:{transition:m?"":"left .3s",left:(0,d.vF)(S.length,C,O,A)}},left:!0,height:"100%",display:"flex",direction:"row",position:"relative",children:S.map(((t,i)=>{if(e){const e=i===S.length-1;return(({pinId:e,slot:t,slotIndex:i,onError:n,onLoad:o,widthToUse:r,gap:a},l)=>{const{url:c,width:_,height:h}=(0,s.Z)(t.images)||{},{details:m=""}=t,E=(0,d.GH)(m,l,i);return(0,p.jsx)(u.xu,{"data-test-id":"carousel-slot-container",width:r,height:"100%",marginEnd:a,children:(0,p.jsx)(u.zd,{height:"100%",wash:!0,children:(0,p.jsx)(u.Ee,{alt:E,fit:"contain",naturalHeight:null!=h?h:1,naturalWidth:null!=_?_:1,onError:n,onLoad:o,src:null!=c?c:""})})},`carousel-slot-${e}-${i}`)})({pinId:v,slot:t,slotIndex:i,onError:f,onLoad:y,widthToUse:C,gap:C<O&&!e?1:0},this.props.i18n)}return((e,t,i,n,o,r,s,a,l,c,_,h,m,E,g)=>{var f,y,v;const{images:I,details:T=""}=t;let P,S=236,b=236,A="";var R,x,O,C,w,N,D,L;if(o?(S=474,b=I&&Math.min(S/.8,S/((null!==(R=null===(x=I["564x"])||void 0===x?void 0:x.width)&&void 0!==R?R:1)/(null!==(O=null===(C=I["564x"])||void 0===C?void 0:C.height)&&void 0!==O?O:1))),A=I&&(null===(w=I["564x"])||void 0===w?void 0:w.url)):I&&I["736x"]?(b=I&&I["736x"]&&I["736x"].height,S=I&&I["736x"]&&I["736x"].width,A=I&&I["736x"]&&I["736x"].url):I&&I["236x"]&&(b=I&&I["236x"]&&I["236x"].height,S=I&&I["236x"]&&I["236x"].width,A=I&&I["236x"]&&I["236x"].url),m&&E&&(b=Math.min(m*E,null!==(N=b)&&void 0!==N?N:1)),r)P=`${null!==(D=null==I||null===(L=I["236x"])||void 0===L?void 0:L.url)&&void 0!==D?D:""} 1x`;else if(o){var k,M;P=`${null!==(k=null==I||null===(M=I["564x"])||void 0===M?void 0:M.url)&&void 0!==k?k:""} 1x`}else{var j,U,F;P=[(null==I?void 0:I["474x"])&&`${null!==(j=I["474x"].url)&&void 0!==j?j:""} 2x`,(null==I?void 0:I["736x"])&&`${null!==(U=I["736x"].url)&&void 0!==U?U:""} 3x`,(null==I?void 0:I.orig)&&`${null!==(F=I.orig.url)&&void 0!==F?F:""} 4x`].filter(Boolean).join(", ")}const B=(0,d.GH)(T,e,n),G=h?void 0:b,z=h?void 0:S,V=!!g,{boxHeight:H,boxWidth:Z}=V?{boxHeight:null==g?void 0:g.imageHeight,boxWidth:null==g?void 0:g.imageWidth}:{boxHeight:G,boxWidth:z};return(0,p.jsx)(u.xu,{"data-test-id":"carousel-slot-container",height:H,width:Z,children:(0,p.jsx)(u.xu,{height:h?_:void 0,width:h||void 0,"data-test-id":`carousel-img-${n}`,children:(0,p.jsx)(u.Ee,{alt:B,fit:h?"cover":"none",naturalHeight:null!==(f=b)&&void 0!==f?f:1,naturalWidth:null!==(y=S)&&void 0!==y?y:1,onError:s,onLoad:a,src:null!==(v=A)&&void 0!==v?v:"",srcSet:P})})},`carousel-slot-${i}-${n}`)})(this.props.i18n,t,v,i,E,g,f,y,0,0,l,c,L,C,k)}))})]})}}function E(e){const t=(0,c.ZP)(),i=(0,l.S6)()(e.pinId)||e.pin,n=(0,r.Z)({carouselData:null==i?void 0:i.carousel_data,images:null==i?void 0:i.images,richMetadata:null==i?void 0:i.rich_metadata,richSummary:null==i?void 0:i.rich_summary,shouldUnifyImageSizes:!0});return(0,p.jsx)(m,{...e,carouselData:n,i18n:t})}h(m,"defaultProps",{showCarouselBadge:!0})},718482:(e,t,i)=>{i.d(t,{CU:()=>r,GH:()=>a,gA:()=>l,tD:()=>s,vF:()=>c});const n=({containerWidth:e,contentWidth:t,index:i,slotAndGapWidth:o})=>{const r=i-1,s=r*o;return t-s>=e?s:n({index:r,slotAndGapWidth:o,containerWidth:e,contentWidth:t})},o=({containerWidth:e,contentWidth:t,gap:i,index:o,slidesShownPerPosition:r,slotAndGapWidth:s})=>n({containerWidth:e,contentWidth:t,index:o,slotAndGapWidth:s})+(({slidesShownPerPosition:e,slotAndGapWidth:t})=>t-(e-parseInt(e,10))*t)({slidesShownPerPosition:r,slotAndGapWidth:s})-i,r=({containerWidth:e,gap:t,index:i,numberOfSlides:n,slotWidth:r})=>{const s=r+t,a=s*n;if(a<=e)return 0;const l=e/s,c=(({index:e,numberOfSlides:t,slidesShownPerPosition:i})=>t-e-Math.floor(i)<1)({index:i,numberOfSlides:n,slidesShownPerPosition:l})?o({containerWidth:e,contentWidth:a,gap:t,index:i,slidesShownPerPosition:l,slotAndGapWidth:s}):i*s;return c?Math.round(-c):0},s=({containerWidth:e,gap:t,index:i,numberOfSlides:n,slotWidth:o})=>{const s=(o+t)*n;if(s<=e||0===e)return!0;const a=r({containerWidth:e,gap:t,index:i,numberOfSlides:n,slotWidth:o}),l=s-e;return Math.abs(a)+t>=l},a=(e,t,i)=>e||`${t._('carousel image', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed', 'Alternate text for a carousel image that indicates it is a carousel pin, with carousel index followed')} ${i}`,l=({highResOnly:e,lowResOnly:t,slot:i})=>{var n,o,r;const{images:s}=i;var a,l,c,d;return t?`${null!==(a=null==s||null===(l=s["236x"])||void 0===l?void 0:l.url)&&void 0!==a?a:""} 1x`:e?`${null!==(c=null==s||null===(d=s["564x"])||void 0===d?void 0:d.url)&&void 0!==c?c:""} 1x`:[(null==s?void 0:s["474x"])&&`${null!==(n=s["474x"].url)&&void 0!==n?n:""} 2x`,(null==s?void 0:s["736x"])&&`${null!==(o=s["736x"].url)&&void 0!==o?o:""} 3x`,(null==s?void 0:s.orig)&&`${null!==(r=s.orig.url)&&void 0!==r?r:""} 4x`].filter(Boolean).join(", ")},c=(e,t,i,n,o=0)=>{if(i===t)return n*t*-1;const r=Math.floor(i-t),s=t+o;return n===e-1?-1*n*s+r:-1*n*s}},993786:(e,t,i)=>{i.d(t,{Z:()=>d});var n=i(667294),o=i(966113),r=i(898781),s=i(883119),a=i(785893);const l={xs:12,sm:16,md:20,lg:24};function c({children:e}){const t=(0,r.ZP)();return(0,a.jsx)(s.u,{link:(0,a.jsx)(s.rU,{href:o.Z.settings.HELP_SHOPPING_WITH_PINTEREST,target:"blank",children:(0,a.jsx)(s.xv,{color:"inverse",size:"100",weight:"bold",children:t._('Learn more', 'verifiedBadge.tooltip.link', 'Learn more about Pinterest\'s Merchant Guidelines')})}),text:t._('This retailer meets Pinterest\'s Merchant Guidelines', 'merchantVerification.badge.tooltip', 'Badge indicating that a merchant or user is verified'),children:e})}function d({hasVerifiedIdentity:e,iconOnly:t,isVerifiedMerchant:i,showText:o,size:d}){const u=(0,r.ZP)(),_=(0,a.jsxs)(s.kC,{alignItems:"center",justifyContent:"start",children:[(0,a.jsx)(s.JO,{accessibilityLabel:u._('Merchant verification badge icon', 'merchantVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"shopping",icon:"workflow-status-ok",inline:!0,size:l[d]}),o&&(0,a.jsx)(s.xu,{marginStart:2,children:(0,a.jsx)(s.xv,{color:"shopping",inline:!0,weight:"bold",children:u._('Verified merchant', 'creator.header.verifiedMerchant', 'this merchant is a verified merchant')})})]});return(0,a.jsxs)(n.Fragment,{children:[i&&!t&&(0,a.jsx)(c,{children:_}),i&&t&&_,e&&!i&&(0,a.jsx)(s.JO,{accessibilityLabel:u._('Domain verification icon', 'domainVerification.badge.icon', 'Badge indicating that a merchant or user is verified'),color:"error",icon:"check-circle",size:l[d]})]})}},855875:(e,t,i)=>{i.d(t,{J:()=>n,o:()=>o});const n="numSearchCloseups",o=20},91456:(e,t,i)=>{i.d(t,{GY:()=>s,LM:()=>l,h9:()=>c,r$:()=>a});var n=i(305689),o=i(909499);const r=["search_articles_story","shop_tab_upsell","story_pins_search_upsell","structured_search_bubble","user_style_story_v2","search_for_you_upsell"];function s({query:e,scope:t}){return`${e}-${t}`}function a({query:e,rs:t,scope:i},r){const s=(0,n.Hb)(),a=!s.view_type&&!s.view_parameter,l=(0,o.wF)(i);if(!a&&l){const{view_type:i,view_parameter:n}=s;r({event_type:l,view_type:i,view_parameter:n,aux_data:{query:e,rs:t||"Unknown"}})}"hashtag_closeup"===t?r({event_type:101,component:13065,element:10273,view_type:142}):"hashtag_pinrep"===t&&r({event_type:101,component:0,element:10349,view_type:142})}const l=(e=[])=>{let t=!0;return e.reduce(((e,i)=>{var n;return t&&i.story_type&&r.includes(i.story_type)&&0===(null===(n=i.display_options)||void 0===n?void 0:n.num_columns_requested)?e.searchFullWidthStories.push(i):(t=!1,e.filteredResults.push(i)),e}),{searchFullWidthStories:[],filteredResults:[]})};function c(e){const{results:t=[]}=e||{};return!!t.find((e=>!(null==e||!e.is_eligible_for_filters)))}},154391:(e,t,i)=>{i.d(t,{H:()=>r,o:()=>o});var n=i(425288);const{Provider:o,useHook:r}=(0,n.Z)("LimitedLogin")},968328:(e,t,i)=>{i.d(t,{ZP:()=>l,tY:()=>d,Yh:()=>c});var n=i(702664),o=i(784590),r=i(19121);const s=0,a=1;function l(e){var t;const i=(0,r.Z)(),n=i.isAuth&&i.id===e,s=(0,o.Z)({name:"UserResource",options:{field_set_key:"quicksave",user_id:e},dangerouslyDisableFetch:!i.isAuth||n});return{showEnabledSaveBehavior:n&&i.has_quicksave_board||!(!i.isAuth||null===(t=(null!=s?s:{}).data)||void 0===t||!t.has_quicksave_board)}}function c(e){var t;const i=(0,n.useDispatch)(),s=(0,r.Z)(),a=s.isAuth&&!!s.boardCount&&s.boardCount<5&&e,l=(0,o.Z)({name:"UserResource",options:{field_set_key:"save_behavior",user_id:s.isAuth&&s.id},dangerouslyDisableFetch:!a||!e});return s.isAuth&&void 0===s.save_behavior&&l&&null!==(t=l.data)&&void 0!==t&&t.id&&i({type:"UPDATE_USER_SAVE_BEHAVIOR",payload:{saveBehavior:l.data.save_behavior}}),{showEnabledSaveBehavior:a}}function d(e){const t=(0,r.Z)();let i;return e&&(t.save_behavior===s?i={type:"classic"}:t.save_behavior===a&&(i={type:"inline"})),{saveBehaviorType:i}}},848900:(e,t,i)=>{i.d(t,{Z:()=>n});const n=(e,t)=>`${e}:${t||""}`},86551:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(784590),o=i(276775);function r(){const{username:e}=(0,o.UO)();return(0,n.Z)({name:"UserResource",dangerouslyDisableFetch:null==e,options:{username:e,field_set_key:"profile"}})}},782050:(e,t,i)=>{i.d(t,{k:()=>r,s:()=>s});var n=i(667294);const o=(0,n.createContext)(Object.freeze({})),r=o.Provider;function s(){return(0,n.useContext)(o)}},907811:(e,t,i)=>{i.d(t,{Ac:()=>r,c7:()=>o,cg:()=>n});const n=-1,o=5,r=6},499155:(e,t,i)=>{i.r(t),i.d(t,{default:()=>E});var n=i(667294),o=i(898781),r=i(883119),s=i(785893);function a({size:e,iconColor:t,backgroundColor:i,disabled:n,onClick:a}){const l=(0,o.ZP)(),c=48===e?"lg":"xl";return(0,s.jsx)(r.hU,{accessibilityLabel:l._('Copy Link', 'shareMenu.icon.accessibilityLabel.copy', 'button to let users copy link directly'),bgColor:i,icon:"link",iconColor:t,size:c,disabled:n,onClick:a})}var l=i(239324),c=i(518604),d=i(499128),u=i(53987),_=i(773285),p=i(276775),h=i(343341),m=i(580744);function E({backgroundColor:e,iconColor:t,iconSize:i,iconWrapperWidth:E,isCloseupActionBar:g,marginEnd:f,sharedObject:y,spaceBelowIcon:v}){const I=(0,o.ZP)(),T=(0,h.F9)(),[P,S]=(0,n.useState)(""),[b,A]=(0,n.useState)(!1),[R,x]=(0,n.useState)(!1),O=(0,p.TH)(),C=I._('Link copied!', 'shareSheet.socialBar.copyLinkButton.LinkCopied', 'Notification link was copied to clipboard'),w=e=>{g?navigator.clipboard.writeText(e).then((()=>{var e;e=I._('Copied link to your clipboard to share', 'web.unauth.pinbar.copylink', 'Message to indicate link has been copied'),T.showToast((({hideToast:t})=>(0,s.jsx)(r.xu,{top:!0,children:(0,s.jsx)(d.ZP,{duration:3e3,onHide:t,text:e})})))})):navigator.clipboard.writeText(e).then((()=>{x(!0),setTimeout((()=>{x(!1)}),3e3)}))},N=async()=>{if(P)return void w(P);A(!0);const e={invite_category:3,invite_channel:12,object_type:y.type,object_id:y.id,name:y.name,description:y.description||"",path:y.url,picture:y.imageUrl};m.Z.createShareInviteData(e).then((t=>{const{invite_url:i}=t;A(!1),i&&(S(i),m.Z.logShareInvite(e,t),w(i))}))},D=()=>{N()},{checkExperiment:L}=(0,_.F)();return(0,u.am)(O)&&g&&L("web_copy_link_btn_replace").anyEnabled?(0,s.jsx)(r.xu,{marginStart:1,children:(0,s.jsx)(r.zx,{accessibilityLabel:I._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),text:I._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard'),onClick:()=>D(),size:"lg",color:"gray",fullWidth:!0})}):(0,s.jsxs)(c.Z,{width:E||i,marginEnd:f||!1,children:[(0,s.jsx)(r.xu,{alignItems:g?"center":"stretch",display:g?"flex":"block",marginBottom:v,width:g?"100%":"auto",children:(0,s.jsx)(r.kC,{alignItems:"center",direction:"column",justifyContent:"center",width:i,children:(0,s.jsx)(a,{backgroundColor:e,iconColor:t,size:i,onClick:D,disabled:b})})}),!g&&(0,s.jsx)(l.Z,{text:R?C:I._('Copy link', 'shareSheet.socialBar.copyLinkButton.CopyLink', 'Copy Pin URL to clipboard')})]})}},837727:(e,t,i)=>{i.d(t,{d:()=>n});const n={BOARD:"board",PIN:"pin",DID_IT:"did_it",PINNER:"pinner",USER:"user",TODAY_ARTICLE:"today_article",SEARCH:"search"}},451204:(e,t,i)=>{i.r(t),i.d(t,{default:()=>oe});var n=i(667294),o=i(116303),r=i(898781),s=i(934523),a=i(349700),l=i(407043);const c=56;var d=i(883119),u=i(785893);function _({idx:e,item:t,onSendMessage:i,onViewConversation:_,sentHistory:p}){var h;const m=(0,r.ZP)(),{logContextEvent:E}=(0,l.v)(),[g,f]=(0,n.useState)(!1),y=t.id||"string"==typeof t.email&&t.email||"",v=Object.prototype.hasOwnProperty.call(p,y),I=null!==(h=p[y])&&void 0!==h?h:"";let T="";"string"!=typeof t.full_name||t.full_name.match(/^\s*$/)?"string"!=typeof t.email||t.email.match(/^\s*$/)||(T=t.email):T=t.full_name;let P="";v?P=m._('View chat', 'shareSheet.ContactItem.viewChat', 'View current chat'):g&&(P=m._('Sent', 'shareSheet.ContactItem.sent', 'Item has been sent to contact'));return(0,u.jsx)(d.xu,{alignItems:"center","data-test-id":"sharesheet-contact-item",display:"flex",direction:"column",width:86,children:(0,u.jsx)(d.xu,{display:"inlineBlock",role:"button",children:(0,u.jsxs)(d.iP,{onTap:v?()=>_(I):()=>{E({event_type:101,component:13029,element:1039,aux_data:{result_index:e+1,rs:t.debug_reason.reason}}),f(!0),i(t)},children:[(0,u.jsxs)(d.xu,{alignItems:"center","data-test-id":g?"sharesheet-viewchat-link":"sharesheet-contact-item-button",display:"flex",height:c,justifyContent:"center",marginBottom:2,width:c,children:[g&&(0,u.jsx)(d.xu,{alignItems:"center",color:"transparentDarkGray","data-test-id":"sharesheet-contact-item-sent-icon",display:"flex",height:c,justifyContent:"center",position:"absolute",rounding:"circle",width:c,zIndex:new d.Ry(s.fe),children:(0,u.jsx)(d.JO,{accessibilityLabel:(0,a.Wc)(m._('Sent to {{recipientName}}', 'shareSheet.ContactItem.sentIcon.accessibilityLabel', 'Accessibility label for sent icon over user avatar, recipientName: message recipient'),{recipientName:T}),icon:"check",color:"light",size:24})}),(0,u.jsx)(o.Z,{size:"fit",src:t.image_large_url,name:T})]}),(0,u.jsxs)(d.xu,{"data-test-id":"sharesheet-contact-item-label",width:c,children:[(0,u.jsx)(d.xv,{lineClamp:1,size:"100",align:"center",children:T}),(0,u.jsx)(d.xv,{color:"subtle",size:"100",align:"center",children:P})]})]})})})}var p=i(784590),h=i(479301),m=i(711108);function E(e){var t;const{logContextEvent:i}=(0,l.v)(),o=(0,r.ZP)(),{onHide:s,onSendMessage:a,onShowImportContacts:E,objectAttachment:g,sentHistory:f}=e,{isLoaded:y}=(0,p.Z)({name:"ShareSuggestionsResource",options:{field_set_key:"default"},noCache:!0}),{shareSuggestions:v}=(0,m.E)(),I=(null===(t=v[""])||void 0===t?void 0:t.slice(0,5))||[],T=I.length>0;(0,n.useEffect)((()=>{if(y){i({event_type:T?7511:7512,component:56,view_type:70,view_parameter:256})}}),[T,i,y]);const{dropdownOpen:P,conversationOpen:S,newMessageOpen:b}=(0,h.Z5)(),A=e=>{S(e),P(),s()},R=I.map(((e,t)=>{const i=`${e.id||e.email||t}`,n={item:e,idx:t,onSendMessage:a,onViewConversation:A,sentHistory:f};return(0,u.jsx)(_,{...n},i)})),x=!T&&!y;return(0,u.jsxs)(d.kC,{direction:"column",children:[(0,u.jsx)(d.kC,{alignItems:"center",height:64,justifyContent:"center",children:(0,u.jsx)(d.xv,{align:"center",size:"300",weight:"bold",children:o._('Send on Pinterest', 'ContactsSuggestions.Header.text', 'Header for contact suggestion section of the share menu')})}),(0,u.jsx)(d.xu,{display:"flex",height:98,justifyContent:x?"center":void 0,marginBottom:5,children:x?(0,u.jsx)(d.xu,{paddingY:2,children:(0,u.jsx)(d.$j,{accessibilityLabel:o._('Loading Conversation Messages', 'SendObject.contactList.spinner', 'Spinner that indicates then the contact list is being loaded'),show:!0})}):(0,u.jsxs)(d.kC,{direction:"row",children:[(0,u.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:86,children:[(0,u.jsx)(d.xu,{height:c,marginBottom:2,width:c,children:(0,u.jsx)(d.hU,{accessibilityLabel:o._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"search",iconColor:"darkGray",onClick:()=>{b(g),P(),s()},size:"xl"})}),(0,u.jsx)(d.xv,{lineClamp:1,size:"100",children:o._('Search', 'ContactsSuggestions.SearchOption.text', 'Label for search icon in Contacts Suggestions list')})]}),T?R:(0,u.jsxs)(d.kC,{alignItems:"center",direction:"column",justifyContent:"start",width:86,children:[(0,u.jsx)(d.xu,{height:c,marginBottom:2,width:c,children:(0,u.jsx)(d.hU,{accessibilityLabel:o._('Search for users', 'ContactsSuggestsions.SearchIcon.accessibilityLabel', 'Accessibility label for search icon in Contacts Suggestions list'),bgColor:"lightGray",icon:"people",iconColor:"darkGray",onClick:E,size:"xl"})}),(0,u.jsx)(d.xv,{lineClamp:1,size:"100",children:o._('Import', 'ContactsSuggestions.ImportOption.text', 'Label for import contacts icon in Contacts Suggestions list')})]})]})})]})}function g(e){switch(e){case"AuthHomefeed":return 13;case"BaseBoardPinGrid":return 5;case"BoardMoreIdeasTabContent":return 23;case"ConversationView":return 19;case"FollowingFeedGrid":return 21;case"ProfilePromotablePinCard":return 1;case"RelatedPinGrid":case"RelatedProductsFeed":return 14;case"RelatedProductsExploreTab":return 4;case"ShoppingPackageItem":case"ShoppingSquareGridPdp":case"ShoppingGridShippedMetadata":case"ProductPinsFeed":return 27;case"StoryPinFeedGrid":return 28;case"TodayArticleFeed":return 20;case"UserProfilePinGrid":default:return e}}var f=i(936776),y=i(837727);function v(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}class I extends n.Component{constructor(...e){super(...e),v(this,"state",{textValue:this.props.initialTextValue||"",emailValue:""}),v(this,"handleSendEmail",((e,t)=>{if(e){const i={type:"email_share_suggestion",id:"",email:e,debug_reason:{reason:"",readable_reason:""}};this.props.onSendMessage(i,t)}})),v(this,"handleTextValueChange",(({value:e})=>{this.setState({textValue:e})})),v(this,"handleEmailValueChange",(({value:e})=>{this.setState({emailValue:e})}))}renderCloseButton(){const{i18n:e,onCancelDraft:t}=this.props;return(0,u.jsx)(d.hU,{accessibilityLabel:e._('Cancel share to user', 'accessibility label for close button', 'accessibility label for close button'),icon:"arrow-back",onClick:t,size:"sm"})}render(){const{width:e}=this.props;return(0,u.jsxs)(d.xu,{display:"flex",direction:"column",column:12,paddingX:4,paddingY:2,width:e,color:"default",children:[(0,u.jsxs)(d.xu,{display:"flex",alignItems:"center",paddingY:4,children:[this.renderCloseButton(),(0,u.jsx)(d.xu,{flex:"grow",marginEnd:8,children:(0,u.jsx)(d.xv,{align:"center",weight:"bold",children:this.props.i18n._('Send to', 'shareSheet.SendToEmail.label', 'Send to label')})})]}),(0,u.jsxs)(d.kC,{alignItems:"stretch",justifyContent:"start",direction:"column",children:[(0,u.jsx)(d.xu,{paddingY:1,marginBottom:4,children:(0,u.jsx)(d.Kx,{id:"email",onChange:this.handleEmailValueChange,placeholder:this.props.i18n._('Enter email address', 'Email address to send to', 'Email address to send to'),value:this.state.emailValue||"",rows:1})}),(0,u.jsx)(d.Kx,{id:"sendObjectMessage",onChange:this.handleTextValueChange,placeholder:this.props.i18n._('Add a message', 'shareSheet.SendToEmail.textareaPlaceholder', 'Placeholder that tells user this is where they can add a messaage'),value:this.state.textValue||""}),(0,u.jsx)(d.xu,{paddingY:4,display:"flex",justifyContent:"center",children:(0,u.jsx)(d.zx,{size:"lg",color:"red",onClick:()=>this.handleSendEmail(this.state.emailValue||"",this.state.textValue||""),type:"submit",text:this.props.i18n._('Send', 'shareSheet.SendToEmail.sendButton', 'Button that sends out to email'),disabled:!(0,f.Z)(this.state.emailValue)})})]})]})}}function T(e){const t=(0,r.ZP)();return(0,u.jsx)(I,{...e,i18n:t})}var P=i(567831),S=i(499155),b=i(31149),A=i(107193),R=i(659522),x=i(331744);function O({size:e=48}){return(0,u.jsxs)("svg",{width:e,height:e,viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg",display:"block",children:[(0,u.jsx)("rect",{width:"56",height:"56",rx:"28",fill:"#fff"}),(0,u.jsx)("rect",{x:".5",y:".5",width:"55",height:"55",rx:"27.5",stroke:"#767676",strokeOpacity:".4"}),(0,u.jsx)("path",{d:"M39 19.5c0 1.381-1.119 2.5-2.5 2.5S34 20.881 34 19.5s1.119-2.5 2.5-2.5 2.5 1.119 2.5 2.5ZM18.5 28c0-.69-.56-1.25-1.25-1.25S16 27.31 16 28s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25ZM26.75 38.75c0-.69.56-1.25 1.25-1.25s1.25.56 1.25 1.25S28.69 40 28 40s-1.25-.56-1.25-1.25Z",fill:"#E60023"}),(0,u.jsx)("path",{d:"M29.25 17.25c0 .69-.56 1.25-1.25 1.25s-1.25-.56-1.25-1.25S27.31 16 28 16s1.25.56 1.25 1.25ZM17 36.5c0-1.381 1.119-2.5 2.5-2.5s2.5 1.119 2.5 2.5-1.119 2.5-2.5 2.5-2.5-1.119-2.5-2.5ZM38.75 26.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25S40 28.69 40 28s-.56-1.25-1.25-1.25Z",fill:"#FFD63F"}),(0,u.jsx)("path",{d:"M19.5 22c1.381 0 2.5-1.119 2.5-2.5S20.881 17 19.5 17 17 18.119 17 19.5s1.119 2.5 2.5 2.5ZM36.5 34c-1.381 0-2.5 1.119-2.5 2.5s1.119 2.5 2.5 2.5 2.5-1.119 2.5-2.5-1.119-2.5-2.5-2.5Z",fill:"#46CC88"}),(0,u.jsx)("path",{d:"M28 21c-3.866 0-7 3.134-7 7s3.134 7 7 7 7-3.134 7-7-3.134-7-7-7Z",fill:"#3869FF"})]})}var C=i(239324),w=i(518604),N=i(19121);function D({iconSize:e,iconWrapperWidth:t,marginBottom:i,marginEnd:n,onCreatePincodeClick:o,sharedObject:s}){const a=(0,r.ZP)(),l=(0,N.Z)();return o&&[y.d.BOARD,y.d.PINNER,y.d.USER].includes(s.type)&&l.isAuth&&(s.id===l.id||l.isEmployee)?(0,u.jsxs)(w.Z,{width:t,marginEnd:n,children:[(0,u.jsx)(d.xu,{marginBottom:i,children:(0,u.jsx)(d.iP,{fullWidth:!1,onTap:o,children:(0,u.jsx)(O,{size:e})})}),(0,u.jsx)(C.Z,{text:a._('Pincode', 'Share via pincode', 'Share via pincode')})]},"pincode"):null}var L=i(464240),k=i(22641),M=i(780280),j=i(580744),U=i(343341);function F(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const B={backgroundColor:"#ffffff",border:"none",padding:0},G=new Set(["JP","TW","TH"]),z=(e,t)=>{(0,A.default)((t=>{t&&(t.getUserID()?e():t.login((()=>{e()})))}),t)};class V extends n.Component{constructor(...e){super(...e),F(this,"state",{whatsappInviteData:null,inviteData:null,whatsappURL:"",whatsAppLogged:!1,copyLinkLogged:!1}),F(this,"logShareInviteLink",(()=>{const{copyLinkLogged:e,inviteData:t}=this.state,i=this.getShareOptions(12);e||(j.Z.logShareInvite(i,t),this.setState({copyLinkLogged:!0}))}))}componentDidMount(){this.getWhatsAppURL()}getShareOptions(e){const{sharedObject:t}=this.props;return{invite_category:t.type===y.d.SEARCH?10:3,invite_channel:e,object_type:t.type,object_id:t.id,name:t.name,description:t.description||"",path:t.url,picture:t.imageUrl}}getWhatsAppURL(){const e=this.getShareOptions(10);j.Z.createShareInviteData(e).then((e=>{const t=`${e.title}\n${e.invite_url}`;if(t){const i=encodeURIComponent(t);this.setState({whatsappInviteData:e,whatsappURL:"https://web.whatsapp.com/send?text="+i})}else this.setState({whatsappURL:"https://web.whatsapp.com/send?text="+(0,P.Z)(this.props.sharedObject.url)})}))}checkWritePermissions(){return!!this.props.viewer.isWriteBanned}handleSocialShareClick(e){if(this.checkWritePermissions())return;let t=46;"facebook"===e?(this.openFacebookDialog(),t=257):"twitter"===e?(this.openTwitterDialog(),t=256):"messenger"===e?(this.openFbMessengerDialog(),t=950):"whatsapp"===e?(this.openWhatsAppDialog(),t=951):"pincode"===e?this.props.onCreatePincodeClick&&this.props.onCreatePincodeClick():"copylink"===e?(this.openShareUrlLink(),t=100):"email"===e?(this.openEmailDialog(),t=258):"line"===e&&(this.openLineDialog(),t=952),this.props.onExternalSend&&this.props.onExternalSend(),this.props.logContextEvent({event_type:101,component:153,element:t})}openEmailDialog(){this.props.onEmailIconClick()}openFacebookDialog(){const{unauthId:e,viewer:t}=this.props;z((()=>{j.Z.shareFacebookInvite({options:this.getShareOptions(5),unauthId:e,viewer:t})}),t)}openFbMessengerDialog(){const{unauthId:e,viewer:t}=this.props;z((()=>{j.Z.shareFbMessengerInvite({options:this.getShareOptions(6),unauthId:e,viewer:t})}),t)}openWhatsAppDialog(){const e=this.getShareOptions(10);this.state.whatsAppLogged||(j.Z.logShareInvite(e,this.state.whatsappInviteData),this.setState({whatsAppLogged:!0}))}openShareUrlLink(){this.logShareInviteLink()}openTwitterDialog(){j.Z.shareTwitterInvite(this.getShareOptions(9))}openLineDialog(){j.Z.shareLineInvite(this.getShareOptions(8))}renderEmail(){return(0,u.jsxs)(w.Z,{width:86,marginEnd:!1,children:[(0,u.jsx)(d.xu,{display:"inlineBlock",marginBottom:2,children:(0,u.jsx)("button",{"aria-label":this.props.i18n._('Share on Email', 'sharesheet.shareSocialBar.ShareEmail', 'Button that will share via Email'),onClick:()=>this.handleSocialShareClick("email"),style:B,children:(0,u.jsx)(b.Z,{size:56})})}),(0,u.jsx)(C.Z,{text:this.props.i18n._('Email', 'Share via email', 'Share via email')})]},"email")}renderShareOptions(){const{i18n:e,onCreatePincodeClick:t,sharedObject:i,showLineShare:o,isPublisherSharingObject:r}=this.props,s=c,a=86;return(0,u.jsx)(n.Fragment,{children:(0,u.jsxs)(d.kC,{justifyContent:"start",children:[o&&(0,u.jsxs)(w.Z,{width:a,marginEnd:!1,children:[(0,u.jsx)(d.xu,{marginBottom:2,children:(0,u.jsx)("button",{"aria-label":e._('Share on LINE', 'sharesheet.shareSocialBar.ShareLine', 'Button that will share via Line'),onClick:()=>this.handleSocialShareClick("line"),style:B,children:(0,u.jsx)(x.Z,{size:s})})}),(0,u.jsx)(C.Z,{text:e._('LINE', 'sharesheet.shareSocialBar.ShareLineLabel', 'Line button label')})]}),(0,u.jsxs)(w.Z,{width:a,marginEnd:!1,children:[(0,u.jsx)(d.xu,{marginBottom:2,children:(0,u.jsx)("button",{"aria-label":e._('Share on WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsapp', 'Button that will share via WhatsApp'),onClick:()=>this.handleSocialShareClick("whatsapp"),style:B,tabIndex:"-1",children:(0,u.jsx)(d.iP,{rounding:"circle",role:"link",href:this.state.whatsappURL,target:"blank",children:(0,u.jsx)(k.Z,{size:s})})})}),(0,u.jsx)(C.Z,{text:e._('WhatsApp', 'sharesheet.shareSocialBar.ShareWhatsappLabel', 'WhatsApp button label')})]}),(0,u.jsxs)(w.Z,{width:a,marginEnd:!1,children:[(0,u.jsx)(d.xu,{marginBottom:2,children:(0,u.jsx)("button",{"aria-label":e._('Share on Facebook', 'sharesheet.shareSocialBar.ShareFacebook', 'Button that will share via Facebook'),onClick:()=>this.handleSocialShareClick("facebook"),style:B,children:(0,u.jsx)(R.Z,{size:s})})}),(0,u.jsx)(C.Z,{text:e._('Facebook', 'sharesheet.shareSocialBar.ShareFacebookLabel', 'Facebook button label')})]}),(0,u.jsxs)(w.Z,{width:a,marginEnd:!1,children:[(0,u.jsx)(d.xu,{marginBottom:2,children:(0,u.jsx)("button",{"aria-label":e._('Share on Twitter', 'sharesheet.shareSocialBar.ShareTwitter', 'Button that will share via Twitter'),onClick:()=>this.handleSocialShareClick("twitter"),style:B,"data-test-id":"twitter-share-icon",children:(0,u.jsx)(L.Z,{size:s})})}),(0,u.jsx)(C.Z,{text:e._('Twitter', 'sharesheet.shareSocialBar.ShareTwitterLabel', 'Twitter button label')})]}),(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(D,{iconSize:s,iconWrapperWidth:a,marginBottom:2,marginEnd:!1,onCreatePincodeClick:t,sharedObject:i}),(0,u.jsx)(S.default,{sharedObject:i,backgroundColor:"lightGray",iconColor:"darkGray",iconSize:s,iconWrapperWidth:a,marginEnd:o,isCloseupActionBar:!1,spaceBelowIcon:2},"copylink"),!r&&this.renderEmail()]})]})})}render(){const{paddingX:e}=this.props;return(0,u.jsxs)(d.xu,{paddingX:e,children:[(0,u.jsx)(d.kC,{alignContent:"center",alignItems:"center",height:64,justifyContent:"center",children:(0,u.jsx)(d.xv,{size:"300",weight:"bold",children:this.props.i18n._('Share to', 'Sharesheet.ShareSocialBar', 'Externally share a Pin/Board/profile')})}),(0,u.jsx)(d.xu,{height:98,children:this.renderShareOptions()})]})}}function H(e){const{logContextEvent:t}=(0,l.v)(),i=(0,r.ZP)(),n=(0,N.Z)(),o=n.isAuth&&G.has(n.country),s=(0,M.B)();return(0,u.jsx)(V,{...e,toastManagerContext:(0,U.F9)(),viewer:(0,N.Z)(),showLineShare:o,i18n:i,logContextEvent:t,unauthId:s.unauthId})}var Z=i(172071),W=i(6637),$=i(499128),Y=i(717615),K=i(231947),q=i(758523);const X=(e,t)=>{const i={};return e.forEach((e=>{i[e]=t})),i};function J(e){const{logContextEvent:t}=(0,l.v)(),i=(0,r.ZP)(),[o,s]=(0,n.useState)(!1),[a,c]=(0,n.useState)(null),[_,p]=(0,n.useState)({}),[m]=(0,n.useState)(((e,t)=>"today_article"===e?t._('Check out this article on Pinterest!', 'sendObject.initialTextValue.todayArticle', 'pre-populated share message when a user tries to send a Today Article'):"")(e.sendType,i)),{showOneToast:f}=(0,U.F9)(),{surface:v}=(0,q.$)(),I=(0,N.Z)(),P=(0,Y.Z)(),{conversationCreate:S}=(0,h.Z5)(),b=(0,h.NG)(),A=(i,n)=>{s(!1),e.onMessageSent(),((i,n)=>{const{sharedObject:o}=e,r=o.id;Z.Z.increment("web.sharesheet.internal.send",1,{status:"success"}),t({event_type:180,element:276,object_id_str:r,aux_data:{conversation_id:i,pin_id:n}})})(i,n)},R=e=>{Z.Z.increment("web.sharesheet.internal.send",1,{status:"fail"});const t=e.message_detail||e.message;t&&f((({hideToast:e})=>(0,u.jsx)($.ZP,{variant:"error",duration:5e3,onHide:e,text:t})))},x=async(t,i,n)=>{const{sharedObject:o,sendType:r}=e,s=o.id,a={emails:i,user_ids:t,text:n,source:g(v)};a[r]=s;const l=W.Z.create("ConversationsResource",a);try{const e=await l.callCreate(),n=e&&e.resource_response.data;S(n),A(n.id,"pin"===r?s:null),t.length>0?p({..._,...X(t,n.id)}):p({..._,...X(i,n.id)})}catch(c){R(c)}},O=(i,n)=>{"conversation_share_suggestion"===i.type?((t,i,n)=>{const{sharedObject:o,sendType:r}=e;let s;switch(r){case"pin":s="pinId";break;case"board":s="boardId";break;case"did_it":s="didItId";break;case"user":case"pinner":s="userId"}const a=s?b(t,{text:i,[s]:o.id,source:g(v)},void 0,I):void 0;a&&a.then((()=>{A(t,"pin"===r?o.id:null),p({..._,[t]:t})})).catch((e=>{R(e)}))})(i.id,n):"user_share_suggestion"===i.type&&i.username?x([i.id],[],n):x([],[i.email],n),t({event_type:101,component:56,element:276})},C=(t,i)=>{e.sendType!==y.d.SEARCH||i?O(t,i):W.Z.create("ShareLinkResource",{invite_category:10,url:e.sharedObject.url}).callCreate().then((e=>Promise.resolve(e.resource_response.data)),(e=>Promise.reject(e))).then((e=>{const i=e.message;O(t,i)}))},{onCreatePincodeClick:w,onShowImport:D,sendType:L,sharedObject:k,onHide:M,onExternalSend:j}=e,F="user"===e.sendType&&(0,K.q6)(I,e.sharedObject.id,P),B=("board"===e.sendType||"pin"===e.sendType)&&void 0!==e.sharedObject.ownerId&&(0,K.q6)(I,e.sharedObject.ownerId,P),G=F||B;return o&&"email"===a?(0,u.jsx)(T,{initialTextValue:m,objectId:k.id,objectType:L,onCancelDraft:()=>{s(!1),c(null)},onHide:M,onSendMessage:C,width:540}):(0,u.jsxs)(d.xu,{color:"default",paddingX:3,paddingY:2,width:540,children:[(0,u.jsx)(H,{onCreatePincodeClick:w,onEmailIconClick:()=>{s(!0),c("email")},onExternalSend:j,onHide:M,paddingX:4,sharedObject:k,isPublisherSharingObject:G}),!G&&(0,u.jsxs)(n.Fragment,{children:[(0,u.jsx)(d.xu,{marginTop:1,paddingX:3,paddingY:3,children:(0,u.jsx)(d.iz,{})}),(0,u.jsx)(E,{objectAttachment:{type:L,id:k.id},onHide:M,onSendMessage:C,onShowImportContacts:D,sentHistory:_})]})]})}var Q=i(808475);const ee=["facebook","google"];function te(e,t){return"facebook"===e?t._('Facebook', ' - ', ' -- '):"google"===e?t._('Google', ' - ', ' -- '):t._('Other', ' - ', ' -- ')}function ie(e,t,i){return"facebook"===e?i._('Friends who are on Pinterest', ' - ', ' -- '):"google"===e&&t&&-1!==t.indexOf("@gmail")?t:null}function ne({onBack:e}){const t=(0,r.ZP)(),i=(0,N.Z)(),n=i.isAuth?i.email:null,o=ee.filter((e=>!i.isAuth||!1===i.socialNetwork[e].connected)),s=(0,Q.k)();return(0,u.jsx)(d.xu,{paddingX:1,paddingY:2,children:(0,u.jsxs)(d.kC,{gap:{row:0,column:2},direction:"column",children:[(0,u.jsxs)(d.kC,{gap:{row:2,column:0},alignItems:"center",children:[(0,u.jsx)(d.hU,{accessibilityLabel:t._('Back', ' - ', ' -- '),icon:"arrow-back",iconColor:"darkGray",onClick:e}),(0,u.jsx)(d.xv,{size:"300",weight:"bold",children:t._('Upload contacts from...', ' - ', ' -- ')})]}),(0,u.jsx)(d.kC,{direction:"column",gap:{row:0,column:4},children:o.map((e=>(0,u.jsx)(d.xu,{paddingX:2,children:(0,u.jsxs)(d.iP,{onTap:()=>(e=>{s.handleConnect(e,!0,{},t)})(e),children:[(0,u.jsx)(d.xv,{size:"200",children:te(e,t)}),(0,u.jsx)(d.xv,{size:"200",children:ie(e,n,t)})]})},e)))})]})})}function oe({onCreatePincodeClick:e,onExternalSend:t,onHide:i,sendType:o,sharedObject:r,viewType:a,viewParameter:c}){const{logContextEvent:_}=(0,l.v)(),[p,h]=(0,n.useState)(!1),[m,E]=(0,n.useState)(!1);(0,n.useEffect)((()=>(_({event_type:7120,object_id_str:r.id,view_type:a,view_parameter:c}),()=>{_({event_type:7121,object_id_str:r.id,view_type:a,view_parameter:c});_({event_type:m?7493:7492,view_type:a,view_parameter:c})})),[]);const g=()=>{h(!0)},f=()=>{h(!1)},y=()=>{E(!0)};return p?(0,u.jsx)(ne,{onBack:f}):(0,u.jsx)(d.xu,{overflow:"hidden",zIndex:new d.Ry(s.fe-1),color:"default",children:(0,u.jsx)(J,{onCreatePincodeClick:e,onHide:i,onShowImport:g,onMessageSent:y,onExternalSend:t,sendType:o,sharedObject:r})})}},239324:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(207112),o=i(883119),r=i(785893);const s=({text:e})=>(0,r.jsx)(o.xv,{align:"center",size:"100",children:(0,r.jsx)(n.Z,{maxWidthPx:128,maxHeightPx:50,children:e})})},518604:(e,t,i)=>{i.d(t,{Z:()=>r});var n=i(883119),o=i(785893);const r=({width:e,marginEnd:t,children:i})=>(0,o.jsx)(n.xu,{alignItems:"center",direction:"column",display:"flex",marginEnd:t?2:0,width:e,children:i})},844949:(e,t,i)=>{i.d(t,{X:()=>d,f:()=>c});var n=i(667294);function o(e=null,t){switch(t.type){case"REPORT_CONTENT_SHOW":return{id:t.payload.id,isProduct:t.payload.isProduct,isPromoted:t.payload.isPromoted,videoDuration:t.payload.videoDuration,viewParameter:t.payload.viewParameter,viewType:t.payload.viewType,type:t.payload.type};case"REPORT_CONTENT_DISMISS":return null;default:return e}}var r=i(425288),s=i(623568),a=i(785893);const{Provider:l,useHook:c}=(0,r.Z)("ReportData");function d({children:e}){const[t,i]=(0,n.useReducer)(o,null),r=(0,n.useCallback)((()=>i({type:"REPORT_CONTENT_DISMISS"})),[]),c=(0,n.useCallback)(((e,t,n)=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"aggregatedComment"}})),[]),d=(0,n.useCallback)(((e,t,n)=>i({type:"REPORT_CONTENT_SHOW",payload:{id:e,isProduct:!1,isPromoted:!1,videoDuration:null,viewParameter:t,viewType:n,type:"pin"}})),[]),u=(0,n.useCallback)(((e,t,n)=>{const{id:o,videos:r}=e,a=(0,s.VX)(e),l=(0,s.jL)(e);let c;if((0,s.iR)(r)&&r){const{video_list:e={}}=r,t=e[Object.keys(e)[0]];c=t&&t.duration}i({type:"REPORT_CONTENT_SHOW",payload:{id:o,isProduct:a,isPromoted:l,videoDuration:c,viewParameter:t,viewType:n,type:"pin"}})}),[]),_=(0,n.useMemo)((()=>({reportData:t,dismiss:r,reportComment:c,reportImage:d,reportPin:u})),[t,r,c,d,u]);return(0,a.jsx)(l,{value:_,children:e})}},304515:(e,t,i)=>{i.d(t,{Z:()=>a});var n=i(81226),o=i(898781),r=i(883119),s=i(785893);function a({duration:e}){const t=(0,o.ZP)();return(0,s.jsxs)(r.xu,{alignItems:"center",color:"transparentDarkGray",display:"flex",height:24,justifyContent:"center",paddingX:2,rounding:"pill",children:[(0,s.jsx)(r.JO,{accessibilityLabel:t._('Video camera icon', 'Video camera indicator icon for a Pin', 'Video camera indicator icon for a Pin'),color:"light",icon:"video-camera"}),(0,s.jsx)(r.xu,{marginStart:1,children:(0,s.jsx)(r.xv,{color:"inverse",size:"100",lineClamp:1,children:(0,n.Z)(e)})})]})}},572260:(e,t,i)=>{i.d(t,{ZP:()=>S});var n=i(667294),o=i(23279),r=i.n(o),s=i(722767);function a(e){const{eventData:{videoEvent:{videoDuration:t,startTime:i,endTime:n,videoStartTime:o,videoEndTime:r,isAudible:s,height:a,width:l,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:_,windowWidth:p,viewability:h}},component:m,objectId:E,view:g,viewParameter:f,...y}=e;return{component:m,object_id_str:E,view_type:g,view_parameter:f,aux_data:{...y},event_data:{videoEventData:{videoDuration:t,time:i,endTime:n,videoTime:o,endVideoTime:r,isAudible:s,height:a,width:l,playbackState:c,quartile:d,quartilePercentValue:u,windowHeight:_,windowWidth:p,viewability:h}}}}var l=i(121630),c=i(559230),d=i(407043),u=i(288273),_=i(883119),p=i(785893);function h(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const m=[0,.25,.5,.75,.95,.97],E=[0,.5,.8,.99,1],g="-64px 0px 0px 0px",f={rootMargin:g,threshold:E},y={rootMargin:g,threshold:c.iM},v=Object.freeze({LOADING:0,PLAYING:1,PAUSED:2,STALLING:3});function I(){return(new Date).getTime()}function T(e){return!!e.volume&&e.volume>0}class P extends n.Component{constructor(e){super(e),h(this,"videoWrapperRef",(0,n.createRef)()),h(this,"handleWindowResize",(()=>{if(!this.fullscreen){const e=this.getDimensions(),{height:t,width:i}=this.currentInterval;e.height!==t||e.width!==i?this.startNewInterval(e):(this.currentInterval.windowHeight=e.windowHeight,this.currentInterval.windowWidth=e.windowWidth)}})),h(this,"handlePlayheadDown",(({event:e})=>{const{onPlayheadDown:t}=this.props;this.setState({seeking:!0}),t&&t({event:e})})),h(this,"handlePlayheadUp",(({event:e})=>{const{onPlayheadUp:t}=this.props;this.setState({seeking:!1}),t&&t({event:e})})),h(this,"handleLoop",(()=>{this.videoTime=0})),h(this,"handleTimeChange",(e=>{const{seeking:t,ready:i}=this.state;if(!this.currentInterval.videoDuration)return;const n=1e3*e.time,o=function(e,t,i,n){if(e>t)return null;if(i<=0)return null;for(const o of n){const n=o*i;if(e<=n&&t>n)return o}return null}(this.videoTime,n,this.currentInterval.videoDuration,m);if("number"==typeof o&&this.props.playing&&!t&&i){const e=I();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:Math.floor(4*o),quartilePercentValue:o})}this.videoTime=n,this.props.onTimeChange&&this.props.onTimeChange(e)})),h(this,"handleDurationChange",(e=>{this.currentInterval.videoDuration=1e3*e.duration,this.props.onDurationChange&&this.props.onDurationChange(e)})),h(this,"handleReady",(e=>{const{ready:t}=this.state;t||this.setState({ready:!0}),this.props.onReady&&this.props.onReady(e)})),h(this,"handleEnded",(e=>{this.logFourthQuartileEvent(),this.props.loop&&(this.startNewInterval(),this.currentInterval.videoStartTime=0),this.props.onEnded&&this.props.onEnded(e)})),h(this,"handleVisibilityChange",((e,t)=>{if(0===e.length)return;const i=e.slice(-1)[0],n=function(e,t){for(let i=0;i<t.length;i+=1){const n=t[i],o=t[i+1];if(null==o)return n;if(n<=e&&e<o)return n}return null}(Number.parseFloat(i.intersectionRatio.toFixed(2)),E);"number"==typeof n&&(this.visible=n>=.5),null==n||n===this.currentInterval.viewability||this.fullscreen||(0===n?this.startNewInterval({viewability:n,playbackState:v.PAUSED}):this.startNewInterval({viewability:n}))})),h(this,"handleFullscreenChange",(({event:e,fullscreen:t})=>{if(t){const{height:e,width:t}=window.screen;this.startNewInterval({height:e,width:t,windowHeight:e,windowWidth:t})}else t||this.startNewInterval(this.getDimensions());this.fullscreen=t,this.props.onFullscreenChange&&this.props.onFullscreenChange({event:e,fullscreen:t})})),h(this,"handleClose",(()=>{this.startNewInterval()})),h(this,"handleContextMenu",(e=>{e.preventDefault()})),this.state={ready:!1,seeking:!1};const t=I();this.handleWindowResize=r()(this.handleWindowResize,1e3),this.currentInterval={videoDuration:0,startTime:t,endTime:t,videoStartTime:0,videoEndTime:0,isAudible:T(e),playbackState:this.getPlaybackState(e,this.state),quartile:-1,quartilePercentValue:0,height:null,width:null,windowHeight:null,windowWidth:null,viewability:null},this.videoTime=0,this.fullscreen=!1,this.visible=null}componentDidMount(){this.currentInterval={...this.currentInterval,...this.getDimensions()},window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeunload",this.handleClose)}componentDidUpdate(e,t){const i={};T(e)&&!T(this.props)?i.isAudible=!1:!T(e)&&T(this.props)&&(i.isAudible=!0);const n=this.getPlaybackState(this.props,this.state);this.getPlaybackState(e,t)!==n&&(i.playbackState=n),Object.keys(i).length>0&&this.startNewInterval(i)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeunload",this.handleClose),this.startNewInterval()}getPlaybackState(e,t){return t.ready?e.playing&&!t.seeking?v.PLAYING:v.PAUSED:v.LOADING}getDimensions(){let e,t;if(this.videoWrapperRef.current){const i=this.videoWrapperRef.current;i.clientHeight&&i.clientWidth&&(e=i.clientHeight,t=i.clientWidth)}return{height:e,width:t,windowHeight:window.innerHeight,windowWidth:window.innerWidth}}logVideoEvent(e,t){const{closeupStoryPinViewability:i,contextLogData:n,logContextEvent:o}=this.props,{height:r,width:s,windowHeight:l,windowWidth:c,viewability:d,...u}=t;if(null!=r&&null!=s&&null!=l&&null!=c&&null!=d){const t={...u,height:r,width:s,windowHeight:l,windowWidth:c,viewability:i||d};o({event_type:e,...a({...n,view:this.fullscreen?108:n.view,eventData:{videoEvent:t}})})}}logFourthQuartileEvent(){const e=I();this.logVideoEvent(6906,{...this.currentInterval,startTime:e,endTime:e,videoStartTime:0,videoEndTime:0,quartile:4,quartilePercentValue:1})}startNewInterval(e){const t=I();this.logVideoEvent(6904,{...this.currentInterval,endTime:t,videoEndTime:this.videoTime}),this.currentInterval={...this.currentInterval,...e,startTime:t,videoStartTime:this.videoTime,endTime:-1,videoEndTime:-1}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:o,accessibilityProgressBarLabel:r,accessibilityUnmuteLabel:a,aspectRatio:c,backgroundColor:d,captions:h,contextLogData:m,controls:E,cropHeight:g,hlsConfig:v,inAdsDesktopVideoExperiment:I,isAutoPlay:T,loop:P,objectFit:S,onLoadedChange:b,onControlsPause:A,onControlsPlay:R,onSeek:x,onVolumeChange:O,playbackRate:C,playing:w,playsInline:N,poster:D,preload:L,rootMargin:k,src:M,surface:j,videoStartTime:U,volume:F}=this.props,{seeking:B}=this.state,G=I?y:f;return void 0!==k&&(G.rootMargin=j?(0,l.e)(j):k),(0,p.jsx)(s.Z,{options:G,onVisibilityChange:this.handleVisibilityChange,children:(0,p.jsx)(_.xu,{ref:this.videoWrapperRef,onContextMenu:this.handleContextMenu,dangerouslySetInlineStyle:{__style:g?{display:"flex",alignItems:"center",height:`${g}px`}:{}},children:(0,p.jsx)(u.default,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:o,accessibilityProgressBarLabel:r,accessibilityUnmuteLabel:a,aspectRatio:g?236/g:c,backgroundColor:d,captions:h,contextLogData:m,controls:E,hlsConfig:v,isAutoPlay:T,loop:P,objectFit:S,onDurationChange:this.handleDurationChange,onEnded:this.handleEnded,onFullscreenChange:this.handleFullscreenChange,onLoadedChange:b,onLoop:this.handleLoop,onControlsPause:A,onControlsPlay:R,onPlayheadDown:this.handlePlayheadDown,onPlayheadUp:this.handlePlayheadUp,onReady:this.handleReady,onSeek:x,onTimeChange:this.handleTimeChange,onVolumeChange:O,playbackRate:C,playing:!B&&w,onPlay:()=>{},onPlayError:()=>{},playsInline:N,poster:D,preload:L,src:M,videoStartTime:U,visible:this.visible,volume:F})})})}}function S(e){const{logContextEvent:t}=(0,d.v)();return(0,p.jsx)(P,{...e,logContextEvent:t})}h(P,"defaultProps",_.nk.defaultProps)},288273:(e,t,i)=>{i.r(t),i.d(t,{VideoWrapper:()=>I,default:()=>T,getPlaylistSourceSrc:()=>v});var n=i(667294),o=i(19121),r=i(494349),s=i(407043),a=i(773285),l=i(780280),c=i(883119),d=i(969315),u=i(179888),_=i(785893);function p(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function h(e,t){if(!e||void 0===e)return"undefined";if("string"==typeof e){let i=e;if(t){const n="control"===t?"v3.pinimg.com":"v2.pinimg.com";i=e.replace("v.pinimg.com",n)}return i}if(Array.isArray(e)&&e[0].src){let i=e[0].src;if(t){const e="control"===t?"v3.pinimg.com":"v2.pinimg.com";i=i.replace("v.pinimg.com",e)}return i}return"unsupported_type_"+typeof e}class m extends n.Component{constructor(...e){super(...e),p(this,"state",{canPlayVideo:!1,playbackState:u.Cy.DEFAULT}),p(this,"errorRetryCount",2),p(this,"hasSegmentStarted",!1),p(this,"hasPlaybackStarted",!1),p(this,"hasVideoSessionStarted",!1),p(this,"hasVideoSessionEnded",!1),p(this,"lastStallTime",null),p(this,"lastPauseTime",null),p(this,"logSessionStartOnNextPlay",!1),p(this,"playerId",""),p(this,"videoSessionId",""),p(this,"videoVisibleTime",null),p(this,"playbackPerformance",{canPlayTime:null,detailedErrors:"",errorCode:0,errorName:"",errorReason:"",hasFatalError:!1,loadStartTime:null,numberOfStalls:0,numberOfSeeks:0,playbackStartTimestamp:null,segments:[],srcString:h(this.props.src,this.props.quicExpGroup),totalStallDurationMs:0,totalPauseDurationMs:0}),p(this,"componentDidMount",(()=>{const{contextLogData:e={},playing:t}=this.props,{is_closeup_video:i=!1}=e;(0,d.tE)("videoMounted",!1,i),t&&(this.videoVisibleTime=new Date,this.logPlaybackPerformance(u.DR,{initiator:"mount"}))})),p(this,"componentDidUpdate",(e=>{const{playing:t,visible:i,appInFocus:n}=this.props;e.appInFocus&&!n&&(this.logPlaybackPerformance(u.$f,{initiator:"update"}),this.logSessionStartOnNextPlay=!0),e.visible&&!1===i&&(this.logSessionStartOnNextPlay=!1,this.updatePauseDuration(),this.logPlaybackPerformance(u.$f,{initiator:"update"})),!1===e.visible&&!0===i&&(this.videoVisibleTime=this.videoVisibleTime||new Date,t?(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(u.DR,{initiator:"update"})):this.logSessionStartOnNextPlay=!0),t&&n&&this.logSessionStartOnNextPlay&&(this.setPlaybackStartTime(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.logPlaybackPerformance(u.DR,{initiator:"update"}),this.logSessionStartOnNextPlay=!1)})),p(this,"addSegment",(()=>{const{canPlayTime:e,loadStartTime:t,segments:i,srcString:n}=this.playbackPerformance;let o=-1;e&&t&&0===i.length&&(o=e>t?e-t:0);const r=this.videoPlayerRef&&this.videoPlayerRef.video,s={indicatedKbps:-1,duration:r&&r.duration*u.gJ||-1,lastStartPlayTime:null,level:-1,numServerAddressChange:-1,observedKbps:-1,playbackStartDate:null,serverAddress:"",sourceWidth:-1,sourceHeight:-1,startupTimeMs:o,switchBitrateKbps:-1,uri:n,viewportWidth:r&&r.clientWidth||-1,viewportHeight:r&&r.clientHeight||-1,watchedDurationMs:0};i.push(s)})),p(this,"getCurrentVideoTime",(()=>this.videoPlayerRef&&this.videoPlayerRef.video?this.videoPlayerRef.video.currentTime*u.gJ:0)),p(this,"getVideoResourceTiming",(()=>{var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e.performance)&&void 0!==t&&t.getEntriesByName&&this.playbackPerformance.srcString){const e=window.performance.getEntriesByName(this.playbackPerformance.srcString);return e.length>0&&e[0]||null}return null})),p(this,"handleCanPlayVideo",(e=>{const{contextLogData:t={},onReady:i,playing:n,videoStartTime:o}=this.props,{is_closeup_video:r=!1}=t,{canPlayVideo:s}=this.state;(0,d.tE)("handleCanPlayVideo",!1,r,{firstCanPlayEvent:!s,playing:n}),this.playbackPerformance.hasFatalError=!1,s||(this.playbackPerformance.canPlayTime=new Date,null!=o&&this.videoPlayerRef&&this.videoPlayerRef.video&&(this.videoPlayerRef.video.currentTime=o)),this.setState({canPlayVideo:!0}),i&&i(e)})),p(this,"handleEnded",(e=>{const{loop:t,onEnded:i}=this.props,{segments:n}=this.playbackPerformance,o=n&&n[n.length-1];t&&this.videoPlayerRef&&this.videoPlayerRef.video?(this.updateWatchDurationForCurrentSegment(),o&&(o.lastStartPlayTime=0),this.hasSegmentStarted=!1):t||this.logPlaybackPerformance(u.$f,{initiator:"videoEnded",loop:t}),this.setState({playbackState:u.Cy.ENDED}),i&&i(e)})),p(this,"handleError",(()=>{var e,t,i,n,o,r,s,a;const{contextLogData:l={}}=this.props,{is_closeup_video:c=!1}=l,_=this.videoPlayerRef&&this.videoPlayerRef.video;(null==_||null===(e=_.error)||void 0===e?void 0:e.code)!==u.lG.MEDIA_ERR_ABORTED&&(this.playbackPerformance.hasFatalError=!0),this.playbackPerformance.detailedErrors+=`${this.playbackPerformance.detailedErrors.length>0?", ":""}${(null==_||null===(t=_.error)||void 0===t?void 0:t.message)||""}`,this.playbackPerformance.errorCode=(null==_||null===(i=_.error)||void 0===i?void 0:i.code)||0,this.playbackPerformance.errorName=(null==_||null===(n=_.error)||void 0===n||null===(o=n.message)||void 0===o?void 0:o.slice(0,100))||"unknown",this.playbackPerformance.errorReason=(null==_||null===(r=_.error)||void 0===r||null===(s=r.message)||void 0===s?void 0:s.slice(0,100))||"unknown";const p={errorName:this.playbackPerformance.errorCode,errorReason:this.playbackPerformance.errorName,errorRetryCount:this.errorRetryCount,playbackState:this.state.playbackState,networkState:(null==_?void 0:_.networkState)||"unknown"};switch((0,d.tE)("fatalError",!1,c,p),null==_||null===(a=_.error)||void 0===a?void 0:a.code){case u.lG.MEDIA_ERR_ABORTED:break;case u.lG.MEDIA_ERR_NETWORK:case u.lG.MEDIA_ERR_DECODE:case u.lG.MEDIA_ERR_SRC_NOT_SUPPORTED:default:this.errorRetryCount>0&&(null==_||_.load(),this.errorRetryCount-=1)}this.updateWatchDurationForCurrentSegment(),this.setState({playbackState:u.Cy.FAILED})})),p(this,"handleLoadedMetadata",(()=>{this.setState({playbackState:u.Cy.LOADED_METADATA})})),p(this,"handleLoadStart",(()=>{this.playbackPerformance.loadStartTime=new Date,this.setState({playbackState:u.Cy.LOAD_START})})),p(this,"handleLoadedData",(()=>{this.setState({playbackState:u.Cy.LOADED_DATA})})),p(this,"handlePlaying",(()=>{this.playbackPerformance.hasFatalError=!1,this.setPlaybackStartTime(),this.hasSegmentStarted||this.addSegment(),this.setLastSegmentStartPlayTime(),this.setLastSegmentPlaybackStartDate(),this.updateStallDuration(),this.updatePauseDuration(),this.setState({playbackState:u.Cy.PLAYING})})),p(this,"handleUserPause",(e=>{const{onControlsPause:t}=this.props;this.lastPauseTime=new Date,t&&t(e)})),p(this,"handleVideoPause",(()=>{this.state.playbackState!==u.Cy.STALLING&&this.state.playbackState!==u.Cy.SEEKING&&(this.updateWatchDurationForCurrentSegment(),this.lastPauseTime||this.updateStallDuration()),this.setState({playbackState:u.Cy.PAUSED})})),p(this,"handleSeeking",(()=>{this.playbackPerformance.numberOfSeeks+=1;const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&(t.lastStartPlayTime=null),this.state.playbackState!==u.Cy.ENDED&&this.setState({playbackState:u.Cy.SEEKING})})),p(this,"handleStalled",(()=>{null===this.lastStallTime&&this.state.playbackState!==u.Cy.ENDED&&(this.lastStallTime=new Date,this.playbackPerformance.numberOfStalls+=1,this.setState({playbackState:u.Cy.STALLING}))})),p(this,"handleTimeUpdate",(e=>{const{onTimeChange:t}=this.props;t&&t(e),this.state.playbackState===u.Cy.PLAYING&&(this.updateWatchDurationForCurrentSegment(),this.setLastSegmentStartPlayTime())})),p(this,"resetPlaybackMetrics",(()=>{this.hasSegmentStarted=!0,this.hasPlaybackStarted=!1,this.hasVideoSessionStarted=!1,this.hasVideoSessionEnded=!0,this.lastStallTime=null,this.lastPauseTime=null,this.videoSessionId="",this.videoVisibleTime=null,this.logSessionStartOnNextPlay=!1;const e={...this.playbackPerformance.segments[this.playbackPerformance.segments.length-1],lastStartPlayTime:null,playbackStartDate:null,watchedDurationMs:0};this.playbackPerformance.detailedErrors="",this.playbackPerformance.errorCode=0,this.playbackPerformance.errorName="",this.playbackPerformance.errorReason="",this.playbackPerformance.hasFatalError=!1,this.playbackPerformance.numberOfStalls=0,this.playbackPerformance.numberOfSeeks=0,this.playbackPerformance.playbackStartTimestamp=null,this.playbackPerformance.totalStallDurationMs=0,this.playbackPerformance.segments=[e]})),p(this,"setLastSegmentStartPlayTime",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.lastStartPlayTime&&(t.lastStartPlayTime=this.getCurrentVideoTime())})),p(this,"setLastSegmentPlaybackStartDate",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1];t&&null===t.playbackStartDate&&(t.playbackStartDate=Date.now())})),p(this,"setPlaybackStartTime",(()=>{this.hasPlaybackStarted||(this.playbackPerformance.playbackStartTimestamp=Date.now(),this.hasPlaybackStarted=!0)})),p(this,"setVideoPlayerRef",(e=>{const{setVideoRef:t}=this.props;if(e&&(t&&t(e),this.videoPlayerRef=e,this.videoPlayerRef.video)){const e=this.videoPlayerRef.video;e.addEventListener("loadedmetadata",this.handleLoadedMetadata),e.addEventListener("loadeddata",this.handleLoadedData),e.addEventListener("pause",this.handleVideoPause),e.readyState>=3&&(this.setState({canPlayVideo:!0}),this.playbackPerformance.canPlayTime=new Date)}})),p(this,"updateStallDuration",(()=>{if(null!==this.lastStallTime){const e=this.lastStallTime;this.playbackPerformance.totalStallDurationMs+=new Date-e,this.lastStallTime=null}})),p(this,"updatePauseDuration",(()=>{if(null!==this.lastPauseTime){const e=this.lastPauseTime;this.playbackPerformance.totalPauseDurationMs+=new Date-e,this.lastPauseTime=null}})),p(this,"updateWatchDurationForCurrentSegment",(()=>{const{segments:e}=this.playbackPerformance,t=e&&e[e.length-1],i=t?t.lastStartPlayTime:null,n=this.getCurrentVideoTime();if(t&&null!==i&&"number"==typeof n&&"number"==typeof i){const e=n-i;e>0&&(t.watchedDurationMs+=e,t.lastStartPlayTime=null)}})),p(this,"logPlaybackPerformance",((e,t)=>{const{contextLogData:i={},userId:n,isAutoPlay:o,logContextEvent:r}=this.props,{is_closeup_video:s=!1}=i,{canPlayTime:a,detailedErrors:l,errorCode:c,errorName:_,errorReason:p,hasFatalError:h,loadStartTime:m,totalPauseDurationMs:E,totalStallDurationMs:g,numberOfStalls:f,numberOfSeeks:y,playbackStartTimestamp:v,segments:I,srcString:T}=this.playbackPerformance,P=this.videoPlayerRef&&this.videoPlayerRef.video,S=e===u.DR,b=S&&!this.hasVideoSessionStarted,A=!S&&!this.hasVideoSessionEnded&&this.hasVideoSessionStarted;if(P&&(b||A)){var R;let b=-1;a&&m&&(b=a>m?a-m:0);let A=-1;a&&this.videoVisibleTime&&(A=a>this.videoVisibleTime?a-this.videoVisibleTime:0),S&&(this.videoSessionId=(0,u.Y7)(n),this.playerId=this.playerId||(0,u.EB)());const x=this.getVideoResourceTiming(),O={averageVideoKbps:-1,autoplaying:o,detailedErrors:l,downloadedKiloBytes:"number"==typeof(null==x?void 0:x.decodedBodySize)&&x.decodedBodySize/u.Fm||0,errorCode:c,errorName:_,errorReason:p,fatalError:h,isCellular:!1,nativeVideoDurationMs:P.duration*u.gJ||-1,numberOfStalls:f,numberOfSeeks:y,overallPausedDurationMs:E,overallBufferDurationMs:g,overallWatchedDurationMs:-1,rebufferRate:-1,playbackSessionId:this.videoSessionId,playbackStartTimestamp:v||-1,segments:[],sessionMark:e,screenPixelScale:null!==(R=window)&&void 0!==R&&R.devicePixelRatio?window.devicePixelRatio:-1,startupPlayerWidth:P.clientWidth,startupPlayerHeight:P.clientHeight,startupTimeMs:b,startupLatencyMs:A,startupVariantKbps:-1,startupVariantWatchedDurationMs:-1,startupVariantWidth:P.videoWidth,startupVariantHeight:P.videoHeight,videoUrl:T};if(!S){this.updateWatchDurationForCurrentSegment(),this.updateStallDuration();const e=I.reduce(((e,t)=>e+(t.watchedDurationMs||0)),0);O.overallWatchedDurationMs=e,O.startupVariantWatchedDurationMs=e,O.segments=this.playbackPerformance.segments,0===e?(O.errorName="invalid_watch_duration",O.rebufferRate=-1):O.rebufferRate=g/e}(0,d.ZP)(O,!1,s,{playbackState:this.state.playbackState,...t});const{view:C,viewParameter:w,component:N,element:D,objectId:L,...k}=i;r({event_type:3606,event_data:{videoPerformanceData:O},view_type:C,view_parameter:w,component:N,element:D,object_id_str:L,aux_data:{...k,is_closeup_video:s,playback_session_id:this.videoSessionId}}),S?(this.hasVideoSessionStarted=!0,this.hasVideoSessionEnded=!1):this.resetPlaybackMetrics(),(0,d.tE)(S?"sessionStart":"sessionEnd",!1,s,{playbackState:this.state.playbackState,...t})}}))}componentWillUnmount(){const{loop:e}=this.props;this.updatePauseDuration(),this.logPlaybackPerformance(u.$f,{initiator:"unmount",loop:e})}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:o,accessibilityProgressBarLabel:r,accessibilityUnmuteLabel:s,aspectRatio:a,captions:l,controls:d,loop:u,loopOverride:p,objectFit:m,onDurationChange:E,onFullscreenChange:g,onLoadedChange:f,onControlsPlay:y,onPlayheadDown:v,onPlayheadUp:I,onSeek:T,onVolumeChange:P,playbackRate:S,playing:b,playsInline:A,poster:R,preload:x,src:O,volume:C}=this.props,{canPlayVideo:w}=this.state;return(0,_.jsx)(c.nk,{autoplay:w&&b,accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:o,accessibilityProgressBarLabel:r,accessibilityUnmuteLabel:s,aspectRatio:a,captions:l,controls:d,loop:void 0===p?u:p,objectFit:m,onDurationChange:E,onEnded:this.handleEnded,onError:this.handleError,onFullscreenChange:g,onLoadedChange:f,onLoadStart:this.handleLoadStart,onControlsPause:this.handleUserPause,onControlsPlay:y,onPlaying:this.handlePlaying,onPlayheadDown:v,onPlayheadUp:I,onReady:this.handleCanPlayVideo,onSeek:T,onSeeking:this.handleSeeking,onStalled:this.handleStalled,onTimeChange:this.handleTimeUpdate,onVolumeChange:P,onWaiting:this.handleStalled,playbackRate:S,onPlay:()=>{},onPlayError:()=>{},playing:w&&b,playsInline:A,poster:R,preload:x,ref:this.setVideoPlayerRef,src:h(O,this.props.quicExpGroup),volume:C})}}const E=(0,n.memo)((function(e){const{logContextEvent:t}=(0,s.v)(),{country:i,isAuthenticated:n,isBot:c,isSocialBot:u,unauthId:p,userAgent:h}=(0,l.B)(),{browserName:E,browserVersion:g,isMobile:f}=h,{contextLogData:y={}}=e,{is_closeup_video:v=!1,view:I,viewParameter:T}=y,{appUI:{appInFocus:P}}=(0,r.I)(),{checkExperiment:S}=(0,a.F)();let b=null;n&&(b=S("web_video_quic").group.length?S("web_video_quic").group:null);const A=(0,o.Z)(),R={browserName:E,browserVersion:g,country:i,isAuthenticated:n,isBot:c,is_closeup_video:v,isMobile:f,isSocialBot:u,view:I,viewParameter:T};return(0,d.r$)(R),(0,_.jsx)(m,{...e,userId:A.id||p,appInFocus:P,quicExpGroup:b,logContextEvent:t})}));var g=i(562559),f=i(366284);function y(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const v=e=>{if(Array.isArray(e)){const t=e.find((e=>"video/m3u8"===e.type));return t?t.src:void 0}return RegExp("m3u8$").test(e)?e:void 0};class I extends n.PureComponent{constructor(e){super(e),y(this,"componentDidUpdate",((e,t)=>{var i;e.videoStartTime&&this.props.videoStartTime&&e.videoStartTime<this.props.videoStartTime&&null!==(i=this.videoPlayerRef)&&void 0!==i&&i.video&&(this.videoPlayerRef.video.currentTime=this.props.videoStartTime)})),y(this,"setVideoPlayerRef",(e=>{e&&(this.videoPlayerRef=e)})),y(this,"handleOnEnded",(({event:e})=>{const{loop:t,onLoop:i,onEnded:n}=this.props;n&&(n({event:e}),this.videoPlayerRef&&this.videoPlayerRef.video&&t&&(this.videoPlayerRef.video.play(),i&&i()))}));const t=v(e.src);this.state={useHlsVideo:!e.preferMp4&&!(0,f.G6)(e.requestContext.userAgent.browserName)&&!!t}}render(){const{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:o,accessibilityProgressBarLabel:r,accessibilityUnmuteLabel:s,aspectRatio:a,appInFocus:l,backgroundColor:c,captions:d,contextLogData:u,controls:p,hlsConfig:h,isAutoPlay:m,loop:f,objectFit:y,onDurationChange:I,onEnded:T,onFullscreenChange:P,onLoadedChange:S,onControlsPause:b,onControlsPlay:A,onPlayheadDown:R,onPlayheadUp:x,onReady:O,onSeek:C,onTimeChange:w,onVolumeChange:N,playbackRate:D,playing:L,playsInline:k,poster:M,preferMp4:j,preload:U,src:F,videoStartTime:B,visible:G,volume:z}=this.props,{useHlsVideo:V}=this.state,H=v(F),Z={...h,startPosition:B||-1},W=!T&&f;return V&&H?(0,_.jsx)(g.Z,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:o,accessibilityProgressBarLabel:r,accessibilityUnmuteLabel:s,aspectRatio:a,appInFocus:l,backgroundColor:c,captions:d,contextLogData:u,controls:p,hlsConfig:Z,isAutoPlay:m,loop:f,loopOverride:W,onDurationChange:I,onEnded:this.handleOnEnded,onFullscreenChange:P,onLoadedChange:S,onControlsPause:b,onControlsPlay:A,onPlayheadDown:R,onPlayheadUp:x,onReady:O,onSeek:C,onTimeChange:w,onVolumeChange:N,playbackRate:D,onPlay:()=>{},onPlayError:()=>{},playing:L,playsInline:k,poster:M,preload:U,setVideoRef:this.setVideoPlayerRef,src:H,visible:G,volume:z}):(0,_.jsx)(E,{accessibilityMaximizeLabel:e,accessibilityMinimizeLabel:t,accessibilityMuteLabel:i,accessibilityPauseLabel:n,accessibilityPlayLabel:o,accessibilityProgressBarLabel:r,accessibilityUnmuteLabel:s,aspectRatio:a,captions:d,contextLogData:u,controls:p,isAutoPlay:m,loop:f,loopOverride:W,objectFit:y,onDurationChange:I,onEnded:this.handleOnEnded,onFullscreenChange:P,onLoadedChange:S,onControlsPause:b,onControlsPlay:A,onPlayheadDown:R,onPlayheadUp:x,onReady:O,onSeek:C,onTimeChange:w,onVolumeChange:N,playbackRate:D,onPlay:()=>{},onPlayError:()=>{},playing:L,playsInline:k,poster:M,preload:U,setVideoRef:this.setVideoPlayerRef,src:j?F:H||F,videoStartTime:B,visible:G,volume:z})}}function T(e){const{appUI:{appInFocus:t}}=(0,r.I)(),i=(0,l.B)();return(0,_.jsx)(I,{...e,appInFocus:t,requestContext:i})}},559230:(e,t,i)=>{i.d(t,{HJ:()=>o,VS:()=>n,iM:()=>r});const n=2,o="V_HLSV3_MOBILE",r=[0,.01,.02,.03,.04,.05,.06,.07,.08,.09,.1,.11,.12,.13,.14,.15,.16,.17,.18,.19,.2,.21,.22,.23,.24,.25,.26,.27,.28,.29,.3,.31,.32,.33,.34,.35,.36,.37,.38,.39,.4,.41,.42,.43,.44,.45,.46,.47,.48,.49,.5,.51,.52,.53,.54,.55,.56,.57,.58,.59,.6,.61,.62,.63,.64,.65,.66,.67,.68,.69,.7,.71,.72,.73,.74,.75,.76,.77,.78,.79,.8,.81,.82,.83,.84,.85,.86,.87,.88,.89,.9,.91,.92,.93,.94,.95,.96,.97,.98,.99,1]},875495:(e,t,i)=>{function n(e){return{type:"FEED_ITEM_REORDERED",payload:e}}function o(e,t){return{type:"FEED_INVALIDATE",payload:{feedType:e,feedId:t}}}i.d(t,{EX:()=>s,N8:()=>o,Qv:()=>r,_f:()=>n,vX:()=>a});const r=(e,t,i=Object.freeze({}))=>({type:"APPEND_FEED_ITEMS",payload:{id:e,options:i,items:t}});function s(e){return{type:"FEED_ITEMS_REMOVED",payload:e}}function a(e){return{type:"FEED_ITEMS_ADDED",payload:e}}},811403:(e,t,i)=>{function n(e,t){return{type:"CHANGE_CAROUSEL_SLOT_INDEX",payload:{id:e,index:t}}}function o(e,t){return{type:"SET_PIN_COMMENTS_DISABLED",payload:{id:e,pinCommentsDisabled:t}}}function r(e,t,i,n,o){return{type:"PIN_SAVE",payload:{id:e,boardId:t,title:i,url:n,localPinId:o}}}function s(e){return{type:"PIN_UNSAVE",payload:{id:e}}}function a(e){return{type:"PIN_SHOW_SUGGESTED_CREATOR_RECS",payload:{id:e,value:!0}}}function l({id:e,text:t,undoAction:i,undoActionOptions:n,undoText:o}){return{type:"PIN_SHOW_UNDO_AND_FEEDBACK",payload:{id:e,value:!0,text:t,undoAction:i,undoActionOptions:n,undoText:o}}}function c(e){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!1}}}function d(e,t){return{type:"PIN_SHOW_FEEDBACK",payload:{id:e,value:!0,text:t}}}function u(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!0}}}function _(e){return{type:"PIN_SHOW_FEEDBACK_OVERLAY",payload:{id:e,value:!1}}}function p(e){return{type:"PIN_SHOW_AD_REASONS_MODAL",payload:{id:e,value:!0}}}function h(e){return{payload:{id:e,value:!1},type:"PIN_SHOW_AD_REASONS_MODAL"}}i.d(t,{Gb:()=>s,I1:()=>c,Ib:()=>u,NA:()=>l,Ur:()=>r,Vw:()=>a,b9:()=>p,fH:()=>m,i0:()=>_,mO:()=>o,q1:()=>d,yR:()=>n,yj:()=>h});const m=(e,t)=>({type:"PIN_FEEDBACK",payload:{id:e,value:t}})},47495:(e,t,i)=>{i.d(t,{Z:()=>o});var n=i(583228);const o={AggregatedCommentResource:n.rm,AggregatedCommentFeedResource:n.LR,AggregatedCommentReplyResource:n.rm,AggregatedCommentReplyFeedResource:n.LR,AggregatedActivityFeedResource:n.LR,BestPinsFeedAltResource:n.LR,BoardArchiveResource:n.LR,BoardCollaboratorsResource:n.LR,BoardContentRecommendationResource:n.LR,BoardFeedResource:n.LR,BoardFollowingResource:n.LR,BoardInviteResource:n.sf,BoardInvitesResource:n.Ht,BoardlessPinsResource:n.LR,BoardPickerBoardsResource:{all_boards:n.LR,boards_shortlist:n.LR},BoardSectionEditResource:n._F,BoardSectionsRepinResource:n.LR,BoardSectionsResource:n.LR,BoardsFeedResource:n.LR,BoardResource:n.IY,BoardSectionResource:n._F,BoardSectionPinsResource:n.LR,BoardToolsFeedResource:n.LR,ContactRequestsResource:n.LR,ConversationsResource:n.LR,ConversationMessagesResource:n.dq,DidItCommentsResource:n.LR,DidItLikedByResource:n.Gn,DidItUserFeedResource:n.LR,ExploreArticleBlockPinResource:n.LR,ExploreArticleBlockSearchResource:n.LR,ExploreArticleBlockUserResource:n.LR,ExploreArticleBlockUserDidItDataResource:n.LR,ExploreArticleResource:n.yg,FollowingFeedResource:n.LR,HolidaySpotlightRelatedFeedResource:n.LR,HolidaySpotlightResource:n.LR,InterestFollowingResource:n.LR,InterestResource:n.cC,MoreIdeasTabsBoardsResource:n.LR,NewsHubResource:n.LR,NewsHubDetailsResource:n.LR,NewsHubSummaryResource:n.t6,NuxInterestsResource:n.LR,NuxTopicToCreatorsResource:n.Gn,PartnerPermissionsResource:n.Ay,PinResource:n.Cj,PinCatalogResource:n.LR,PinsFromBrandResource:n.LR,ReactionsResource:n.fE,RelatedArticlesResource:n.LR,RelatedInterestsResource:n.LR,RelatedModulesResource:n.LR,RelatedPinFeedResource:n.LR,RelatedProductFeedResource:n.LR,RelatedStreamResource:n.LR,RepinResource:n.Cj,BaseSearchResource:{results:n.LR},SearchResource:n.LR,SectionToolsFeedResource:n.LR,ShareSuggestionsTypeaheadResource:{items:n.LR},ShoppingFeedModularizedResource:n.LR,StoryFeedResource:n.LR,StoryPinTaggedProductsResource:n.LR,SuggestedCreatorFollowsResource:n.Gn,TodayArticleFeedResource:n.LR,IdeasHubTodayArticlesResource:n.LR,TodayArticleResource:n.iF,TodayTabInterestFeedResource:n.LR,TodayTabResource:n.LR,TopicFeedResource:n.LR,UnifiedCommentsResource:n.LR,UserActivityPinsResource:n.LR,UserFollowingResource:n.LR,UserRecentActivityResource:n.LR,UserSimilarBusinessesResource:n.LR,UserHomefeedResource:n.LR,UserPinsResource:n.LR,UserSettingsResource:n.EA,UserStoryPinsFeedResource:n.LR,UserResource:n.EA,VideosFeedResource:n.LR,VisualLiveSearchResource:{results:n.LR},VisualLiveSearchProductFeedResource:n.LR,VisualSearchFlashlightUnifiedResource:n.LR,SeoTier1CandidateResource:n.LR}},583228:(e,t,i)=>{i.d(t,{Ay:()=>C,Cj:()=>c,EA:()=>r,Fx:()=>p,Gn:()=>R,Ht:()=>A,IY:()=>l,LR:()=>O,_F:()=>_,cC:()=>v,dq:()=>m,fE:()=>u,iF:()=>y,rm:()=>s,sN:()=>x,sf:()=>T,t6:()=>b,yg:()=>g});var n=i(782677);const o=Object.freeze({aggregatedComment:"aggregatedComments",article:"articles",board:"boards",boardsection:"boardsections",contactrequest:"contactrequests",conversation:"conversations",conversationMessage:"conversationMessages",creatorRecommendationItem:"creatorRecommendationItems",inbox:"inbox",notification:"notifications",partnerPermissions:"partnerPermissions",pin:"pins",reaction:"reactions",reportReasons:"reportReasons",story:"stories",todayArticle:"todayArticles",topic:"topics",triedit:"triedits",user:"users",invite:"collaboratorinvite",offer:"offers"}),r=new n.fK.Entity(o.user),s=new n.fK.Entity(o.aggregatedComment,{user:r,tagged_users:[r]}),a=new n.fK.Entity(o.article,{curator:r}),l=new n.fK.Entity(o.board),c=new n.fK.Entity(o.pin,{board:l,comments:{data:[{commenter:r}]}}),d=new n.fK.Entity(o.reaction,{user:r}),u=new n.fK.Array(d),_=new n.fK.Entity(o.boardsection,{board:l,preview_pins:[c]}),p=new n.fK.Entity(o.conversation,{sender:r,users:[r]}),h=new n.fK.Entity(o.conversationMessage,{sender:r,users:[r],board:l,pin:c,user:r}),m=new n.fK.Array(h),E=new n.fK.Entity(o.contactrequest),g=new n.fK.Entity(o.story,{cover_pin:c,user:r}),f=new n.fK.Entity(o.triedit,{pin:c,user:r}),y=new n.fK.Entity(o.todayArticle,{article_creator_user:r,content_pin:c,content_pin_official_user:r,video_pin:c}),v=new n.fK.Entity(o.topic,{},{processStrategy:(e,t,i)=>({...e,slug:e.slug?e.slug:e.url_name?e.url_name.includes(":")?e.url_name.split(":")[1]:e.url_name:""})}),I=new n.fK.Entity(o.creatorRecommendationItem,{user:r,interest:v}),T=new n.fK.Entity(o.invite,{invited_by_user:r,invited_user:r,board:l},{idAttribute:e=>`${e.board.id}:${e.invited_user.id}`}),P=e=>{switch(e.type){case"aggregatedcomment":return"aggregatedComment";case"conversationMessage":return"conversationMessage";case"creatorrecommendationitem":return"creatorRecommendationItem";case"explorearticle":return"article";case"news":return"notification";case"interest":return"topic";case"userdiditdata":return"triedit";case"board_section":return"boardsection";case"klp_featured_data":return"topic";case"todayarticle":return"todayArticle";default:return e.type}},S=new n.fK.Union({user:r,board:l,invite:T,pin:c,topic:v,triedit:f},P),b=new n.fK.Entity(o.notification,{content_items:[{content_object:S}],header_icon_objects:[S]}),A=new n.fK.Array(T),R=new n.fK.Array(r),x=new n.fK.Array(l),O=new n.fK.Array({aggregatedComment:s,article:a,board:l,boardsection:_,contactrequest:E,conversation:p,conversationMessage:h,creatorRecommendationItem:I,notification:b,pin:c,story:g,todayArticle:y,topic:v,triedit:f,user:r},P,(e=>{switch(e.type){case"collaboratorinvite":return e.board.id;case"category":return"key";default:return"id"}}));g.define({objects:O});const C=new n.fK.Entity(o.partnerPermissions)},778821:(e,t,i)=>{i.d(t,{DV:()=>u,J:()=>E,ZP:()=>v});var n=i(848900),o=i(932995),r=i(47495),s=i(91456),a=i(648284),l=i(983360),c=i(583228),d=i(338739);const u={AGGREGATED_COMMENTS:"aggregatedComments",AGGREGATED_COMMENT_REPLIES:"aggregatedCommentReplies",BOARD_PINS:"boardPins",BOARDLESS_PINS:"boardlessPins",BOARD_SECTIONS:"boardSections",CALL_TO_CREATE_RESPONSES_FEED:"callToCreateResponsesFeed",CREATED_TAB_STORY_PINS_FEED:"createdTabStoryPinsFeed",CREATED_TAB_ACTIVITY_PINS_FEED:"createdTabActivityPinsFeed",PROFILE_BOARDS:"profileBoards",SEARCH_PINS:"searchPins",SECTION_PINS:"sectionPins",STORY_PIN_DATA:"storyPinData",TODAY_ARTICLE_INTEREST_FEED:"todayArticleInterestFeed",TODAY_TAB:"todayTabFeed",UNIFIED_COMMENTS:"unifiedComments",USER_DID_IT_DATA:"userDidItData"},_=new Set(["PinResource","RepinResource"]),p={ApiResource:e=>{return"/v3/orientation/nux_creator_recommendations/"===(null==e?void 0:e.url)?"nux-creator-recommendations":null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?`call-to-create-pins:${e.pin_id}`:"/v3/users/me/interests/"===(null==e?void 0:e.url)?`recommended-interests:${null===(t=e.data)||void 0===t?void 0:t.blend_type}`:"";var t},AggregatedActivityFeedResource:e=>`trieditfeed:${e.aggregated_pin_data_id}`,AggregatedCommentFeedResource:e=>`aggregated-comments:${e.objectId}`,AggregatedCommentReplyFeedResource:e=>`aggregated-comment-replies:${e.objectId}`,BoardlessPinsResource:e=>`boardless-pins:${e.userId}`,BestPinsFeedAltResource:e=>`idea-page-best-pins:${e.interest}`,BoardArchiveResource:e=>"archived-boards",BoardCollaboratorsResource:e=>`board-collaborators:${e.board_id}`,BoardContentRecommendationResource:e=>`recommendation-feed:${e.id}`,BoardFeedResource:e=>`boardfeed:${e.board_id}`,BoardSectionsRepinResource:e=>`board-sections:${e.board_id}`,BoardSectionsResource:e=>`board-sections:${e.board_id}`,BoardSectionPinsResource:e=>`board-section-pins:${e.section_id}`,BoardsFeedResource:e=>`profile-boards:${e.username}`,BoardToolsFeedResource:e=>`board-tools:${e.boardId}`,ConversationsResource:e=>"conversations",DidItCommentsResource:e=>`aggregated-comment-replies:${e.objectId}`,DidItLikedByResource:e=>`triedit-likes:${e.didItDataId}`,DidItUserFeedResource:e=>`profile-tried:${e.username}`,ExploreArticleBlockSearchResource:e=>`explore-search:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserResource:e=>`explore-user:${e.article_id}:${e.block_id}`,ExploreArticleBlockPinResource:e=>`explore-pin:${e.article_id}:${e.block_id}`,ExploreArticleBlockUserDidItDataResource:e=>`explore-did_it:${e.article_id}:${e.block_id}`,ExploreArticleResource:({response:e})=>{if(!e)return"";const t="explore_tab_pin".length,i=e.resource_response.data,{story_type:n}=i?i.objects[0]:{story_type:""};return`explore-${n.slice(t)}:${i.id}`},FollowingFeedResource:()=>"following",HolidaySpotlightRelatedFeedResource:e=>`holiday-spotlight-related:${e.storyType}`,HolidaySpotlightResource:e=>`holiday-spotlight:${e.storyType}`,InterestResource:e=>`klp-pins:${e.interest}`,MoreIdeasTabsBoardsResource:()=>"homefeed-more-ideas-tabs",NewsHubResource:()=>"notifications",NewsHubDetailsResource:e=>`newshubdetail:${e.news_id}`,NuxInterestsResource:e=>"nuxTopics",PinsFromBrandResource:e=>`brand-pins:${e.pin}`,ReactionsResource:e=>`reactions:${e.pin_id}`,RelatedArticlesResource:e=>`related-articles:${e.article_id}`,RelatedModulesResource:e=>`related-modules:${e.pin_id}`,RelatedPinFeedResource:e=>`related-pins:${e.pin}`,RelatedProductFeedResource:e=>"pin"===e.shop_source?`closeup-related-products:${e.pin}`:`related-products:${e.pin}`,RelatedStreamResource:e=>`related-story-pins:${e.pinId}`,SearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},BaseSearchResource:e=>{const t=`search:${e.scope}:${e.query}:${e.filters||""}:${e.appliedProductFilters}:${e.article||""}`;return e.auto_correction_disabled?`${t}:auto-correction-disabled`:t},SectionToolsFeedResource:e=>`section-tools:${e.sectionId}`,ShareSuggestionsTypeaheadResource:e=>`share-suggestions:${e.board||e.user}:${e.term}`,ShoppingFeedModularizedResource:e=>e.saved_products_only?`board-shop-saved:${e.board_id}`:`board-shop-related:${e.board_id}`,StoryFeedResource:e=>`story-feed:${e.feed_type}:${e.request_params}`,SuggestedCreatorFollowsResource:()=>"suggested-creator-follows",StoryPinTaggedProductsResource:()=>"story-pin-tagged-products",TodayArticleFeedResource:e=>`today-article:${e.id}`,IdeasHubTodayArticlesResource:e=>`today-article:${e.interest_id}`,TodayTabInterestFeedResource:e=>`today-article-interestfeed:${e.interest_id}`,TodayTabResource:()=>"today-tab",SeoTier1CandidateResource:()=>"tier1-feed",UnifiedCommentsResource:e=>`unified-comments:${e.aggregated_pin_id}`,UserActivityPinsResource:e=>`profile-pins-feed:${e.user_id}`,UserHomefeedResource:e=>e.pin_quiz?"pin-quiz":"homefeed",UserFollowingResource:e=>`user-following:${e.username}`,UserRecentActivityResource:()=>"user-recent-activity",UserSimilarBusinessesResource:e=>`user-similar-business:${e.username}`,UserStoryPinsFeedResource:e=>`story-pins-feed:${e.user_id}`,VideosFeedResource:e=>"videos-feed",VisualLiveSearchResource:e=>`visual-search:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualLiveSearchProductFeedResource:e=>`visual-search-products:${e.pin_id}:${e.crop.x}${e.crop.y}${e.crop.w}${e.crop.h}`,VisualSearchFlashlightUnifiedResource:e=>`related-products-unified:${e.pin_id}`,BoardFollowingResource:e=>`board-following:${e.username}`,InterestFollowingResource:e=>`topic-following:${e.username}`,UserPinsResource:e=>`profile-pins:${e.username}`,TopicFeedResource:e=>e.best_pins?`best-topic-pins:${e.interest}`:`topic-pins:${e.interest}`},h={ApiResource:({options:e})=>null!=e&&e.url.match(/\/v3\/call_to_create_pins\/([0-9]|[a-z]|[A-Z])+\/pins\//)?{type:u.CALL_TO_CREATE_RESPONSES_FEED,id:e.pin_id}:null,AggregatedActivityFeedResource:({options:{aggregated_pin_data_id:e}})=>({type:u.USER_DID_IT_DATA,id:e}),AggregatedCommentFeedResource:({options:{objectId:e}})=>({type:u.AGGREGATED_COMMENTS,id:e}),AggregatedCommentReplyFeedResource:({options:{isUnifiedComment:e,objectId:t}})=>({type:e?u.AGGREGATED_COMMENT_REPLIES:u.AGGREGATED_COMMENTS,id:t,reversed:!0}),BoardFeedResource:({options:{board_id:e}})=>({type:u.BOARD_PINS,id:e}),BoardlessPinsResource:({options:{userId:e}})=>({type:u.BOARDLESS_PINS,id:e}),BoardSectionPinsResource:({options:{section_id:e}})=>({type:u.SECTION_PINS,id:e}),BoardSectionsResource:({options:{board_id:e}})=>({type:u.BOARD_SECTIONS,id:e}),BoardsResource:({options:{username:e,sort:t}})=>({type:u.PROFILE_BOARDS,id:(0,n.Z)(e,t)}),BaseSearchResource:({options:{auto_correction_disabled:e,appliedProductFilters:t,scope:i,filters:n,query_pin_sigs:o,query:r,user:l},response:c})=>{var d;return{type:u.SEARCH_PINS,id:(0,a.Tb)({appliedProductFilters:t,autoCorrectionDisabled:e,filters:n,query:r,selectedPinImgSig:o,scope:i,user:l}),items:null!==(d=c.resource_response.data)&&void 0!==d&&d.results?(0,s.LM)(c.resource_response.data.results).filteredResults:[]}},DidItCommentsResource:({options:{objectId:e}})=>({type:u.AGGREGATED_COMMENTS,id:e,reversed:!0}),DidItUserFeedResource:({options:{username:e}})=>({type:u.USER_DID_IT_DATA,id:e}),IdeasHubTodayArticlesResource:({options:{interest_id:e}})=>({type:u.TODAY_TAB,id:e}),RelatedArticlesResource:({options:{article_id:e}})=>({type:u.TODAY_TAB,id:e}),StoryPinDraftsResource:({options:{userId:e}})=>({type:u.STORY_PIN_DATA,id:e}),TodayTabInterestFeedResource:({options:{interest_id:e}})=>({type:u.TODAY_ARTICLE_INTEREST_FEED,id:e}),TodayTabResource:()=>({type:u.TODAY_TAB,id:"todayTab"}),UnifiedCommentsPreviewResource:({options:{aggregated_pin_id:e}})=>({type:u.UNIFIED_COMMENTS,id:e}),UnifiedCommentsResource:({options:{aggregated_pin_id:e,is_reversed:t}})=>({type:u.UNIFIED_COMMENTS,id:e,reversed:t}),UserActivityPinsResource:({options:{user_id:e}})=>({type:u.CREATED_TAB_ACTIVITY_PINS_FEED,id:e}),UserStoryPinsFeedResource:({response:e,options:{user_id:t}})=>({type:u.CREATED_TAB_STORY_PINS_FEED,id:t,items:e.resource_response.data||[]})},m=(e,{pinId:t,oldFeedId:i,newFeedId:n})=>i===n?e:((e,{pinId:t,feedId:i})=>e[i]?{...e,[i]:[{type:"pin",id:t},...e[i]]}:e)(((e,{pinId:t,feedId:i})=>e[i]?{...e,[i]:e[i].filter((e=>!("pin"===e.type&&e.id===t)))}:e)(e,{pinId:t,feedId:i}),{pinId:t,feedId:n}),E=(e,t)=>e in p?p[e](t):null,g=(e,t)=>t?`board-section-pins:${t}`:`boardfeed:${e}`,f=(e,t)=>e.map((({id:e,schema:i})=>{var n;return i?{id:e,type:i,trackingParams:"pin"===i?t.pins[e].tracking_params:void 0,user_id:"creatorRecommendationItem"===i?null===(n=t.creatorRecommendationItems[e])||void 0===n?void 0:n.user_id:void 0}:null})).filter(Boolean),y=(e,t,i)=>Object.keys(e).reduce(((n,o)=>{const r=e[o]||[],s=r.filter((e=>!(e.type===t&&e.id===i)));return r.length!==s.length&&(n[o]=s),n}),{...e}),v=(e={},t)=>{switch(t.type){case d.zP:case d.aW:{const{payload:n}=t,{resource:o,options:s,normalizedResponse:a,schema:l}=n;if(a&&o in p){const i=((e,t,i)=>{const n=i||r.Z[e];if(n===c.LR)return t.result;if(n===c.sN)return t.result.map((e=>({id:e,schema:"board"})));if(n===c.Gn)return t.result.map((e=>({id:e,schema:"user"})));if(n===c.Ht)return t.result.map((e=>({id:e,schema:"invite"})));if(n===c.fE)return t.result.map((e=>({id:e,schema:"reaction"})));if("object"==typeof n){const e=Object.entries(n).find((([e,t])=>t===c.LR));if(e)return t.result[e[0]]}return null})(o,a,l);if(i&&Array.isArray(i)){const n=p[o](s);if("ShoppingFeedModularizedResource"===o){const{board_id:t,saved_products_only:n}=null!=s?s:{},o=`board-shop-related:${t}`,r=`board-shop-saved:${t}`,l=`board-shop-saved-preview:${t}`,c=[...e[o]||[]],d=[...e[r]||[]],u=[...e[l]||[]];return f(i,a.entities).forEach((e=>{var i;n?d.push(e):a.entities.pins&&(null===(i=a.entities.pins[e.id])||void 0===i?void 0:i.board)===t?u.push(e):c.push(e)})),{...e,[o]:c,[r]:d,[l]:u}}if("BoardToolsFeedResource"===o||"SectionToolsFeedResource"===o)return{...e,[n]:i};{const o=(t.type===d.aW&&e[n]||[]).concat(f(i,a.entities));return{...e,[n]:o}}}}else{var i;const o=n.response.resource_response.data;if(null===(i=n.options)||void 0===i||!i.redux_normalize_feed)return e;const r=h[n.resource](n);if(r){const{type:i,id:n,items:s,reversed:a}=r;let l=(s||o||[]).map((e=>((e,t)=>{switch(e.type){case"story":return{id:e.id,type:"story",story_type:e.story_type};case"module":return{id:e.id,type:"module",name:e.name};case"user":return{id:e.id,type:"user"};case"board":return t===u.PROFILE_BOARDS?{id:e.id,type:"board",onProfile:!0,profileGroup:e.archived_by_me_at?"archived":e.privacy||"public"}:{id:e.id,type:"board",onProfile:!1};case"board_section":return{type:"board_section",id:e.id};case"userdiditdata":return{type:"userdiditdata",id:e.id};case"aggregatedcomment":return{type:"aggregatedcomment",id:e.id};case"home_feed_tab":return{type:"home_feed_tab",id:e.id,name:e.name};case"storypindata":return{id:e.id,type:"storypindata"};case"todayarticle":return{type:"todayarticle",id:e.id};case"unifiedcommentspreview":return"userdiditdata"===e.unified_comment.type?{type:"userdiditdata",id:e.unified_comment.id}:{type:"aggregatedcomment",id:e.unified_comment.id};default:return{type:"pin",id:e.id}}})(e,i)));a&&(l=l.reverse());const c=`${i}:${n}`,_=e[c];if(_||t.type!==d.aW){const i=_||[];let n=l;return t.type===d.aW&&(n=a?l.concat(i):i.concat(l)),{...e,[c]:n}}}}break}case"FEED_ITEM_REORDERED":{const{payload:{feedType:i,feedId:n,itemType:r,targetItemId:s,sourceItemId:a}}=t,l=`${i}:${n}`,c=e[l]||[];let d=-1,_=-1;if([u.BOARD_PINS,u.SECTION_PINS,u.BOARD_SECTIONS,"profileBoards"].includes(i)&&(d=c.findIndex((e=>e.type===r&&e.id===a)),_=c.findIndex((e=>e.type===r&&e.id===s))),-1!==d&&-1!==_)return{...e,[l]:(0,o.Z)(c,d,_)};break}case"FEED_ITEMS_REMOVED":{const{payload:{feedType:i,feedId:n,inverseSelection:o,itemType:r,itemIds:s=[]}}=t,a=`${i}:${n}`,l=e[a]||[];if(l&&l.length>0&&(i===u.SECTION_PINS||i===u.BOARD_PINS)){const t=l.filter((e=>{const t=s.includes(e.id);return!(e.type===r&&(o&&!t||!o&&t))})),i=!!t.find((e=>"pin"===e.type));return{...e,[a]:i?t:[]}}if(l&&l.length>0&&i===u.BOARD_SECTIONS){const t=l.filter((e=>{const t=s.includes(e.id);return!(e.type===r&&t)}));return{...e,[a]:t}}if(l&&l.length>0&&(i===u.AGGREGATED_COMMENTS||i===u.BOARDLESS_PINS||i===u.CREATED_TAB_ACTIVITY_PINS_FEED||i===u.CREATED_TAB_STORY_PINS_FEED||i===u.UNIFIED_COMMENTS||i===u.USER_DID_IT_DATA||i===u.STORY_PIN_DATA)){const t=l.filter((e=>{const t=s.includes(e.id);return!(e.type===r&&t)}));return{...e,[a]:t}}break}case"FEED_ITEMS_ADDED":{const{payload:{feedType:i,feedId:n,itemType:o,itemIds:r=[],prepend:s}}=t,a=`${i}:${n}`,l=e[a]||[];if(l&&(i===u.SECTION_PINS||i===u.BOARD_PINS||i===u.BOARDLESS_PINS)){const t=r.map((e=>({id:e,type:o})));let i=0;"story"===(l[0]||{}).type&&(i=1),"story"===(l[1]||{}).type&&(i=2);const n=[...l.slice(0,i),...t,...l.slice(i)];return{...e,[a]:n}}if(l&&i===u.BOARD_SECTIONS){const t=[...r].reverse().map((e=>({id:e,type:"board_section"}))),i=l?[...t,...l]:[...t];return{...e,[a]:i}}if(i===u.AGGREGATED_COMMENTS||i===u.AGGREGATED_COMMENT_REPLIES||i===u.CREATED_TAB_ACTIVITY_PINS_FEED||i===u.CREATED_TAB_STORY_PINS_FEED||i===u.UNIFIED_COMMENTS){const t=r.map((e=>({id:e,type:o}))),i=l?[...s?t:l,...s?l:t]:t;return{...e,[a]:i}}if(i===u.USER_DID_IT_DATA){const t=r.map((e=>({id:e,type:o}))),i=l?[...t,...l]:t;return{...e,[a]:i}}break}case"FEED_INVALIDATE":{const{payload:{feedType:i,feedId:n}}=t,o=`${i}:${n}`;if(e[o]||[])return{...e,[o]:null};break}case l.MU:{const{payload:{id:i,items:n,options:o}}=t,r=e[i];if(r){let t;return t=o.isPrepend?r[0]&&"story"===r[0].type?[].concat(r[0],n,r.slice(1)):n.concat(r):r.concat(n),{...e,[i]:t}}return{...e,[i]:n}}case l.l_:{const{payload:{pinId:i}}=t;return y(e,"pin",i)}case"BOARD_ARCHIVE":{const{payload:{boardId:i,username:n}}=t,o=`profile-boards:${null!=n?n:""}`;if(e[o])return{...e,[o]:e[o].filter((e=>e.id!==i))};break}case"BOARD_UNARCHIVE":{const{payload:{boardId:i}}=t,n="archived-boards";if(e[n])return{...e,[n]:e[n].filter((e=>e.id!==i))};break}case"BOARD_DELETE":{const{payload:{boardId:i}}=t;return y(e,"board",i)}case l.Yn:{const{payload:{boardSectionId:i}}=t;return y(e,"boardsection",i)}case l.u2:{const{payload:{source:i,target:n,pinIds:o,userId:r}}=t,s=i.boardlessPins&&r&&`boardless-pins:${r}`||i.boardId&&g(i.boardId,i.sectionId),a=g(n.boardId,n.sectionId);return o.reduce(((e,t)=>m(e,{pinId:t,oldFeedId:s,newFeedId:a})),e)}case l.Fl:{const{payload:{source:i,target:n,excludePinIds:o}}=t,r=g(i.boardId,i.sectionId),s=g(n.boardId,n.sectionId),a={...e,[r]:o.map((e=>({type:"pin",id:e})))};return delete a[s],a}case l.fz:{const{payload:{pinId:i,boardId:n,section:o,source:{boardId:r,sectionId:s}}}=t,a=g(r,s),l=g(n,null==o?void 0:o.id);return m(e,{pinId:i,oldFeedId:a,newFeedId:l})}case d.AF:if(_.has(t.payload.resource)){const i=t.payload.response.resource_response.data,n=i.board;let o;if("quick_saves"===n.layout)o=`boardless-pins:${t.payload.options.user_id}`;else{const e=t.payload.options.section;o=e?`board-section-pins:${e}`:`boardfeed:${n.id}`}if(e[o]){const t={...e},n={id:i.id,type:"pin",trackingParams:null==i?void 0:i.tracking_params};return t[o]=[n].concat(e[o]),t}}if("BoardSectionResource"===t.payload.resource&&t.payload.normalizedResponse){const i=t.payload.normalizedResponse.result,n=`board-sections:${t.payload.normalizedResponse.entities.boardsections[i].board}`;if(e[n]){const t={...e},o={id:i,type:"boardsection"};return t[n]=[o].concat(e[n]),t}}if("Agg2regatedCommentResource"===t.payload.resource&&t.payload.normalizedResponse){const i={id:t.payload.normalizedResponse.result,type:"aggregatedcomment"},n=["aggregated-comments","unified-comments"];let o={...e};for(const r of n){const n=`${r}:${t.payload.options.objectId}`;e[n]&&(o={...o,[n]:[i].concat(o[n])})}return o}if("AggregatedCommentReplyResource"===t.payload.resource&&t.payload.normalizedResponse){const i=`aggregated-comment-replies:${t.payload.options.objectId}`;return{...e,[i]:[...e[i]||[],{id:t.payload.normalizedResponse.result,type:"aggregatedComment"}]}}if("ReactionsResource"===t.payload.resource&&t.payload.normalizedResponse){const{reaction_pin_id:i}=t.payload.options;if("reaction"===t.payload.options.action_type){const n=`reactions:${t.payload.options.pin_id}`,o={...e},r={id:`${i}:${t.payload.options.user_id}`,type:"reaction",trackingParams:void 0};return o[n]=[r].concat(e[n]),o}if("unreaction"===t.payload.options.action_type){const n=`${i}:${t.payload.options.user_id}`;return y(e,"reaction",n)}}break;case l.ZX:{const{payload:{storyId:i}}=t;return y(e,"story",i)}}return e}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/AuthDesktopPinRep-9cae7c52117334a6.mjs.map